; generated by ARM C/C++ Compiler, 5.03 [Build 76]
; commandline ArmCC [--c99 --list --debug -c --asm --interleave -o.\obj\radardrv.o --asm_dir=.\lst\ --list_dir=.\lst\ --depend=.\obj\radardrv.d --cpu=ARM926EJ-S --apcs=interwork -O0 -I.\src -I..\..\common\src\BSP\Driver\Include -I..\..\common\src\FreeRTOS -I..\..\common\src\FreeRTOS\Source\include -I..\..\common\src\FreeRTOS\Source\portable\RVDS\ARM926EJ-S -I..\..\common\src\BSP\ThirdParty\FATFS\src -I.\src\userdrv -I.\src\syshal -I.\src\user -I.\src\userdrv\vl53l0x\core\inc -I.\src\userdrv\vl53l0x\platform\inc -I.\src\syshal\json -I.\src\syshal\modemlib -I..\..\common\src\BSP\ThirdParty\yaffs2 -I..\..\common\src\BSP\ThirdParty\yaffs2\include -I..\..\common\src\BSP\ThirdParty\yaffs2\include\asm -I..\..\common\src\BSP\ThirdParty\yaffs2\include\linux -I.\src\syshal\yaffs2 -I..\..\common\src\BSP\Library\SmartcardLib\Include -I.\src\syshal\cardlib -I.\src\syshal\cardlog -I.\src\syshal\blk -I..\..\common\src\BSP\Library\USB_HOST\Inc -I..\..\common\src\BSP\Library\USB_HOST\Inc\usb_uvc -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\Toshiba -DEPM_PROJECT -DCONFIG_YAFFS_DIRECT -DCONFIG_YAFFS_SHORT_NAMES_IN_RAM -DCONFIG_YAFFS_YAFFS2 -DNO_Y_INLINE -DCONFIG_YAFFS_PROVIDE_DEFS -DCONFIG_YAFFSFS_PROVIDE_VALUES --omf_browse=.\obj\radardrv.crf src\userdrv\radardrv.c]
                          ARM

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_x
                          REQUIRE _printf_longlong_hex
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  radarFlushRxBuffer PROC
;;;295    //}
;;;296    static void radarFlushRxBuffer(int radarIndex)
000000  e92d4010          PUSH     {r4,lr}
;;;297    {
000004  e1a04000          MOV      r4,r0
;;;298        //sysprintf("radarFlushRxBuffer [%d]!!\n", radarIndex);
;;;299        if (pUartInterface[radarIndex]->ioctlFunc(UART_IOC_FLUSH_RX_BUFFER, 0, 0) != 0) {
000008  e59f0240          LDR      r0,|L1.592|
00000c  e7900104          LDR      r0,[r0,r4,LSL #2]
000010  e3a02000          MOV      r2,#0
000014  e1a01002          MOV      r1,r2
000018  e5903018          LDR      r3,[r0,#0x18]
00001c  e3a00019          MOV      r0,#0x19
000020  e12fff33          BLX      r3
000024  e3500000          CMP      r0,#0
000028  0a000002          BEQ      |L1.56|
;;;300            sysprintf("Set RX Flush fail!\n");
00002c  e28f0e22          ADR      r0,|L1.596|
000030  ebfffffe          BL       sysprintf
                  |L1.52|
;;;301            return;
;;;302        }
;;;303    }
000034  e8bd8010          POP      {r4,pc}
                  |L1.56|
000038  e1a00000          MOV      r0,r0
00003c  eafffffc          B        |L1.52|
;;;304    
                          ENDP

                  radarSetPower PROC
;;;305    static void radarSetPower(int radarIndex, BOOL flag)
000040  e92d4070          PUSH     {r4-r6,lr}
;;;306    {
000044  e1a04000          MOV      r4,r0
000048  e1a05001          MOV      r5,r1
;;;307        //terninalPrintf("~[Warning]~ radarSetPower [%d]:%d enter!!\n", radarIndex, flag);    
;;;308        if(flag)
00004c  e3550000          CMP      r5,#0
000050  0a00000d          BEQ      |L1.140|
;;;309        {
;;;310            pUartInterface[radarIndex]->setPowerFunc(TRUE);
000054  e59f01f4          LDR      r0,|L1.592|
000058  e7900104          LDR      r0,[r0,r4,LSL #2]
00005c  e5901010          LDR      r1,[r0,#0x10]
000060  e3a00001          MOV      r0,#1
000064  e12fff31          BLX      r1
;;;311            pUartInterface[radarIndex]->setRS232PowerFunc(TRUE);
000068  e59f01e0          LDR      r0,|L1.592|
00006c  e7900104          LDR      r0,[r0,r4,LSL #2]
000070  e5901014          LDR      r1,[r0,#0x14]
000074  e3a00001          MOV      r0,#1
000078  e12fff31          BLX      r1
;;;312            powerStatus[radarIndex] = TRUE;
00007c  e3a00001          MOV      r0,#1
000080  e59f11e0          LDR      r1,|L1.616|
000084  e7c10004          STRB     r0,[r1,r4]
000088  ea00000c          B        |L1.192|
                  |L1.140|
;;;313            //vTaskDelay(2000/portTICK_RATE_MS);
;;;314        }
;;;315        else
;;;316        {    
;;;317            pUartInterface[radarIndex]->setRS232PowerFunc(FALSE);
00008c  e59f01bc          LDR      r0,|L1.592|
000090  e7900104          LDR      r0,[r0,r4,LSL #2]
000094  e5901014          LDR      r1,[r0,#0x14]
000098  e3a00000          MOV      r0,#0
00009c  e12fff31          BLX      r1
;;;318            pUartInterface[radarIndex]->setPowerFunc(FALSE);
0000a0  e59f01a8          LDR      r0,|L1.592|
0000a4  e7900104          LDR      r0,[r0,r4,LSL #2]
0000a8  e5901010          LDR      r1,[r0,#0x10]
0000ac  e3a00000          MOV      r0,#0
0000b0  e12fff31          BLX      r1
;;;319            powerStatus[radarIndex] = FALSE;
0000b4  e3a00000          MOV      r0,#0
0000b8  e59f11a8          LDR      r1,|L1.616|
0000bc  e7c10004          STRB     r0,[r1,r4]
                  |L1.192|
;;;320        }
;;;321        //terninalPrintf("~~ radarSetPower [%d]:%d exit!!\n", radarIndex, flag);
;;;322    }
0000c0  e8bd8070          POP      {r4-r6,pc}
;;;323    
                          ENDP

                  radarWrite PROC
;;;324    static INT32 radarWrite(int radarIndex, PUINT8 pucBuf, UINT32 uLen)
0000c4  e92d4070          PUSH     {r4-r6,lr}
;;;325    {
0000c8  e1a04000          MOV      r4,r0
0000cc  e1a05001          MOV      r5,r1
0000d0  e1a06002          MOV      r6,r2
;;;326        //sysprintf("--> radarWrite len=%d:[%s] \r\n", uLen, pucBuf); 
;;;327        /* DEBUG RADAR *///terninalPrintf("=>");
;;;328        /* DEBUG RADAR *///for(int i=0;i<uLen;i++)
;;;329        /* DEBUG RADAR *///    terninalPrintf("%02x ",pucBuf[i]);
;;;330        /* DEBUG RADAR *///terninalPrintf("\n");
;;;331        if(pUartInterface[radarIndex] == NULL)
0000d4  e59f0174          LDR      r0,|L1.592|
0000d8  e7900104          LDR      r0,[r0,r4,LSL #2]
0000dc  e3500000          CMP      r0,#0
0000e0  1a000001          BNE      |L1.236|
;;;332        {
;;;333            //sysprintf("radarWrite %d...\r\n", uLen); 
;;;334            return 0 ;   
0000e4  e3a00000          MOV      r0,#0
                  |L1.232|
;;;335        } 
;;;336        return pUartInterface[radarIndex]->writeFunc(pucBuf, uLen);
;;;337    }
0000e8  e8bd8070          POP      {r4-r6,pc}
                  |L1.236|
0000ec  e59f015c          LDR      r0,|L1.592|
0000f0  e7900104          LDR      r0,[r0,r4,LSL #2]     ;336
0000f4  e1a01006          MOV      r1,r6                 ;336
0000f8  e5902004          LDR      r2,[r0,#4]            ;336
0000fc  e1a00005          MOV      r0,r5                 ;336
000100  e12fff32          BLX      r2                    ;336
000104  eafffff7          B        |L1.232|
;;;338    
                          ENDP

                  getHeader PROC
;;;339    static int getHeader(uint8_t* data, int dataLen)
000108  e1a02000          MOV      r2,r0
;;;340    {
;;;341        for(int i = 0; i<(dataLen-1); i++)
00010c  e3a00000          MOV      r0,#0
000110  ea000008          B        |L1.312|
                  |L1.276|
;;;342        {
;;;343            if((data[i] == RADAR_HEADER) && 
000114  e7d23000          LDRB     r3,[r2,r0]
000118  e353007a          CMP      r3,#0x7a
00011c  1a000004          BNE      |L1.308|
;;;344                (data[i+1] == RADAR_HEADER_2))
000120  e2803001          ADD      r3,r0,#1
000124  e7d23003          LDRB     r3,[r2,r3]
000128  e35300a7          CMP      r3,#0xa7
00012c  1a000000          BNE      |L1.308|
                  |L1.304|
;;;345            {
;;;346                //sysprintf("--- getHeader return %d ----\r\n", i);
;;;347                return i;
;;;348            }
;;;349        }
;;;350        return -1;
;;;351    }
000130  e12fff1e          BX       lr
                  |L1.308|
000134  e2800001          ADD      r0,r0,#1              ;341
                  |L1.312|
000138  e2413001          SUB      r3,r1,#1              ;341
00013c  e1530000          CMP      r3,r0                 ;341
000140  cafffff3          BGT      |L1.276|
000144  e3e00000          MVN      r0,#0                 ;350
000148  eafffff8          B        |L1.304|
;;;352    
                          ENDP

                  printfBuffData PROC
;;;353    static void printfBuffData(char* str, uint8_t* data, int len)
00014c  e92d41f0          PUSH     {r4-r8,lr}
;;;354    {
000150  e1a05000          MOV      r5,r0
000154  e1a06001          MOV      r6,r1
000158  e1a07002          MOV      r7,r2
;;;355        int i;
;;;356        terninalPrintf("\r\n %s: len = %d...\r\n", str, len);
00015c  e1a02007          MOV      r2,r7
000160  e1a01005          MOV      r1,r5
000164  e28f0c01          ADR      r0,|L1.620|
000168  ebfffffe          BL       terninalPrintf
;;;357        
;;;358        for(i = 0; i<len; i++)
00016c  e3a04000          MOV      r4,#0
000170  ea00000c          B        |L1.424|
                  |L1.372|
;;;359        { 
;;;360            terninalPrintf("[%02d:0x%02x], ",i, (unsigned char)data[i]);
000174  e7d62004          LDRB     r2,[r6,r4]
000178  e1a01004          MOV      r1,r4
00017c  e28f0c01          ADR      r0,|L1.644|
000180  ebfffffe          BL       terninalPrintf
;;;361            if((i%16) == 15)
000184  e1a01fc4          ASR      r1,r4,#31
000188  e0841e21          ADD      r1,r4,r1,LSR #28
00018c  e1a01241          ASR      r1,r1,#4
000190  e0441201          SUB      r1,r4,r1,LSL #4
000194  e351000f          CMP      r1,#0xf
000198  1a000001          BNE      |L1.420|
;;;362                terninalPrintf("\r\n");
00019c  e28f00f0          ADR      r0,|L1.660|
0001a0  ebfffffe          BL       terninalPrintf
                  |L1.420|
0001a4  e2844001          ADD      r4,r4,#1              ;358
                  |L1.424|
0001a8  e1540007          CMP      r4,r7                 ;358
0001ac  bafffff0          BLT      |L1.372|
;;;363        }
;;;364        terninalPrintf("\r\n");
0001b0  e28f00dc          ADR      r0,|L1.660|
0001b4  ebfffffe          BL       terninalPrintf
;;;365        
;;;366    }
0001b8  e8bd81f0          POP      {r4-r8,pc}
;;;367    
                          ENDP

                  getTitleStr PROC
;;;368    static char* getTitleStr(int index)
0001bc  e1a01000          MOV      r1,r0
;;;369    {
;;;370        switch(index)
0001c0  e3510004          CMP      r1,#4
0001c4  0a000012          BEQ      |L1.532|
0001c8  ca000006          BGT      |L1.488|
0001cc  e3510001          CMP      r1,#1
0001d0  0a000009          BEQ      |L1.508|
0001d4  e3510002          CMP      r1,#2
0001d8  0a000010          BEQ      |L1.544|
0001dc  e3510003          CMP      r1,#3
0001e0  1a000017          BNE      |L1.580|
0001e4  ea000007          B        |L1.520|
                  |L1.488|
0001e8  e3510005          CMP      r1,#5
0001ec  0a00000e          BEQ      |L1.556|
0001f0  e35100ff          CMP      r1,#0xff
0001f4  1a000012          BNE      |L1.580|
0001f8  ea00000e          B        |L1.568|
                  |L1.508|
;;;371        {
;;;372            case RADAR_FEATURE_OCCUPIED:
0001fc  e1a00000          MOV      r0,r0
;;;373                return "OCCUPIED";
000200  e28f0090          ADR      r0,|L1.664|
                  |L1.516|
;;;374            case RADAR_FEATURE_VACUUM:
;;;375                return "VACUUM";
;;;376            case RADAR_FEATURE_VACUUM_UN_STABLED:
;;;377                return "RADAR_FEATURE_VACUUM_UN_STABLED";
;;;378            case RADAR_FEATURE_OCCUPIED_UN_STABLED:
;;;379                return "RADAR_FEATURE_OCCUPIED_UN_STABLED";
;;;380            case RADAR_FEATURE_INIT:
;;;381                return "INIT";
;;;382            case RADAR_FEATURE_FAIL:
;;;383                return "FAIL";
;;;384            default:
;;;385                return "UNKNOWN";
;;;386    
;;;387        }
;;;388    }
000204  e12fff1e          BX       lr
                  |L1.520|
000208  e1a00000          MOV      r0,r0                 ;374
00020c  e28f0090          ADR      r0,|L1.676|
000210  eafffffb          B        |L1.516|
                  |L1.532|
000214  e1a00000          MOV      r0,r0                 ;376
000218  e28f008c          ADR      r0,|L1.684|
00021c  eafffff8          B        |L1.516|
                  |L1.544|
000220  e1a00000          MOV      r0,r0                 ;378
000224  e28f00a0          ADR      r0,|L1.716|
000228  eafffff5          B        |L1.516|
                  |L1.556|
00022c  e1a00000          MOV      r0,r0                 ;380
000230  e28f00b8          ADR      r0,|L1.752|
000234  eafffff2          B        |L1.516|
                  |L1.568|
000238  e1a00000          MOV      r0,r0                 ;382
00023c  e28f00b4          ADR      r0,|L1.760|
000240  eaffffef          B        |L1.516|
                  |L1.580|
000244  e1a00000          MOV      r0,r0                 ;384
000248  e28f00b0          ADR      r0,|L1.768|
00024c  eaffffec          B        |L1.516|
                  |L1.592|
                          DCD      pUartInterface
                  |L1.596|
000254  53657420          DCB      "Set RX Flush fail!\n",0
000258  52582046
00025c  6c757368
000260  20666169
000264  6c210a00
                  |L1.616|
                          DCD      powerStatus
                  |L1.620|
00026c  0d0a2025          DCB      "\r\n %s: len = %d...\r\n",0
000270  733a206c
000274  656e203d
000278  2025642e
00027c  2e2e0d0a
000280  00      
000281  00                DCB      0
000282  00                DCB      0
000283  00                DCB      0
                  |L1.644|
000284  5b253032          DCB      "[%02d:0x%02x], ",0
000288  643a3078
00028c  25303278
000290  5d2c2000
                  |L1.660|
000294  0d0a00            DCB      "\r\n",0
000297  00                DCB      0
                  |L1.664|
000298  4f434355          DCB      "OCCUPIED",0
00029c  50494544
0002a0  00      
0002a1  00                DCB      0
0002a2  00                DCB      0
0002a3  00                DCB      0
                  |L1.676|
0002a4  56414355          DCB      "VACUUM",0
0002a8  554d00  
0002ab  00                DCB      0
                  |L1.684|
0002ac  52414441          DCB      "RADAR_FEATURE_VACUUM_UN_STABLED",0
0002b0  525f4645
0002b4  41545552
0002b8  455f5641
0002bc  4355554d
0002c0  5f554e5f
0002c4  53544142
0002c8  4c454400
                  |L1.716|
0002cc  52414441          DCB      "RADAR_FEATURE_OCCUPIED_UN_STABLED",0
0002d0  525f4645
0002d4  41545552
0002d8  455f4f43
0002dc  43555049
0002e0  45445f55
0002e4  4e5f5354
0002e8  41424c45
0002ec  4400    
0002ee  00                DCB      0
0002ef  00                DCB      0
                  |L1.752|
0002f0  494e4954          DCB      "INIT",0
0002f4  00      
0002f5  00                DCB      0
0002f6  00                DCB      0
0002f7  00                DCB      0
                  |L1.760|
0002f8  4641494c          DCB      "FAIL",0
0002fc  00      
0002fd  00                DCB      0
0002fe  00                DCB      0
0002ff  00                DCB      0
                  |L1.768|
000300  554e4b4e          DCB      "UNKNOWN",0
000304  4f574e00
                          ENDP

                  getMaterialStr PROC
;;;389    
;;;390    static char* getMaterialStr(int index)
000308  e1a01000          MOV      r1,r0
;;;391    {
;;;392        /*
;;;393        Material :
;;;394            0x00: Empty
;;;395            0x01: Metal
;;;396            0x02: Wood
;;;397            0x03: Water
;;;398            0x04: Paper Cartoon
;;;399        */
;;;400        switch(index)
00030c  e3510005          CMP      r1,#5
000310  308ff101          ADDCC    pc,pc,r1,LSL #2
000314  ea000013          B        |L1.872|
000318  ea000003          B        |L1.812|
00031c  ea000005          B        |L1.824|
000320  ea000007          B        |L1.836|
000324  ea000009          B        |L1.848|
000328  ea00000b          B        |L1.860|
                  |L1.812|
;;;401        {
;;;402            case 0:
00032c  e1a00000          MOV      r0,r0
;;;403                return " [Empty] ";
000330  e28f0f96          ADR      r0,|L1.1424|
                  |L1.820|
;;;404            case 1:
;;;405                return " [Metal] ";
;;;406            case 2:
;;;407                return " [Wood] ";
;;;408            case 3:
;;;409                return " [Water] ";
;;;410            case 4:
;;;411                return " [Paper Cartoon] ";
;;;412            default:
;;;413                return " [UNKNOWN] ";
;;;414    
;;;415        }
;;;416        
;;;417    }
000334  e12fff1e          BX       lr
                  |L1.824|
000338  e1a00000          MOV      r0,r0                 ;404
00033c  e28f0f96          ADR      r0,|L1.1436|
000340  eafffffb          B        |L1.820|
                  |L1.836|
000344  e1a00000          MOV      r0,r0                 ;406
000348  e28f0f96          ADR      r0,|L1.1448|
00034c  eafffff8          B        |L1.820|
                  |L1.848|
000350  e1a00000          MOV      r0,r0                 ;408
000354  e28f0f96          ADR      r0,|L1.1460|
000358  eafffff5          B        |L1.820|
                  |L1.860|
00035c  e1a00000          MOV      r0,r0                 ;410
000360  e28f0f96          ADR      r0,|L1.1472|
000364  eafffff2          B        |L1.820|
                  |L1.872|
000368  e1a00000          MOV      r0,r0                 ;412
00036c  e28f0e26          ADR      r0,|L1.1492|
000370  eaffffef          B        |L1.820|
;;;418    
                          ENDP

                  getObjectStr PROC
;;;419    static char* getObjectStr(int index)
000374  e1a01000          MOV      r1,r0
;;;420    {
;;;421        /*
;;;422        2. Object
;;;423            0x00: Empty
;;;424            0x01: Car
;;;425            0x02: Motor Bike
;;;426            0x03: Motor Cycle
;;;427            0x04: Human Beings
;;;428        */
;;;429        switch(index)
000378  e3510005          CMP      r1,#5
00037c  308ff101          ADDCC    pc,pc,r1,LSL #2
000380  ea000013          B        |L1.980|
000384  ea000003          B        |L1.920|
000388  ea000005          B        |L1.932|
00038c  ea000007          B        |L1.944|
000390  ea000009          B        |L1.956|
000394  ea00000b          B        |L1.968|
                  |L1.920|
;;;430        {
;;;431            case 0:
000398  e1a00000          MOV      r0,r0
;;;432                return " [Empty] ";
00039c  e28f0f7b          ADR      r0,|L1.1424|
                  |L1.928|
;;;433            case 1:
;;;434                return " [Car] ";
;;;435            case 2:
;;;436                return " [Motor Bike] ";
;;;437            case 3:
;;;438                return " [Motor Cycle] ";
;;;439            case 4:
;;;440                return " [Human Beings] ";
;;;441            default:
;;;442                return " [UNKNOWN] ";
;;;443    
;;;444        }
;;;445        
;;;446    }
0003a0  e12fff1e          BX       lr
                  |L1.932|
0003a4  e1a00000          MOV      r0,r0                 ;433
0003a8  e28f0e23          ADR      r0,|L1.1504|
0003ac  eafffffb          B        |L1.928|
                  |L1.944|
0003b0  e1a00000          MOV      r0,r0                 ;435
0003b4  e28f0f8b          ADR      r0,|L1.1512|
0003b8  eafffff8          B        |L1.928|
                  |L1.956|
0003bc  e1a00000          MOV      r0,r0                 ;437
0003c0  e28f0e23          ADR      r0,|L1.1528|
0003c4  eafffff5          B        |L1.928|
                  |L1.968|
0003c8  e1a00000          MOV      r0,r0                 ;439
0003cc  e28f0f8d          ADR      r0,|L1.1544|
0003d0  eafffff2          B        |L1.928|
                  |L1.980|
0003d4  e1a00000          MOV      r0,r0                 ;441
0003d8  e28f0f7d          ADR      r0,|L1.1492|
0003dc  eaffffef          B        |L1.928|
;;;447    
                          ENDP

                  checkLowPowerCounterFun PROC
;;;471    #endif
;;;472    static int checkLowPowerCounterFun(int radarIndex)
0003e0  e92d4070          PUSH     {r4-r6,lr}
;;;473    {
0003e4  e1a04000          MOV      r4,r0
;;;474        int returnVal;
;;;475        if(lowPowerCounter[radarIndex] >= (checkLowPowerStableCounter[radarIndex] -1))
0003e8  e59f022c          LDR      r0,|L1.1564|
0003ec  e7900104          LDR      r0,[r0,r4,LSL #2]
0003f0  e59f1228          LDR      r1,|L1.1568|
0003f4  e7911104          LDR      r1,[r1,r4,LSL #2]
0003f8  e2411001          SUB      r1,r1,#1
0003fc  e1500001          CMP      r0,r1
000400  ba000001          BLT      |L1.1036|
;;;476        {
;;;477            returnVal = RADAR_FEATURE_OCCUPIED;
000404  e3a05001          MOV      r5,#1
000408  ea00000c          B        |L1.1088|
                  |L1.1036|
;;;478        }
;;;479        else
;;;480        {
;;;481            lowPowerCounter[radarIndex]++;
00040c  e59f0208          LDR      r0,|L1.1564|
000410  e7900104          LDR      r0,[r0,r4,LSL #2]
000414  e2800001          ADD      r0,r0,#1
000418  e59f11fc          LDR      r1,|L1.1564|
00041c  e7810104          STR      r0,[r1,r4,LSL #2]
;;;482            returnVal = RADAR_FEATURE_OCCUPIED_UN_STABLED;
000420  e3a05002          MOV      r5,#2
;;;483            sysprintf(" [INFO] -- checkLowPowerCounterFun -> [OCCUPIED COUNTER:RADAR -%d->> < %d vs %d>  --\r\n", radarIndex, lowPowerCounter[radarIndex], checkLowPowerStableCounter[radarIndex]); 
000424  e59f01f4          LDR      r0,|L1.1568|
000428  e7903104          LDR      r3,[r0,r4,LSL #2]
00042c  e2810000          ADD      r0,r1,#0
000430  e7902104          LDR      r2,[r0,r4,LSL #2]
000434  e1a01004          MOV      r1,r4
000438  e59f01e4          LDR      r0,|L1.1572|
00043c  ebfffffe          BL       sysprintf
                  |L1.1088|
;;;484        }
;;;485        return returnVal;
000440  e1a00005          MOV      r0,r5
;;;486    }
000444  e8bd8070          POP      {r4-r6,pc}
;;;487    
                          ENDP

                  radarRead PROC
;;;488    static INT32 radarRead(int radarIndex, PUINT8 pucBuf, UINT32 uLen)
000448  e92d41f0          PUSH     {r4-r8,lr}
;;;489    {
00044c  e1a04000          MOV      r4,r0
000450  e1a05001          MOV      r5,r1
000454  e1a06002          MOV      r6,r2
;;;490        INT32 reVal = 0;
000458  e3a07000          MOV      r7,#0
;;;491        if(pUartInterface == NULL)
00045c  e51f0214          LDR      r0,|L1.592|
000460  e3500000          CMP      r0,#0
000464  1a000001          BNE      |L1.1136|
;;;492            return 0 ;
000468  e3a00000          MOV      r0,#0
                  |L1.1132|
;;;493        reVal = pUartInterface[radarIndex]->readFunc(pucBuf, uLen);
;;;494        /*
;;;495        if(calibrationFlag[radarIndex] == TRUE)
;;;496        {
;;;497            //sysprintf("[%d}", reVal); 
;;;498            char debugStr[64];
;;;499            sprintf(debugStr, "radarRead[%d]", radarIndex);
;;;500            if(reVal != 0)
;;;501            {
;;;502                printfBuffData(debugStr, pucBuf, reVal);
;;;503            }
;;;504            else
;;;505            {
;;;506                terninalPrintf("|");
;;;507            }
;;;508        }*/
;;;509        return reVal;
;;;510    }
00046c  e8bd81f0          POP      {r4-r8,pc}
                  |L1.1136|
000470  e51f0228          LDR      r0,|L1.592|
000474  e7900104          LDR      r0,[r0,r4,LSL #2]     ;493
000478  e1a01006          MOV      r1,r6                 ;493
00047c  e5902008          LDR      r2,[r0,#8]            ;493
000480  e1a00005          MOV      r0,r5                 ;493
000484  e12fff32          BLX      r2                    ;493
000488  e1a07000          MOV      r7,r0                 ;493
00048c  e1a00007          MOV      r0,r7                 ;509
000490  eafffff5          B        |L1.1132|
;;;511    
                          ENDP

                  hwInit PROC
;;;512    static BOOL hwInit(void)
000494  e3a0020b          MOV      r0,#0xb0000000
;;;513    {
;;;514        outpw(REG_CLK_PCLKEN0,inpw(REG_CLK_PCLKEN0) | (1<<3)); //Enable GPIO engin clock.   
000498  e5900218          LDR      r0,[r0,#0x218]
00049c  e3800008          ORR      r0,r0,#8
0004a0  e3a0120b          MOV      r1,#0xb0000000
0004a4  e5810218          STR      r0,[r1,#0x218]
;;;515        return TRUE;
0004a8  e3a00001          MOV      r0,#1
;;;516    }
0004ac  e12fff1e          BX       lr
;;;517    
                          ENDP

                  swInit PROC
;;;518    static BOOL swInit(void)
0004b0  e3a00001          MOV      r0,#1
;;;519    {   
;;;520        //xRunningSemaphore  = xSemaphoreCreateMutex(); 
;;;521        return TRUE;
;;;522    }
0004b4  e12fff1e          BX       lr
;;;523    
                          ENDP

                  initialRingBufFun PROC
;;;527    
;;;528    static void initialRingBufFun(void){
0004b8  e92d4010          PUSH     {r4,lr}
;;;529        int i;
;;;530        for(i=0;i<RING_FIFO_DEVICE;i++)
0004bc  e3a04000          MOV      r4,#0
0004c0  ea000004          B        |L1.1240|
                  |L1.1220|
;;;531            memset(RingFifoPtr[i],0x00,sizeof(RingfifoStruct));
0004c4  e59f115c          LDR      r1,|L1.1576|
0004c8  e7910104          LDR      r0,[r1,r4,LSL #2]
0004cc  e59f1158          LDR      r1,|L1.1580|
0004d0  ebfffffe          BL       __aeabi_memclr
0004d4  e2844001          ADD      r4,r4,#1              ;530
                  |L1.1240|
0004d8  e3540002          CMP      r4,#2                 ;530
0004dc  bafffff8          BLT      |L1.1220|
;;;532    }
0004e0  e8bd8010          POP      {r4,pc}
;;;533    
                          ENDP

                  SaveRingBufFun PROC
;;;534    static int SaveRingBufFun(int bufIndex,uint8_t* Buff,int size){
0004e4  e92d4070          PUSH     {r4-r6,lr}
0004e8  e1a03000          MOV      r3,r0
0004ec  e1a0c001          MOV      r12,r1
;;;535       
;;;536        int i;
;;;537        for(i=0;i<size;i++)
0004f0  e3a01000          MOV      r1,#0
0004f4  ea00000f          B        |L1.1336|
                  |L1.1272|
;;;538            RingFifoPtr[bufIndex]->Buff[ (RingFifoPtr[bufIndex]->SaveIndex + i) % RING_BUFFER_SIZE ] = Buff[i];
0004f8  e7dc4001          LDRB     r4,[r12,r1]
0004fc  e59f5124          LDR      r5,|L1.1576|
000500  e7955103          LDR      r5,[r5,r3,LSL #2]
000504  e2856b01          ADD      r6,r5,#0x400
000508  e1d650d1          LDRSB    r5,[r6,#1]
00050c  e5d66000          LDRB     r6,[r6,#0]
000510  e1865405          ORR      r5,r6,r5,LSL #8
000514  e0850001          ADD      r0,r5,r1
000518  e1a05fc0          ASR      r5,r0,#31
00051c  e0805b25          ADD      r5,r0,r5,LSR #22
000520  e1a05545          ASR      r5,r5,#10
000524  e0405505          SUB      r5,r0,r5,LSL #10
000528  e59f60f8          LDR      r6,|L1.1576|
00052c  e7966103          LDR      r6,[r6,r3,LSL #2]
000530  e7c64005          STRB     r4,[r6,r5]
000534  e2811001          ADD      r1,r1,#1              ;537
                  |L1.1336|
000538  e1510002          CMP      r1,r2                 ;537
00053c  baffffed          BLT      |L1.1272|
;;;539            
;;;540        RingFifoPtr[bufIndex]->SaveIndex = ( RingFifoPtr[bufIndex]->SaveIndex + size ) % RING_BUFFER_SIZE;
000540  e59f40e0          LDR      r4,|L1.1576|
000544  e7944103          LDR      r4,[r4,r3,LSL #2]
000548  e2845b01          ADD      r5,r4,#0x400
00054c  e1d540d1          LDRSB    r4,[r5,#1]
000550  e5d55000          LDRB     r5,[r5,#0]
000554  e1854404          ORR      r4,r5,r4,LSL #8
000558  e0840002          ADD      r0,r4,r2
00055c  e1a04fc0          ASR      r4,r0,#31
000560  e0804b24          ADD      r4,r0,r4,LSR #22
000564  e1a04544          ASR      r4,r4,#10
000568  e0404504          SUB      r4,r0,r4,LSL #10
00056c  e1a04804          LSL      r4,r4,#16
000570  e1a04844          ASR      r4,r4,#16
000574  e59f50ac          LDR      r5,|L1.1576|
000578  e7955103          LDR      r5,[r5,r3,LSL #2]
00057c  e5c54400          STRB     r4,[r5,#0x400]
000580  e1a04424          LSR      r4,r4,#8
000584  e5c54401          STRB     r4,[r5,#0x401]
;;;541        
;;;542        return TRUE;
000588  e3a00001          MOV      r0,#1
;;;543    }
00058c  e8bd8070          POP      {r4-r6,pc}
                  |L1.1424|
000590  205b456d          DCB      " [Empty] ",0
000594  7074795d
000598  2000    
00059a  00                DCB      0
00059b  00                DCB      0
                  |L1.1436|
00059c  205b4d65          DCB      " [Metal] ",0
0005a0  74616c5d
0005a4  2000    
0005a6  00                DCB      0
0005a7  00                DCB      0
                  |L1.1448|
0005a8  205b576f          DCB      " [Wood] ",0
0005ac  6f645d20
0005b0  00      
0005b1  00                DCB      0
0005b2  00                DCB      0
0005b3  00                DCB      0
                  |L1.1460|
0005b4  205b5761          DCB      " [Water] ",0
0005b8  7465725d
0005bc  2000    
0005be  00                DCB      0
0005bf  00                DCB      0
                  |L1.1472|
0005c0  205b5061          DCB      " [Paper Cartoon] ",0
0005c4  70657220
0005c8  43617274
0005cc  6f6f6e5d
0005d0  2000    
0005d2  00                DCB      0
0005d3  00                DCB      0
                  |L1.1492|
0005d4  205b554e          DCB      " [UNKNOWN] ",0
0005d8  4b4e4f57
0005dc  4e5d2000
                  |L1.1504|
0005e0  205b4361          DCB      " [Car] ",0
0005e4  725d2000
                  |L1.1512|
0005e8  205b4d6f          DCB      " [Motor Bike] ",0
0005ec  746f7220
0005f0  42696b65
0005f4  5d2000  
0005f7  00                DCB      0
                  |L1.1528|
0005f8  205b4d6f          DCB      " [Motor Cycle] ",0
0005fc  746f7220
000600  4379636c
000604  655d2000
                  |L1.1544|
000608  205b4875          DCB      " [Human Beings] ",0
00060c  6d616e20
000610  4265696e
000614  67735d20
000618  00      
000619  00                DCB      0
00061a  00                DCB      0
00061b  00                DCB      0
                  |L1.1564|
                          DCD      lowPowerCounter
                  |L1.1568|
                          DCD      checkLowPowerStableCounter
                  |L1.1572|
                          DCD      ||.constdata||+0x8
                  |L1.1576|
                          DCD      RingFifoPtr
                  |L1.1580|
                          DCD      0x00000404
                          ENDP

                  ReadRingBufFun PROC
;;;545    
;;;546    static int ReadRingBufFun(int bufIndex,uint8_t* Buff){
000630  e92d4030          PUSH     {r4,r5,lr}
000634  e1a02000          MOV      r2,r0
000638  e1a0c001          MOV      r12,r1
;;;547        
;;;548    
;;;549        int i;
;;;550        short size;
;;;551        if( RingFifoPtr[bufIndex]->SaveIndex == RingFifoPtr[bufIndex]->ReadIndex )
00063c  e51f001c          LDR      r0,|L1.1576|
000640  e7900102          LDR      r0,[r0,r2,LSL #2]
000644  e2804b01          ADD      r4,r0,#0x400
000648  e1d400d1          LDRSB    r0,[r4,#1]
00064c  e5d44000          LDRB     r4,[r4,#0]
000650  e1840400          ORR      r0,r4,r0,LSL #8
000654  e51f4034          LDR      r4,|L1.1576|
000658  e7944102          LDR      r4,[r4,r2,LSL #2]
00065c  e2845b01          ADD      r5,r4,#0x400
000660  e1d540d3          LDRSB    r4,[r5,#3]
000664  e5d55002          LDRB     r5,[r5,#2]
000668  e1854404          ORR      r4,r5,r4,LSL #8
00066c  e1500004          CMP      r0,r4
000670  1a000001          BNE      |L1.1660|
;;;552            return -1;
000674  e3e00000          MVN      r0,#0
                  |L1.1656|
;;;553        else{
;;;554            size = RingFifoPtr[bufIndex]->SaveIndex - RingFifoPtr[bufIndex]->ReadIndex;
;;;555            if(size < 0)
;;;556                size += RING_BUFFER_SIZE;
;;;557            for(i=0;i<size;i++)
;;;558            {
;;;559                Buff[i] = RingFifoPtr[bufIndex]->Buff[ (RingFifoPtr[bufIndex]->ReadIndex + i) % RING_BUFFER_SIZE ];
;;;560                /*
;;;561                if(size < 5)
;;;562                {
;;;563                terninalPrintf("size = ");
;;;564                for(int i=0;i<size;i++)
;;;565                    terninalPrintf("%02x ",RingFifoPtr[bufIndex]->Buff[ (RingFifoPtr[bufIndex]->ReadIndex + i) % RING_BUFFER_SIZE ]);    
;;;566                terninalPrintf("\r\n");
;;;567                }
;;;568                */
;;;569            }
;;;570    
;;;571            return size;
;;;572        }
;;;573    }
000678  e8bd8030          POP      {r4,r5,pc}
                  |L1.1660|
00067c  e51f005c          LDR      r0,|L1.1576|
000680  e7900102          LDR      r0,[r0,r2,LSL #2]     ;554
000684  e2804b01          ADD      r4,r0,#0x400          ;554
000688  e5d00401          LDRB     r0,[r0,#0x401]        ;554
00068c  e5d44000          LDRB     r4,[r4,#0]            ;554
000690  e1844400          ORR      r4,r4,r0,LSL #8       ;554
000694  e51f0074          LDR      r0,|L1.1576|
000698  e7900102          LDR      r0,[r0,r2,LSL #2]     ;554
00069c  e2805b01          ADD      r5,r0,#0x400          ;554
0006a0  e5d00403          LDRB     r0,[r0,#0x403]        ;554
0006a4  e5d55002          LDRB     r5,[r5,#2]            ;554
0006a8  e1850400          ORR      r0,r5,r0,LSL #8       ;554
0006ac  e0440000          SUB      r0,r4,r0              ;554
0006b0  e1a03800          LSL      r3,r0,#16             ;554
0006b4  e1a03843          ASR      r3,r3,#16             ;554
0006b8  e3530000          CMP      r3,#0                 ;555
0006bc  aa000002          BGE      |L1.1740|
0006c0  e2830b01          ADD      r0,r3,#0x400          ;556
0006c4  e1a00800          LSL      r0,r0,#16             ;556
0006c8  e1a03840          ASR      r3,r0,#16             ;556
                  |L1.1740|
0006cc  e3a01000          MOV      r1,#0                 ;557
0006d0  ea00000f          B        |L1.1812|
                  |L1.1748|
0006d4  e51f40b4          LDR      r4,|L1.1576|
0006d8  e7944102          LDR      r4,[r4,r2,LSL #2]     ;559
0006dc  e2845b01          ADD      r5,r4,#0x400          ;559
0006e0  e1d540d3          LDRSB    r4,[r5,#3]            ;559
0006e4  e5d55002          LDRB     r5,[r5,#2]            ;559
0006e8  e1854404          ORR      r4,r5,r4,LSL #8       ;559
0006ec  e0840001          ADD      r0,r4,r1              ;559
0006f0  e1a04fc0          ASR      r4,r0,#31             ;559
0006f4  e0804b24          ADD      r4,r0,r4,LSR #22      ;559
0006f8  e1a04544          ASR      r4,r4,#10             ;559
0006fc  e0404504          SUB      r4,r0,r4,LSL #10      ;559
000700  e51f50e0          LDR      r5,|L1.1576|
000704  e7955102          LDR      r5,[r5,r2,LSL #2]     ;559
000708  e7d54004          LDRB     r4,[r5,r4]            ;559
00070c  e7cc4001          STRB     r4,[r12,r1]           ;559
000710  e2811001          ADD      r1,r1,#1              ;557
                  |L1.1812|
000714  e1510003          CMP      r1,r3                 ;557
000718  baffffed          BLT      |L1.1748|
00071c  e1a00003          MOV      r0,r3                 ;571
000720  eaffffd4          B        |L1.1656|
;;;574    
                          ENDP

                  ShiftReadIndex PROC
;;;575    static void ShiftReadIndex(int bufIndex, int size)
000724  e1a02001          MOV      r2,r1
;;;576    {
;;;577        RingFifoPtr[bufIndex]->ReadIndex = ( RingFifoPtr[bufIndex]->ReadIndex + size ) % RING_BUFFER_SIZE;
000728  e51f3108          LDR      r3,|L1.1576|
00072c  e7933100          LDR      r3,[r3,r0,LSL #2]
000730  e283cb01          ADD      r12,r3,#0x400
000734  e1dc30d3          LDRSB    r3,[r12,#3]
000738  e5dcc002          LDRB     r12,[r12,#2]
00073c  e18c3403          ORR      r3,r12,r3,LSL #8
000740  e0831002          ADD      r1,r3,r2
000744  e1a03fc1          ASR      r3,r1,#31
000748  e0813b23          ADD      r3,r1,r3,LSR #22
00074c  e1a03543          ASR      r3,r3,#10
000750  e0413503          SUB      r3,r1,r3,LSL #10
000754  e1a03803          LSL      r3,r3,#16
000758  e1a03843          ASR      r3,r3,#16
00075c  e51fc13c          LDR      r12,|L1.1576|
000760  e79cc100          LDR      r12,[r12,r0,LSL #2]
000764  e5cc3402          STRB     r3,[r12,#0x402]
000768  e1a03423          LSR      r3,r3,#8
00076c  e5cc3403          STRB     r3,[r12,#0x403]
;;;578    }
000770  e12fff1e          BX       lr
;;;579    
                          ENDP

                  vRadarTask PROC
;;;580    
;;;581    static void vRadarTask(void *pvParameters)
000774  e1a00000          MOV      r0,r0
                  |L1.1912|
;;;582    {
;;;583        INT32 reVal1,reVal2;
;;;584        
;;;585        for(;;)
;;;586        {
;;;587            //BaseType_t reval = xSemaphoreTake(xSemaphore, threadWaitTime);
;;;588            if(RadarPoolingFlag)
000778  e59f0338          LDR      r0,|L1.2744|
00077c  e5d00000          LDRB     r0,[r0,#0]  ; RadarPoolingFlag
000780  e3500000          CMP      r0,#0
000784  0afffffb          BEQ      |L1.1912|
;;;589            {
;;;590                RadarPoolingFlag = FALSE;
000788  e3a00000          MOV      r0,#0
00078c  e59f1324          LDR      r1,|L1.2744|
000790  e5c10000          STRB     r0,[r1,#0]  ; RadarPoolingFlag
;;;591                reVal1 = radarRead(0, (uint8_t*)&radarBuffer[0], RADAR_BUFFER_SIZE);
000794  e3a02b01          MOV      r2,#0x400
000798  e59f131c          LDR      r1,|L1.2748|
00079c  ebfffffe          BL       radarRead
0007a0  e1a05000          MOV      r5,r0
;;;592                reVal2 = radarRead(1, (uint8_t*)&radarBuffer[1], RADAR_BUFFER_SIZE);
0007a4  e3a02b01          MOV      r2,#0x400
0007a8  e59f1310          LDR      r1,|L1.2752|
0007ac  e3a00001          MOV      r0,#1
0007b0  ebfffffe          BL       radarRead
0007b4  e1a04000          MOV      r4,r0
;;;593                //vTaskDelay(10/portTICK_RATE_MS);
;;;594                if(reVal1 > 0)
0007b8  e3550000          CMP      r5,#0
0007bc  da000003          BLE      |L1.2000|
;;;595                {
;;;596                    SaveRingBufFun(0,(uint8_t*)&radarBuffer[0],reVal1);
0007c0  e1a02005          MOV      r2,r5
0007c4  e59f12f0          LDR      r1,|L1.2748|
0007c8  e3a00000          MOV      r0,#0
0007cc  ebfffffe          BL       SaveRingBufFun
                  |L1.2000|
;;;597                }
;;;598                if(reVal2 > 0)
0007d0  e3540000          CMP      r4,#0
0007d4  daffffe7          BLE      |L1.1912|
;;;599                {
;;;600                    SaveRingBufFun(1,(uint8_t*)&radarBuffer[1],reVal2);
0007d8  e1a02004          MOV      r2,r4
0007dc  e59f12dc          LDR      r1,|L1.2752|
0007e0  e3a00001          MOV      r0,#1
0007e4  ebfffffe          BL       SaveRingBufFun
0007e8  eaffffe2          B        |L1.1912|
;;;601                }
;;;602            }
;;;603        }
;;;604    }
;;;605    
                          ENDP

                  RadarTaskCreate PROC
;;;606    void RadarTaskCreate(void)
0007ec  e92d401c          PUSH     {r2-r4,lr}
;;;607    {
;;;608        xTaskCreate(vRadarTask, "vRadarTask", 1024*10, NULL, RADAR_THREAD_PROI, xHandle);
0007f0  e59f02cc          LDR      r0,|L1.2756|
0007f4  e5900000          LDR      r0,[r0,#0]  ; xHandle
0007f8  e3a01002          MOV      r1,#2
0007fc  e3a03000          MOV      r3,#0
000800  e3a02b0a          MOV      r2,#0x2800
000804  e58d1000          STR      r1,[sp,#0]
000808  e28f1fae          ADR      r1,|L1.2760|
00080c  e58d0004          STR      r0,[sp,#4]
000810  e59f02bc          LDR      r0,|L1.2772|
000814  ebfffffe          BL       xTaskCreate
;;;609        //xSemaphore = xSemaphoreCreateBinary();
;;;610        
;;;611    }
000818  e8bd801c          POP      {r2-r4,pc}
;;;612    
                          ENDP

                  RadarTaskDelete PROC
;;;613    void RadarTaskDelete(void)
00081c  e92d4010          PUSH     {r4,lr}
;;;614    {
;;;615        if( xHandle != NULL )
000820  e59f029c          LDR      r0,|L1.2756|
000824  e5900000          LDR      r0,[r0,#0]  ; xHandle
000828  e3500000          CMP      r0,#0
00082c  0a000002          BEQ      |L1.2108|
;;;616        {
;;;617            vTaskDelete( xHandle );
000830  e59f028c          LDR      r0,|L1.2756|
000834  e5900000          LDR      r0,[r0,#0]  ; xHandle
000838  ebfffffe          BL       vTaskDelete
                  |L1.2108|
;;;618        }
;;;619    }
00083c  e8bd8010          POP      {r4,pc}
;;;620    
                          ENDP

                  RadarDrvInit PROC
;;;621    
;;;622    BOOL RadarDrvInit(void)
000840  e92d4010          PUSH     {r4,lr}
;;;623    {
;;;624        sysprintf("RadarDrvInit!!\n");
000844  e28f0fa3          ADR      r0,|L1.2776|
000848  ebfffffe          BL       sysprintf
;;;625        for(int i = 0; i<RADAR_NUM; i++)
00084c  e3a04000          MOV      r4,#0
000850  ea000024          B        |L1.2280|
                  |L1.2132|
;;;626        {
;;;627            pUartInterface[i] = UartGetInterface(uartInterface[i]);
000854  e59f128c          LDR      r1,|L1.2792|
000858  e7d10104          LDRB     r0,[r1,r4,LSL #2]
00085c  ebfffffe          BL       UartGetInterface
000860  e51f1618          LDR      r1,|L1.592|
000864  e7810104          STR      r0,[r1,r4,LSL #2]
;;;628            if(pUartInterface[i] == NULL)
000868  e2810000          ADD      r0,r1,#0
00086c  e7900104          LDR      r0,[r0,r4,LSL #2]
000870  e3500000          CMP      r0,#0
000874  1a000004          BNE      |L1.2188|
;;;629            {
;;;630                sysprintf("RadarDrvInit ERROR (pUartInterface[%d] == NULL)!!\n", i);
000878  e1a01004          MOV      r1,r4
00087c  e28f0f9a          ADR      r0,|L1.2796|
000880  ebfffffe          BL       sysprintf
;;;631                return FALSE;
000884  e3a00000          MOV      r0,#0
                  |L1.2184|
;;;632            }
;;;633            if(pUartInterface[i]->initFunc(115200) == FALSE)
;;;634            {
;;;635                sysprintf("RadarDrvInit ERROR (initFunc[%d] false)!!\n", i);
;;;636                return FALSE;
;;;637            }
;;;638            pUartInterface[i]->setRS232PowerFunc(FALSE);
;;;639            pUartInterface[i]->setPowerFunc(FALSE);
;;;640            
;;;641    //        resetCheckStableStatus(i, checkStableDistData[i], &checkStableDistIndex[i]);
;;;642    //        resetCheckStableStatus(i, checkStablePowerData[i], &checkStablePowerIndex[i]);
;;;643        }
;;;644        radarRead(0, (uint8_t*)&radarBuffer[0], RADAR_BUFFER_SIZE);
;;;645        radarRead(1, (uint8_t*)&radarBuffer[1], RADAR_BUFFER_SIZE);
;;;646        
;;;647        for(int j=0;j<RING_FIFO_DEVICE;j++)
;;;648            RingFifoPtr[j] = &RingFifo[j];
;;;649        
;;;650        initialRingBufFun();
;;;651        
;;;652        if(hwInit() == FALSE)
;;;653        {
;;;654            sysprintf("RadarDrvInit ERROR (hwInit false)!!\n");
;;;655            return FALSE;
;;;656        }
;;;657        if(swInit() == FALSE)
;;;658        {
;;;659            sysprintf("RadarDrvInit ERROR (swInit false)!!\n");
;;;660            return FALSE;
;;;661        }
;;;662        return TRUE;
;;;663    }
000888  e8bd8010          POP      {r4,pc}
                  |L1.2188|
00088c  e51f0644          LDR      r0,|L1.592|
000890  e7900104          LDR      r0,[r0,r4,LSL #2]     ;633
000894  e5901000          LDR      r1,[r0,#0]            ;633
000898  e59f0280          LDR      r0,|L1.2848|
00089c  e12fff31          BLX      r1                    ;633
0008a0  e3500000          CMP      r0,#0                 ;633
0008a4  1a000004          BNE      |L1.2236|
0008a8  e1a01004          MOV      r1,r4                 ;635
0008ac  e28f0e27          ADR      r0,|L1.2852|
0008b0  ebfffffe          BL       sysprintf
0008b4  e3a00000          MOV      r0,#0                 ;636
0008b8  eafffff2          B        |L1.2184|
                  |L1.2236|
0008bc  e51f0674          LDR      r0,|L1.592|
0008c0  e7900104          LDR      r0,[r0,r4,LSL #2]     ;638
0008c4  e5901014          LDR      r1,[r0,#0x14]         ;638
0008c8  e3a00000          MOV      r0,#0                 ;638
0008cc  e12fff31          BLX      r1                    ;638
0008d0  e51f0688          LDR      r0,|L1.592|
0008d4  e7900104          LDR      r0,[r0,r4,LSL #2]     ;639
0008d8  e5901010          LDR      r1,[r0,#0x10]         ;639
0008dc  e3a00000          MOV      r0,#0                 ;639
0008e0  e12fff31          BLX      r1                    ;639
0008e4  e2844001          ADD      r4,r4,#1              ;625
                  |L1.2280|
0008e8  e3540002          CMP      r4,#2                 ;625
0008ec  baffffd8          BLT      |L1.2132|
0008f0  e3a02b01          MOV      r2,#0x400             ;644
0008f4  e59f11c0          LDR      r1,|L1.2748|
0008f8  e3a00000          MOV      r0,#0                 ;644
0008fc  ebfffffe          BL       radarRead
000900  e3a02b01          MOV      r2,#0x400             ;645
000904  e59f11b4          LDR      r1,|L1.2752|
000908  e3a00001          MOV      r0,#1                 ;645
00090c  ebfffffe          BL       radarRead
000910  e3a00000          MOV      r0,#0                 ;647
000914  ea000005          B        |L1.2352|
                  |L1.2328|
000918  e0801400          ADD      r1,r0,r0,LSL #8       ;648
00091c  e59f222c          LDR      r2,|L1.2896|
000920  e0821101          ADD      r1,r2,r1,LSL #2       ;648
000924  e51f2304          LDR      r2,|L1.1576|
000928  e7821100          STR      r1,[r2,r0,LSL #2]     ;648
00092c  e2800001          ADD      r0,r0,#1              ;647
                  |L1.2352|
000930  e3500002          CMP      r0,#2                 ;647
000934  bafffff7          BLT      |L1.2328|
000938  ebfffffe          BL       initialRingBufFun
00093c  ebfffffe          BL       hwInit
000940  e3500000          CMP      r0,#0                 ;652
000944  1a000003          BNE      |L1.2392|
000948  e28f0f81          ADR      r0,|L1.2900|
00094c  ebfffffe          BL       sysprintf
000950  e3a00000          MOV      r0,#0                 ;655
000954  eaffffcb          B        |L1.2184|
                  |L1.2392|
000958  ebfffffe          BL       swInit
00095c  e3500000          CMP      r0,#0                 ;657
000960  1a000003          BNE      |L1.2420|
000964  e28f0e21          ADR      r0,|L1.2940|
000968  ebfffffe          BL       sysprintf
00096c  e3a00000          MOV      r0,#0                 ;660
000970  eaffffc4          B        |L1.2184|
                  |L1.2420|
000974  e3a00001          MOV      r0,#1                 ;662
000978  eaffffc2          B        |L1.2184|
;;;664    
                          ENDP

                  RadarDrvInitEx PROC
;;;665    
;;;666    BOOL RadarDrvInitEx(int radarIndex ,int BaudRate)
00097c  e92d4070          PUSH     {r4-r6,lr}
;;;667    {
000980  e1a04000          MOV      r4,r0
000984  e1a05001          MOV      r5,r1
;;;668        sysprintf("RadarDrvInit!!\n");
000988  e28f0f52          ADR      r0,|L1.2776|
00098c  ebfffffe          BL       sysprintf
;;;669        pUartInterface[radarIndex] = UartGetInterface(uartInterface[radarIndex]);
000990  e59f1150          LDR      r1,|L1.2792|
000994  e7d10104          LDRB     r0,[r1,r4,LSL #2]
000998  ebfffffe          BL       UartGetInterface
00099c  e51f1754          LDR      r1,|L1.592|
0009a0  e7810104          STR      r0,[r1,r4,LSL #2]
;;;670        if(pUartInterface[radarIndex] == NULL)
0009a4  e2810000          ADD      r0,r1,#0
0009a8  e7900104          LDR      r0,[r0,r4,LSL #2]
0009ac  e3500000          CMP      r0,#0
0009b0  1a000004          BNE      |L1.2504|
;;;671        {
;;;672            sysprintf("RadarDrvInit ERROR (pUartInterface[%d] == NULL)!!\n", radarIndex);
0009b4  e1a01004          MOV      r1,r4
0009b8  e28f0f4b          ADR      r0,|L1.2796|
0009bc  ebfffffe          BL       sysprintf
;;;673            return FALSE;
0009c0  e3a00000          MOV      r0,#0
                  |L1.2500|
;;;674        }
;;;675        
;;;676        pUartInterface[radarIndex]->ioctlFunc(80,1,0);
;;;677        if(pUartInterface[radarIndex]->initFunc(BaudRate) == FALSE)
;;;678        {
;;;679            sysprintf("RadarDrvInit ERROR (initFunc[%d] false)!!\n", radarIndex);
;;;680            pUartInterface[radarIndex]->ioctlFunc(80,0,0);
;;;681            return FALSE;
;;;682        }
;;;683        pUartInterface[radarIndex]->ioctlFunc(80,0,0);
;;;684        
;;;685        
;;;686        for(int j=0;j<RING_FIFO_DEVICE;j++)
;;;687            RingFifoPtr[j] = &RingFifo[j];
;;;688        
;;;689        initialRingBufFun();
;;;690        
;;;691        if(hwInit() == FALSE)
;;;692        {
;;;693            sysprintf("RadarDrvInit ERROR (hwInit false)!!\n");
;;;694            return FALSE;
;;;695        }
;;;696        if(swInit() == FALSE)
;;;697        {
;;;698            sysprintf("RadarDrvInit ERROR (swInit false)!!\n");
;;;699            return FALSE;
;;;700        }
;;;701        return TRUE;
;;;702    }
0009c4  e8bd8070          POP      {r4-r6,pc}
                  |L1.2504|
0009c8  e51f0780          LDR      r0,|L1.592|
0009cc  e7900104          LDR      r0,[r0,r4,LSL #2]     ;676
0009d0  e3a02000          MOV      r2,#0                 ;676
0009d4  e3a01001          MOV      r1,#1                 ;676
0009d8  e5903018          LDR      r3,[r0,#0x18]         ;676
0009dc  e3a00050          MOV      r0,#0x50              ;676
0009e0  e12fff33          BLX      r3                    ;676
0009e4  e51f079c          LDR      r0,|L1.592|
0009e8  e7900104          LDR      r0,[r0,r4,LSL #2]     ;677
0009ec  e5901000          LDR      r1,[r0,#0]            ;677
0009f0  e1a00005          MOV      r0,r5                 ;677
0009f4  e12fff31          BLX      r1                    ;677
0009f8  e3500000          CMP      r0,#0                 ;677
0009fc  1a00000b          BNE      |L1.2608|
000a00  e1a01004          MOV      r1,r4                 ;679
000a04  e28f0f46          ADR      r0,|L1.2852|
000a08  ebfffffe          BL       sysprintf
000a0c  e51f07c4          LDR      r0,|L1.592|
000a10  e7900104          LDR      r0,[r0,r4,LSL #2]     ;680
000a14  e3a02000          MOV      r2,#0                 ;680
000a18  e1a01002          MOV      r1,r2                 ;680
000a1c  e5903018          LDR      r3,[r0,#0x18]         ;680
000a20  e3a00050          MOV      r0,#0x50              ;680
000a24  e12fff33          BLX      r3                    ;680
000a28  e3a00000          MOV      r0,#0                 ;681
000a2c  eaffffe4          B        |L1.2500|
                  |L1.2608|
000a30  e51f07e8          LDR      r0,|L1.592|
000a34  e7900104          LDR      r0,[r0,r4,LSL #2]     ;683
000a38  e3a02000          MOV      r2,#0                 ;683
000a3c  e1a01002          MOV      r1,r2                 ;683
000a40  e5903018          LDR      r3,[r0,#0x18]         ;683
000a44  e3a00050          MOV      r0,#0x50              ;683
000a48  e12fff33          BLX      r3                    ;683
000a4c  e3a00000          MOV      r0,#0                 ;686
000a50  ea000005          B        |L1.2668|
                  |L1.2644|
000a54  e0801400          ADD      r1,r0,r0,LSL #8       ;687
000a58  e59f20f0          LDR      r2,|L1.2896|
000a5c  e0821101          ADD      r1,r2,r1,LSL #2       ;687
000a60  e51f2440          LDR      r2,|L1.1576|
000a64  e7821100          STR      r1,[r2,r0,LSL #2]     ;687
000a68  e2800001          ADD      r0,r0,#1              ;686
                  |L1.2668|
000a6c  e3500002          CMP      r0,#2                 ;686
000a70  bafffff7          BLT      |L1.2644|
000a74  ebfffffe          BL       initialRingBufFun
000a78  ebfffffe          BL       hwInit
000a7c  e3500000          CMP      r0,#0                 ;691
000a80  1a000003          BNE      |L1.2708|
000a84  e28f00c8          ADR      r0,|L1.2900|
000a88  ebfffffe          BL       sysprintf
000a8c  e3a00000          MOV      r0,#0                 ;694
000a90  eaffffcb          B        |L1.2500|
                  |L1.2708|
000a94  ebfffffe          BL       swInit
000a98  e3500000          CMP      r0,#0                 ;696
000a9c  1a000003          BNE      |L1.2736|
000aa0  e28f00d4          ADR      r0,|L1.2940|
000aa4  ebfffffe          BL       sysprintf
000aa8  e3a00000          MOV      r0,#0                 ;699
000aac  eaffffc4          B        |L1.2500|
                  |L1.2736|
000ab0  e3a00001          MOV      r0,#1                 ;701
000ab4  eaffffc2          B        |L1.2500|
                  |L1.2744|
                          DCD      RadarPoolingFlag
                  |L1.2748|
                          DCD      radarBuffer
                  |L1.2752|
                          DCD      radarBuffer+0x400
                  |L1.2756|
                          DCD      xHandle
                  |L1.2760|
000ac8  76526164          DCB      "vRadarTask",0
000acc  61725461
000ad0  736b00  
000ad3  00                DCB      0
                  |L1.2772|
                          DCD      vRadarTask
                  |L1.2776|
000ad8  52616461          DCB      "RadarDrvInit!!\n",0
000adc  72447276
000ae0  496e6974
000ae4  21210a00
                  |L1.2792|
                          DCD      uartInterface
                  |L1.2796|
000aec  52616461          DCB      "RadarDrvInit ERROR (pUartInterface[%d] == NULL)!!\n",0
000af0  72447276
000af4  496e6974
000af8  20455252
000afc  4f522028
000b00  70556172
000b04  74496e74
000b08  65726661
000b0c  63655b25
000b10  645d203d
000b14  3d204e55
000b18  4c4c2921
000b1c  210a00  
000b1f  00                DCB      0
                  |L1.2848|
                          DCD      0x0001c200
                  |L1.2852|
000b24  52616461          DCB      "RadarDrvInit ERROR (initFunc[%d] false)!!\n",0
000b28  72447276
000b2c  496e6974
000b30  20455252
000b34  4f522028
000b38  696e6974
000b3c  46756e63
000b40  5b25645d
000b44  2066616c
000b48  73652921
000b4c  210a00  
000b4f  00                DCB      0
                  |L1.2896|
                          DCD      RingFifo
                  |L1.2900|
000b54  52616461          DCB      "RadarDrvInit ERROR (hwInit false)!!\n",0
000b58  72447276
000b5c  496e6974
000b60  20455252
000b64  4f522028
000b68  6877496e
000b6c  69742066
000b70  616c7365
000b74  2921210a
000b78  00      
000b79  00                DCB      0
000b7a  00                DCB      0
000b7b  00                DCB      0
                  |L1.2940|
000b7c  52616461          DCB      "RadarDrvInit ERROR (swInit false)!!\n",0
000b80  72447276
000b84  496e6974
000b88  20455252
000b8c  4f522028
000b90  7377496e
000b94  69742066
000b98  616c7365
000b9c  2921210a
000ba0  00      
000ba1  00                DCB      0
000ba2  00                DCB      0
000ba3  00                DCB      0
                          ENDP

                  RadarDrvInitBurning PROC
;;;703    
;;;704    BOOL RadarDrvInitBurning(int radarIndex)
000ba4  e92d4010          PUSH     {r4,lr}
;;;705    {
000ba8  e1a04000          MOV      r4,r0
;;;706        sysprintf("RadarDrvInit!!\n");
000bac  e24f00dc          ADR      r0,|L1.2776|
000bb0  ebfffffe          BL       sysprintf
;;;707        pUartInterface[radarIndex] = UartGetInterface(uartInterface[radarIndex]);
000bb4  e51f10d4          LDR      r1,|L1.2792|
000bb8  e7d10104          LDRB     r0,[r1,r4,LSL #2]
000bbc  ebfffffe          BL       UartGetInterface
000bc0  e51f1978          LDR      r1,|L1.592|
000bc4  e7810104          STR      r0,[r1,r4,LSL #2]
;;;708        if(pUartInterface[radarIndex] == NULL)
000bc8  e2810000          ADD      r0,r1,#0
000bcc  e7900104          LDR      r0,[r0,r4,LSL #2]
000bd0  e3500000          CMP      r0,#0
000bd4  1a000004          BNE      |L1.3052|
;;;709        {
;;;710            sysprintf("RadarDrvInit ERROR (pUartInterface[%d] == NULL)!!\n", radarIndex);
000bd8  e1a01004          MOV      r1,r4
000bdc  e24f00f8          ADR      r0,|L1.2796|
000be0  ebfffffe          BL       sysprintf
;;;711            return FALSE;
000be4  e3a00000          MOV      r0,#0
                  |L1.3048|
;;;712        }
;;;713        if(pUartInterface[radarIndex]->initFunc(115200) == FALSE)
;;;714        {
;;;715            sysprintf("RadarDrvInit ERROR (initFunc[%d] false)!!\n", radarIndex);
;;;716            return FALSE;
;;;717        }
;;;718        pUartInterface[radarIndex]->setRS232PowerFunc(FALSE);
;;;719        pUartInterface[radarIndex]->setPowerFunc(FALSE);
;;;720            
;;;721    
;;;722        radarRead(radarIndex, (uint8_t*)&radarBuffer[radarIndex], RADAR_BUFFER_SIZE);
;;;723        
;;;724        
;;;725        if(hwInit() == FALSE)
;;;726        {
;;;727            sysprintf("RadarDrvInit ERROR (hwInit false)!!\n");
;;;728            return FALSE;
;;;729        }
;;;730        if(swInit() == FALSE)
;;;731        {
;;;732            sysprintf("RadarDrvInit ERROR (swInit false)!!\n");
;;;733            return FALSE;
;;;734        }
;;;735        return TRUE;
;;;736    }
000be8  e8bd8010          POP      {r4,pc}
                  |L1.3052|
000bec  e51f09a4          LDR      r0,|L1.592|
000bf0  e7900104          LDR      r0,[r0,r4,LSL #2]     ;713
000bf4  e5901000          LDR      r1,[r0,#0]            ;713
000bf8  e51f00e0          LDR      r0,|L1.2848|
000bfc  e12fff31          BLX      r1                    ;713
000c00  e3500000          CMP      r0,#0                 ;713
000c04  1a000004          BNE      |L1.3100|
000c08  e1a01004          MOV      r1,r4                 ;715
000c0c  e24f00f0          ADR      r0,|L1.2852|
000c10  ebfffffe          BL       sysprintf
000c14  e3a00000          MOV      r0,#0                 ;716
000c18  eafffff2          B        |L1.3048|
                  |L1.3100|
000c1c  e51f09d4          LDR      r0,|L1.592|
000c20  e7900104          LDR      r0,[r0,r4,LSL #2]     ;718
000c24  e5901014          LDR      r1,[r0,#0x14]         ;718
000c28  e3a00000          MOV      r0,#0                 ;718
000c2c  e12fff31          BLX      r1                    ;718
000c30  e51f09e8          LDR      r0,|L1.592|
000c34  e7900104          LDR      r0,[r0,r4,LSL #2]     ;719
000c38  e5901010          LDR      r1,[r0,#0x10]         ;719
000c3c  e3a00000          MOV      r0,#0                 ;719
000c40  e12fff31          BLX      r1                    ;719
000c44  e51f0190          LDR      r0,|L1.2748|
000c48  e0801504          ADD      r1,r0,r4,LSL #10      ;722
000c4c  e3a02b01          MOV      r2,#0x400             ;722
000c50  e1a00004          MOV      r0,r4                 ;722
000c54  ebfffffe          BL       radarRead
000c58  ebfffffe          BL       hwInit
000c5c  e3500000          CMP      r0,#0                 ;725
000c60  1a000003          BNE      |L1.3188|
000c64  e24f0f46          ADR      r0,|L1.2900|
000c68  ebfffffe          BL       sysprintf
000c6c  e3a00000          MOV      r0,#0                 ;728
000c70  eaffffdc          B        |L1.3048|
                  |L1.3188|
000c74  ebfffffe          BL       swInit
000c78  e3500000          CMP      r0,#0                 ;730
000c7c  1a000003          BNE      |L1.3216|
000c80  e24f0f43          ADR      r0,|L1.2940|
000c84  ebfffffe          BL       sysprintf
000c88  e3a00000          MOV      r0,#0                 ;733
000c8c  eaffffd5          B        |L1.3048|
                  |L1.3216|
000c90  e3a00001          MOV      r0,#1                 ;735
000c94  eaffffd3          B        |L1.3048|
;;;737    
                          ENDP

                  Decode_StateMachine PROC
;;;738    
;;;739    BOOL Decode_StateMachine(int radarIndex ,uint8_t radarCmd,int readBuffSize, uint8_t* radarBuff, uint8_t* radarData)
000c98  e92d4ffe          PUSH     {r1-r11,lr}
;;;740    {
000c9c  e1a06000          MOV      r6,r0
000ca0  e1a09001          MOV      r9,r1
000ca4  e1a07002          MOV      r7,r2
000ca8  e1a04003          MOV      r4,r3
;;;741        uint8_t status = S1_DECODE_HEADER;  
000cac  e3a00001          MOV      r0,#1
000cb0  e58d0008          STR      r0,[sp,#8]
;;;742        int headerindex = 0;
000cb4  e3a05000          MOV      r5,#0
;;;743        uint16_t datalen = 0;
000cb8  e3a08000          MOV      r8,#0
;;;744        uint16_t CRCcheck = 0;
000cbc  e3a0a000          MOV      r10,#0
;;;745        int i;
;;;746        
;;;747        while(1)
000cc0  ea0001d0          B        |L1.5128|
                  |L1.3268|
;;;748        {   
;;;749            switch(status) 
000cc4  e59d0008          LDR      r0,[sp,#8]
000cc8  e3500006          CMP      r0,#6
000ccc  308ff100          ADDCC    pc,pc,r0,LSL #2
000cd0  ea0001a2          B        |L1.4960|
000cd4  ea0001a1          B        |L1.4960|
000cd8  ea000003          B        |L1.3308|
000cdc  ea00008f          B        |L1.3872|
000ce0  ea00010a          B        |L1.4368|
000ce4  ea000141          B        |L1.4592|
000ce8  ea000187          B        |L1.4876|
                  |L1.3308|
;;;750            {
;;;751                case S1_DECODE_HEADER:
000cec  e1a00000          MOV      r0,r0
;;;752                    while(1)
000cf0  ea000087          B        |L1.3860|
                  |L1.3316|
;;;753                    {
;;;754                        if( (radarBuff[headerindex + 0] == 0x7A) && (radarBuff[headerindex + 1] == 0xA7) )
000cf4  e7d40005          LDRB     r0,[r4,r5]
000cf8  e350007a          CMP      r0,#0x7a
000cfc  1a000006          BNE      |L1.3356|
000d00  e2850001          ADD      r0,r5,#1
000d04  e7d40000          LDRB     r0,[r4,r0]
000d08  e35000a7          CMP      r0,#0xa7
000d0c  1a000002          BNE      |L1.3356|
;;;755                        {
;;;756                            status = S2_DECODE_DATALEN;
000d10  e3a00002          MOV      r0,#2
000d14  e58d0008          STR      r0,[sp,#8]
;;;757                            break;
000d18  ea00007e          B        |L1.3864|
                  |L1.3356|
;;;758                        }
;;;759                        else if( (radarBuff[headerindex + 0] == 0x7A) && (radarBuff[headerindex + 1] == 0x00) &&
000d1c  e7d40005          LDRB     r0,[r4,r5]
000d20  e350007a          CMP      r0,#0x7a
000d24  1a00003d          BNE      |L1.3616|
000d28  e2850001          ADD      r0,r5,#1
000d2c  e7d40000          LDRB     r0,[r4,r0]
000d30  e3500000          CMP      r0,#0
000d34  1a000039          BNE      |L1.3616|
;;;760                                 (radarBuff[headerindex + 2] == 0xA7) && (radarBuff[headerindex + 3] == 0x00)  )
000d38  e2850002          ADD      r0,r5,#2
000d3c  e7d40000          LDRB     r0,[r4,r0]
000d40  e35000a7          CMP      r0,#0xa7
000d44  1a000035          BNE      |L1.3616|
000d48  e2850003          ADD      r0,r5,#3
000d4c  e7d40000          LDRB     r0,[r4,r0]
000d50  e3500000          CMP      r0,#0
000d54  1a000031          BNE      |L1.3616|
;;;761                        {
;;;762                            #if (ENABLE_BURNIN_TESTER)
;;;763                            if (EnabledBurninTestMode())
000d58  ebfffffe          BL       EnabledBurninTestMode
000d5c  e3500000          CMP      r0,#0
000d60  0a00002c          BEQ      |L1.3608|
;;;764                            {
;;;765                                sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    UART_FORMAT_ERR, headerindex = %d --\r\n", radarIndex+1, headerindex);
000d64  e1a03005          MOV      r3,r5
000d68  e2862001          ADD      r2,r6,#1
000d6c  e28f1faa          ADR      r1,|L1.4124|
000d70  e59f02e4          LDR      r0,|L1.4188|
000d74  ebfffffe          BL       __2sprintf
;;;766                                sprintf(errorMsgBuffer,"%sdata = ",errorMsgBuffer);
000d78  e59f22dc          LDR      r2,|L1.4188|
000d7c  e28f1fb7          ADR      r1,|L1.4192|
000d80  e2820000          ADD      r0,r2,#0
000d84  ebfffffe          BL       __2sprintf
;;;767                                for(int k=0;k<readBuffSize;k++)
000d88  e3a0b000          MOV      r11,#0
000d8c  ea000005          B        |L1.3496|
                  |L1.3472|
;;;768                                    sprintf(errorMsgBuffer,"%s%02x ",errorMsgBuffer,radarBuff[k]);
000d90  e7d4300b          LDRB     r3,[r4,r11]
000d94  e59f22c0          LDR      r2,|L1.4188|
000d98  e28f1fb3          ADR      r1,|L1.4204|
000d9c  e2820000          ADD      r0,r2,#0
000da0  ebfffffe          BL       __2sprintf
000da4  e28bb001          ADD      r11,r11,#1            ;767
                  |L1.3496|
000da8  e15b0007          CMP      r11,r7                ;767
000dac  bafffff7          BLT      |L1.3472|
;;;769                                sprintf(errorMsgBuffer,"%s\r\n",errorMsgBuffer);
000db0  e59f22a4          LDR      r2,|L1.4188|
000db4  e28f1fae          ADR      r1,|L1.4212|
000db8  e2820000          ADD      r0,r2,#0
000dbc  ebfffffe          BL       __2sprintf
;;;770                                AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
000dc0  e59f0294          LDR      r0,|L1.4188|
000dc4  ebfffffe          BL       strlen
000dc8  e1a0b000          MOV      r11,r0
000dcc  e1a0100b          MOV      r1,r11
000dd0  e59f0284          LDR      r0,|L1.4188|
000dd4  ebfffffe          BL       AppendBurninErrorLog
;;;771                                
;;;772                                terninalPrintf("[ERROR:RADAR] [%d]    UART_FORMAT_ERR, headerindex = %d --\r\n", radarIndex+1, headerindex);
000dd8  e1a02005          MOV      r2,r5
000ddc  e2861001          ADD      r1,r6,#1
000de0  e28f0f8d          ADR      r0,|L1.4124|
000de4  ebfffffe          BL       terninalPrintf
;;;773                                terninalPrintf("data = ");
000de8  e28f0fa3          ADR      r0,|L1.4220|
000dec  ebfffffe          BL       terninalPrintf
;;;774                                for(int m=0;m<readBuffSize;m++)
000df0  e3a0b000          MOV      r11,#0
000df4  ea000003          B        |L1.3592|
                  |L1.3576|
;;;775                                    terninalPrintf("%02x ",radarBuff[m]);
000df8  e7d4100b          LDRB     r1,[r4,r11]
000dfc  e28f0d0a          ADR      r0,|L1.4228|
000e00  ebfffffe          BL       terninalPrintf
000e04  e28bb001          ADD      r11,r11,#1            ;774
                  |L1.3592|
000e08  e15b0007          CMP      r11,r7                ;774
000e0c  bafffff9          BLT      |L1.3576|
;;;776                                terninalPrintf("\r\n");
000e10  e28f0f9d          ADR      r0,|L1.4236|
000e14  ebfffffe          BL       terninalPrintf
                  |L1.3608|
;;;777                            }
;;;778                            #endif
;;;779                            
;;;780                            return UART_FORMAT_ERR;
000e18  e3a00010          MOV      r0,#0x10
                  |L1.3612|
;;;781                        }
;;;782                        else
;;;783                        {
;;;784                            headerindex++;
;;;785                            if(( readBuffSize - headerindex) < 9)
;;;786                            {
;;;787                                #if (ENABLE_BURNIN_TESTER)
;;;788                                if (EnabledBurninTestMode() == FALSE)
;;;789                                #endif
;;;790                                    terninalPrintf("[ERROR:RADAR] [%d]    No data, headerindex = %d --\r\n", radarIndex+1, headerindex);
;;;791                                
;;;792                                #if (ENABLE_BURNIN_TESTER)
;;;793                                if (EnabledBurninTestMode())
;;;794                                {
;;;795                                    sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    No data, headerindex = %d --\r\n", radarIndex+1, headerindex);
;;;796                                    sprintf(errorMsgBuffer,"%sdata = ",errorMsgBuffer);
;;;797                                    for(int k=0;k<readBuffSize;k++)
;;;798                                        sprintf(errorMsgBuffer,"%s%02x ",errorMsgBuffer,radarBuff[k]);
;;;799                                    sprintf(errorMsgBuffer,"%s\r\n",errorMsgBuffer);
;;;800                                    AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
;;;801                                    
;;;802                                    terninalPrintf("[ERROR:RADAR] [%d]    No data, headerindex = %d --\r\n", radarIndex+1, headerindex);
;;;803                                    terninalPrintf("data = ");
;;;804                                    for(int m=0;m<readBuffSize;m++)
;;;805                                        terninalPrintf("%02x ",radarBuff[m]);
;;;806                                    terninalPrintf("\r\n");
;;;807                                }
;;;808                                #endif
;;;809                                return UART_FORMAT_ERR;
;;;810                            }
;;;811                        }
;;;812                    }
;;;813                    break;
;;;814                case S2_DECODE_DATALEN:
;;;815                    datalen = ( radarBuff[headerindex + 2] << 8 ) | radarBuff[headerindex + 3] ;
;;;816                    //if( (datalen == (index - headerindex) ) && ( pRadarBuffer[ (index - headerindex) - 2] == 0xD3 ) && 
;;;817                    //                                           ( pRadarBuffer[ (index - headerindex) - 1] == 0x3D ) )
;;;818                    
;;;819                    if(  datalen <= (readBuffSize - headerindex) )
;;;820                    {
;;;821                        if( ( radarBuff[ (datalen + headerindex) - 2] == 0xD3 ) && 
;;;822                            ( radarBuff[ (datalen + headerindex) - 1] == 0x3D ) )
;;;823                    
;;;824                            status = S3_DECODE_CMD;
;;;825                        else
;;;826                        {
;;;827                            #if (ENABLE_BURNIN_TESTER)
;;;828                            if (EnabledBurninTestMode() == FALSE)
;;;829                            #endif
;;;830                                terninalPrintf("[ERROR:RADAR] [%d]    datalen not match, datalen = %d --\r\n", radarIndex+1, datalen);
;;;831                            
;;;832                            
;;;833                            #if (ENABLE_BURNIN_TESTER)
;;;834                            if (EnabledBurninTestMode())
;;;835                            {
;;;836                                sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    datalen not match, datalen = %d --\r\n", radarIndex+1, datalen);
;;;837                                sprintf(errorMsgBuffer,"%sdata = ",errorMsgBuffer);
;;;838                                for(int k=0;k<readBuffSize;k++)
;;;839                                    sprintf(errorMsgBuffer,"%s%02x ",errorMsgBuffer,radarBuff[k]);
;;;840                                sprintf(errorMsgBuffer,"%s\r\n",errorMsgBuffer);
;;;841                                AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
;;;842                            }
;;;843                            #endif
;;;844                            
;;;845                            return UART_FORMAT_ERR;
;;;846                        } 
;;;847                        
;;;848                    }
;;;849                    else
;;;850                        return  RADAR_WAIT_NEXTDATA;
;;;851                    /*
;;;852                    if( ( radarBuff[ (datalen + headerindex) - 2] == 0xD3 ) && 
;;;853                        ( radarBuff[ (datalen + headerindex) - 1] == 0x3D ) )
;;;854                    
;;;855                        status = S3_DECODE_CMD;
;;;856                    
;;;857                    else
;;;858                    {
;;;859                        terninalPrintf("[ERROR:RADAR] [%d]    datalen not match, datalen = %d --\r\n", radarIndex+1, datalen);
;;;860                        //terninalPrintf("ERROR3: datalen = %d\r\n",datalen);
;;;861                        return FALSE;
;;;862                    }
;;;863                    */
;;;864                    break;
;;;865                case S3_DECODE_CMD:
;;;866                    //if( pRadarBuffer[headerindex + 4] == 0x12)
;;;867                    if( radarBuff[headerindex + 4] == (radarCmd | 0x10))
;;;868                        status = S4_DECODE_CHECKSUM;
;;;869                    else
;;;870                    {
;;;871                        #if (ENABLE_BURNIN_TESTER)
;;;872                        if (EnabledBurninTestMode() == FALSE)
;;;873                        #endif
;;;874                            terninalPrintf("[ERROR:RADAR] [%d]    cmd not match, headerindex = %d,pRadarBuffer[headerindex + 4] =%d --\r\n", radarIndex+1, headerindex,radarBuff[headerindex + 4]);
;;;875                        
;;;876                        #if (ENABLE_BURNIN_TESTER)
;;;877                        if (EnabledBurninTestMode())
;;;878                        {
;;;879                            sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    cmd not match, headerindex = %d,pRadarBuffer[headerindex + 4] =%d --\r\n", radarIndex+1, headerindex,radarBuff[headerindex + 4]);
;;;880                            sprintf(errorMsgBuffer,"%sdata = ",errorMsgBuffer);
;;;881                            for(int k=0;k<readBuffSize;k++)
;;;882                                sprintf(errorMsgBuffer,"%s%02x ",errorMsgBuffer,radarBuff[k]);
;;;883                            sprintf(errorMsgBuffer,"%s\r\n",errorMsgBuffer);
;;;884                            AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
;;;885                        }
;;;886                        #endif
;;;887                        
;;;888                        
;;;889                        
;;;890                        return UART_FORMAT_ERR;
;;;891                    }                    
;;;892                    break;
;;;893                case S4_DECODE_CHECKSUM:
;;;894                    //for(i=2 ; i<(datalen-4) ; i++)
;;;895                    for(i = headerindex + 2 ; i<((datalen + headerindex)-4) ; i++)
;;;896                        CRCcheck += radarBuff[i];
;;;897                    //if( CRCcheck == ( ( pRadarBuffer[datalen-4]<<8 | pRadarBuffer[datalen-3] ) ) )
;;;898                    if( CRCcheck == ( ( radarBuff[(datalen + headerindex)-4]<<8 | radarBuff[(datalen + headerindex)-3] ) ) )
;;;899                        status = S5_DECODE_DATABODY;
;;;900                    else
;;;901                    {
;;;902                        #if (ENABLE_BURNIN_TESTER)
;;;903                        if (EnabledBurninTestMode() == FALSE)
;;;904                        #endif
;;;905                            terninalPrintf("[ERROR:RADAR] [%d]    CRCcheck not match, CRCcheck = %d --\r\n", radarIndex+1, CRCcheck);
;;;906                        
;;;907                        
;;;908                        #if (ENABLE_BURNIN_TESTER)
;;;909                        if (EnabledBurninTestMode())
;;;910                        {
;;;911                            sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    CRCcheck not match, CRCcheck = %d --\r\n", radarIndex+1, CRCcheck);
;;;912                            sprintf(errorMsgBuffer,"%sdata = ",errorMsgBuffer);
;;;913                            for(int k=0;k<readBuffSize;k++)
;;;914                                sprintf(errorMsgBuffer,"%s%02x ",errorMsgBuffer,radarBuff[k]);
;;;915                            sprintf(errorMsgBuffer,"%s\r\n",errorMsgBuffer);
;;;916                            AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
;;;917                        }
;;;918                        #endif
;;;919                        
;;;920                        
;;;921                        return UART_FORMAT_ERR;
;;;922                    }
;;;923                    break;
;;;924                case S5_DECODE_DATABODY:
;;;925                    if(radarData != NULL)
;;;926                    {
;;;927                        if(radarCmd == 0x00)
;;;928                            memcpy(radarData,radarBuff + headerindex + 5,4);
;;;929                        else if(radarCmd == 0x02)
;;;930                            memcpy(radarData,radarBuff + headerindex + 5,22);
;;;931                    }
;;;932                    return TRUE;
;;;933                    //return pRadarBuffer[headerindex + 5]<<24 | pRadarBuffer[headerindex + 6]<<16 | 
;;;934                    //       pRadarBuffer[headerindex + 7]<<8 | pRadarBuffer[headerindex + 8] ;
;;;935                    break;
;;;936    
;;;937                default:
;;;938                    #if (ENABLE_BURNIN_TESTER)
;;;939                    if (EnabledBurninTestMode() == FALSE)
;;;940                    #endif
;;;941                        terninalPrintf("[ERROR:RADAR] [%d]    Unknown --\r\n", radarIndex+1);
;;;942                    //terninalPrintf("ERROR6\r\n");
;;;943                    
;;;944                    
;;;945                    #if (ENABLE_BURNIN_TESTER)
;;;946                    if (EnabledBurninTestMode())
;;;947                    {
;;;948                        sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    Unknown --\r\n", radarIndex+1);
;;;949                        sprintf(errorMsgBuffer,"%sdata = ",errorMsgBuffer);
;;;950                        for(int k=0;k<readBuffSize;k++)
;;;951                            sprintf(errorMsgBuffer,"%s%02x ",errorMsgBuffer,radarBuff[k]);
;;;952                        sprintf(errorMsgBuffer,"%s\r\n",errorMsgBuffer);
;;;953                        AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
;;;954                    }
;;;955                    #endif
;;;956                    
;;;957                    
;;;958                    
;;;959                    return FALSE;
;;;960                    break;
;;;961            }
;;;962        }
;;;963        
;;;964    }
000e1c  e8bd8ffe          POP      {r1-r11,pc}
                  |L1.3616|
000e20  e2855001          ADD      r5,r5,#1              ;784
000e24  e0470005          SUB      r0,r7,r5              ;785
000e28  e3500009          CMP      r0,#9                 ;785
000e2c  aa000038          BGE      |L1.3860|
000e30  ebfffffe          BL       EnabledBurninTestMode
000e34  e3500000          CMP      r0,#0                 ;788
000e38  1a000003          BNE      |L1.3660|
000e3c  e1a02005          MOV      r2,r5                 ;790
000e40  e2861001          ADD      r1,r6,#1              ;790
000e44  e28f0f91          ADR      r0,|L1.4240|
000e48  ebfffffe          BL       terninalPrintf
                  |L1.3660|
000e4c  ebfffffe          BL       EnabledBurninTestMode
000e50  e3500000          CMP      r0,#0                 ;793
000e54  0a00002c          BEQ      |L1.3852|
000e58  e1a03005          MOV      r3,r5                 ;795
000e5c  e2862001          ADD      r2,r6,#1              ;795
000e60  e28f1f8a          ADR      r1,|L1.4240|
000e64  e59f01f0          LDR      r0,|L1.4188|
000e68  ebfffffe          BL       __2sprintf
000e6c  e59f21e8          LDR      r2,|L1.4188|
000e70  e28f1f7a          ADR      r1,|L1.4192|
000e74  e2820000          ADD      r0,r2,#0              ;796
000e78  ebfffffe          BL       __2sprintf
000e7c  e3a0b000          MOV      r11,#0                ;797
000e80  ea000005          B        |L1.3740|
                  |L1.3716|
000e84  e7d4300b          LDRB     r3,[r4,r11]           ;798
000e88  e59f21cc          LDR      r2,|L1.4188|
000e8c  e28f1f76          ADR      r1,|L1.4204|
000e90  e2820000          ADD      r0,r2,#0              ;798
000e94  ebfffffe          BL       __2sprintf
000e98  e28bb001          ADD      r11,r11,#1            ;797
                  |L1.3740|
000e9c  e15b0007          CMP      r11,r7                ;797
000ea0  bafffff7          BLT      |L1.3716|
000ea4  e59f21b0          LDR      r2,|L1.4188|
000ea8  e28f1f71          ADR      r1,|L1.4212|
000eac  e2820000          ADD      r0,r2,#0              ;799
000eb0  ebfffffe          BL       __2sprintf
000eb4  e59f01a0          LDR      r0,|L1.4188|
000eb8  ebfffffe          BL       strlen
000ebc  e1a0b000          MOV      r11,r0                ;800
000ec0  e1a0100b          MOV      r1,r11                ;800
000ec4  e59f0190          LDR      r0,|L1.4188|
000ec8  ebfffffe          BL       AppendBurninErrorLog
000ecc  e1a02005          MOV      r2,r5                 ;802
000ed0  e2861001          ADD      r1,r6,#1              ;802
000ed4  e28f0f6d          ADR      r0,|L1.4240|
000ed8  ebfffffe          BL       terninalPrintf
000edc  e28f0f66          ADR      r0,|L1.4220|
000ee0  ebfffffe          BL       terninalPrintf
000ee4  e3a0b000          MOV      r11,#0                ;804
000ee8  ea000003          B        |L1.3836|
                  |L1.3820|
000eec  e7d4100b          LDRB     r1,[r4,r11]           ;805
000ef0  e28f0f63          ADR      r0,|L1.4228|
000ef4  ebfffffe          BL       terninalPrintf
000ef8  e28bb001          ADD      r11,r11,#1            ;804
                  |L1.3836|
000efc  e15b0007          CMP      r11,r7                ;804
000f00  bafffff9          BLT      |L1.3820|
000f04  e28f0d06          ADR      r0,|L1.4236|
000f08  ebfffffe          BL       terninalPrintf
                  |L1.3852|
000f0c  e3a00010          MOV      r0,#0x10              ;809
000f10  eaffffc1          B        |L1.3612|
                  |L1.3860|
000f14  eaffff76          B        |L1.3316|
                  |L1.3864|
000f18  e1a00000          MOV      r0,r0                 ;757
000f1c  ea000137          B        |L1.5120|
                  |L1.3872|
000f20  e1a00000          MOV      r0,r0                 ;814
000f24  e2850003          ADD      r0,r5,#3              ;815
000f28  e7d40000          LDRB     r0,[r4,r0]            ;815
000f2c  e2851002          ADD      r1,r5,#2              ;815
000f30  e7d41001          LDRB     r1,[r4,r1]            ;815
000f34  e1808401          ORR      r8,r0,r1,LSL #8       ;815
000f38  e0470005          SUB      r0,r7,r5              ;819
000f3c  e1500008          CMP      r0,r8                 ;819
000f40  ba00006f          BLT      |L1.4356|
000f44  e0880005          ADD      r0,r8,r5              ;821
000f48  e2400002          SUB      r0,r0,#2              ;821
000f4c  e7d40000          LDRB     r0,[r4,r0]            ;821
000f50  e35000d3          CMP      r0,#0xd3              ;821
000f54  1a000007          BNE      |L1.3960|
000f58  e0880005          ADD      r0,r8,r5              ;822
000f5c  e2400001          SUB      r0,r0,#1              ;822
000f60  e7d40000          LDRB     r0,[r4,r0]            ;822
000f64  e350003d          CMP      r0,#0x3d              ;822
000f68  1a000002          BNE      |L1.3960|
000f6c  e3a00003          MOV      r0,#3                 ;824
000f70  e58d0008          STR      r0,[sp,#8]            ;824
000f74  ea000064          B        |L1.4364|
                  |L1.3960|
000f78  ebfffffe          BL       EnabledBurninTestMode
000f7c  e3500000          CMP      r0,#0                 ;828
000f80  1a000003          BNE      |L1.3988|
000f84  e1a02008          MOV      r2,r8                 ;830
000f88  e2861001          ADD      r1,r6,#1              ;830
000f8c  e28f0f4d          ADR      r0,|L1.4296|
000f90  ebfffffe          BL       terninalPrintf
                  |L1.3988|
000f94  ebfffffe          BL       EnabledBurninTestMode
000f98  e3500000          CMP      r0,#0                 ;834
000f9c  0a00001c          BEQ      |L1.4116|
000fa0  e1a03008          MOV      r3,r8                 ;836
000fa4  e2862001          ADD      r2,r6,#1              ;836
000fa8  e28f1f46          ADR      r1,|L1.4296|
000fac  e59f00a8          LDR      r0,|L1.4188|
000fb0  ebfffffe          BL       __2sprintf
000fb4  e59f20a0          LDR      r2,|L1.4188|
000fb8  e28f10a0          ADR      r1,|L1.4192|
000fbc  e2820000          ADD      r0,r2,#0              ;837
000fc0  ebfffffe          BL       __2sprintf
000fc4  e3a0b000          MOV      r11,#0                ;838
000fc8  ea000005          B        |L1.4068|
                  |L1.4044|
000fcc  e7d4300b          LDRB     r3,[r4,r11]           ;839
000fd0  e59f2084          LDR      r2,|L1.4188|
000fd4  e28f1090          ADR      r1,|L1.4204|
000fd8  e2820000          ADD      r0,r2,#0              ;839
000fdc  ebfffffe          BL       __2sprintf
000fe0  e28bb001          ADD      r11,r11,#1            ;838
                  |L1.4068|
000fe4  e15b0007          CMP      r11,r7                ;838
000fe8  bafffff7          BLT      |L1.4044|
000fec  e59f2068          LDR      r2,|L1.4188|
000ff0  e28f107c          ADR      r1,|L1.4212|
000ff4  e2820000          ADD      r0,r2,#0              ;840
000ff8  ebfffffe          BL       __2sprintf
000ffc  e59f0058          LDR      r0,|L1.4188|
001000  ebfffffe          BL       strlen
001004  e1a0b000          MOV      r11,r0                ;841
001008  e1a0100b          MOV      r1,r11                ;841
00100c  e59f0048          LDR      r0,|L1.4188|
001010  ebfffffe          BL       AppendBurninErrorLog
                  |L1.4116|
001014  e3a00010          MOV      r0,#0x10              ;845
001018  eaffff7f          B        |L1.3612|
                  |L1.4124|
00101c  5b455252          DCB      "[ERROR:RADAR] [%d]    UART_FORMAT_ERR, headerindex = %d"
001020  4f523a52
001024  41444152
001028  5d205b25
00102c  645d2020
001030  20205541
001034  52545f46
001038  4f524d41
00103c  545f4552
001040  522c2068
001044  65616465
001048  72696e64
00104c  6578203d
001050  202564  
001053  202d2d0d          DCB      " --\r\n",0
001057  0a00    
001059  00                DCB      0
00105a  00                DCB      0
00105b  00                DCB      0
                  |L1.4188|
                          DCD      errorMsgBuffer
                  |L1.4192|
001060  25736461          DCB      "%sdata = ",0
001064  7461203d
001068  2000    
00106a  00                DCB      0
00106b  00                DCB      0
                  |L1.4204|
00106c  25732530          DCB      "%s%02x ",0
001070  32782000
                  |L1.4212|
001074  25730d0a          DCB      "%s\r\n",0
001078  00      
001079  00                DCB      0
00107a  00                DCB      0
00107b  00                DCB      0
                  |L1.4220|
00107c  64617461          DCB      "data = ",0
001080  203d2000
                  |L1.4228|
001084  25303278          DCB      "%02x ",0
001088  2000    
00108a  00                DCB      0
00108b  00                DCB      0
                  |L1.4236|
00108c  0d0a00            DCB      "\r\n",0
00108f  00                DCB      0
                  |L1.4240|
001090  5b455252          DCB      "[ERROR:RADAR] [%d]    No data, headerindex = %d --\r\n",0
001094  4f523a52
001098  41444152
00109c  5d205b25
0010a0  645d2020
0010a4  20204e6f
0010a8  20646174
0010ac  612c2068
0010b0  65616465
0010b4  72696e64
0010b8  6578203d
0010bc  20256420
0010c0  2d2d0d0a
0010c4  00      
0010c5  00                DCB      0
0010c6  00                DCB      0
0010c7  00                DCB      0
                  |L1.4296|
0010c8  5b455252          DCB      "[ERROR:RADAR] [%d]    datalen not match, datalen = %d -"
0010cc  4f523a52
0010d0  41444152
0010d4  5d205b25
0010d8  645d2020
0010dc  20206461
0010e0  74616c65
0010e4  6e206e6f
0010e8  74206d61
0010ec  7463682c
0010f0  20646174
0010f4  616c656e
0010f8  203d2025
0010fc  64202d  
0010ff  2d0d0a00          DCB      "-\r\n",0
001103  00                DCB      0
                  |L1.4356|
001104  e3a00030          MOV      r0,#0x30              ;850
001108  eaffff43          B        |L1.3612|
                  |L1.4364|
00110c  ea0000bb          B        |L1.5120|
                  |L1.4368|
001110  e1a00000          MOV      r0,r0                 ;865
001114  e2850004          ADD      r0,r5,#4              ;867
001118  e7d40000          LDRB     r0,[r4,r0]            ;867
00111c  e3891010          ORR      r1,r9,#0x10           ;867
001120  e1500001          CMP      r0,r1                 ;867
001124  1a000002          BNE      |L1.4404|
001128  e3a00004          MOV      r0,#4                 ;868
00112c  e58d0008          STR      r0,[sp,#8]            ;868
001130  ea00002d          B        |L1.4588|
                  |L1.4404|
001134  ebfffffe          BL       EnabledBurninTestMode
001138  e3500000          CMP      r0,#0                 ;872
00113c  1a000005          BNE      |L1.4440|
001140  e2850004          ADD      r0,r5,#4              ;874
001144  e7d43000          LDRB     r3,[r4,r0]            ;874
001148  e1a02005          MOV      r2,r5                 ;874
00114c  e2861001          ADD      r1,r6,#1              ;874
001150  e59f0404          LDR      r0,|L1.5468|
001154  ebfffffe          BL       terninalPrintf
                  |L1.4440|
001158  ebfffffe          BL       EnabledBurninTestMode
00115c  e3500000          CMP      r0,#0                 ;877
001160  0a00001f          BEQ      |L1.4580|
001164  e2850004          ADD      r0,r5,#4              ;879
001168  e7d40000          LDRB     r0,[r4,r0]            ;879
00116c  e1a03005          MOV      r3,r5                 ;879
001170  e2862001          ADD      r2,r6,#1              ;879
001174  e59f13e0          LDR      r1,|L1.5468|
001178  e58d0000          STR      r0,[sp,#0]            ;879
00117c  e51f0128          LDR      r0,|L1.4188|
001180  ebfffffe          BL       __2sprintf
001184  e51f2130          LDR      r2,|L1.4188|
001188  e24f1e13          ADR      r1,|L1.4192|
00118c  e2820000          ADD      r0,r2,#0              ;880
001190  ebfffffe          BL       __2sprintf
001194  e3a0b000          MOV      r11,#0                ;881
001198  ea000005          B        |L1.4532|
                  |L1.4508|
00119c  e7d4300b          LDRB     r3,[r4,r11]           ;882
0011a0  e51f214c          LDR      r2,|L1.4188|
0011a4  e24f1d05          ADR      r1,|L1.4204|
0011a8  e2820000          ADD      r0,r2,#0              ;882
0011ac  ebfffffe          BL       __2sprintf
0011b0  e28bb001          ADD      r11,r11,#1            ;881
                  |L1.4532|
0011b4  e15b0007          CMP      r11,r7                ;881
0011b8  bafffff7          BLT      |L1.4508|
0011bc  e51f2168          LDR      r2,|L1.4188|
0011c0  e24f1f55          ADR      r1,|L1.4212|
0011c4  e2820000          ADD      r0,r2,#0              ;883
0011c8  ebfffffe          BL       __2sprintf
0011cc  e51f0178          LDR      r0,|L1.4188|
0011d0  ebfffffe          BL       strlen
0011d4  e1a0b000          MOV      r11,r0                ;884
0011d8  e1a0100b          MOV      r1,r11                ;884
0011dc  e51f0188          LDR      r0,|L1.4188|
0011e0  ebfffffe          BL       AppendBurninErrorLog
                  |L1.4580|
0011e4  e3a00010          MOV      r0,#0x10              ;890
0011e8  eaffff0b          B        |L1.3612|
                  |L1.4588|
0011ec  ea000083          B        |L1.5120|
                  |L1.4592|
0011f0  e1a00000          MOV      r0,r0                 ;893
0011f4  e2850002          ADD      r0,r5,#2              ;895
0011f8  e58d0004          STR      r0,[sp,#4]            ;895
0011fc  ea000007          B        |L1.4640|
                  |L1.4608|
001200  e59d0004          LDR      r0,[sp,#4]            ;896
001204  e7d40000          LDRB     r0,[r4,r0]            ;896
001208  e080000a          ADD      r0,r0,r10             ;896
00120c  e1a0a800          LSL      r10,r0,#16            ;896
001210  e1a0a82a          LSR      r10,r10,#16           ;896
001214  e59d0004          LDR      r0,[sp,#4]            ;895
001218  e2800001          ADD      r0,r0,#1              ;895
00121c  e58d0004          STR      r0,[sp,#4]            ;895
                  |L1.4640|
001220  e0880005          ADD      r0,r8,r5              ;895
001224  e2401004          SUB      r1,r0,#4              ;895
001228  e59d0004          LDR      r0,[sp,#4]            ;895
00122c  e1510000          CMP      r1,r0                 ;895
001230  cafffff2          BGT      |L1.4608|
001234  e0880005          ADD      r0,r8,r5              ;898
001238  e2400003          SUB      r0,r0,#3              ;898
00123c  e7d40000          LDRB     r0,[r4,r0]            ;898
001240  e0881005          ADD      r1,r8,r5              ;898
001244  e2411004          SUB      r1,r1,#4              ;898
001248  e7d41001          LDRB     r1,[r4,r1]            ;898
00124c  e1800401          ORR      r0,r0,r1,LSL #8       ;898
001250  e150000a          CMP      r0,r10                ;898
001254  1a000002          BNE      |L1.4708|
001258  e3a00005          MOV      r0,#5                 ;899
00125c  e58d0008          STR      r0,[sp,#8]            ;899
001260  ea000028          B        |L1.4872|
                  |L1.4708|
001264  ebfffffe          BL       EnabledBurninTestMode
001268  e3500000          CMP      r0,#0                 ;903
00126c  1a000003          BNE      |L1.4736|
001270  e1a0200a          MOV      r2,r10                ;905
001274  e2861001          ADD      r1,r6,#1              ;905
001278  e28f0e2e          ADR      r0,|L1.5472|
00127c  ebfffffe          BL       terninalPrintf
                  |L1.4736|
001280  ebfffffe          BL       EnabledBurninTestMode
001284  e3500000          CMP      r0,#0                 ;909
001288  0a00001c          BEQ      |L1.4864|
00128c  e1a0300a          MOV      r3,r10                ;911
001290  e2862001          ADD      r2,r6,#1              ;911
001294  e28f1fb1          ADR      r1,|L1.5472|
001298  e51f0244          LDR      r0,|L1.4188|
00129c  ebfffffe          BL       __2sprintf
0012a0  e51f224c          LDR      r2,|L1.4188|
0012a4  e24f1f93          ADR      r1,|L1.4192|
0012a8  e2820000          ADD      r0,r2,#0              ;912
0012ac  ebfffffe          BL       __2sprintf
0012b0  e3a0b000          MOV      r11,#0                ;913
0012b4  ea000005          B        |L1.4816|
                  |L1.4792|
0012b8  e7d4300b          LDRB     r3,[r4,r11]           ;914
0012bc  e51f2268          LDR      r2,|L1.4188|
0012c0  e24f1f97          ADR      r1,|L1.4204|
0012c4  e2820000          ADD      r0,r2,#0              ;914
0012c8  ebfffffe          BL       __2sprintf
0012cc  e28bb001          ADD      r11,r11,#1            ;913
                  |L1.4816|
0012d0  e15b0007          CMP      r11,r7                ;913
0012d4  bafffff7          BLT      |L1.4792|
0012d8  e51f2284          LDR      r2,|L1.4188|
0012dc  e24f1e27          ADR      r1,|L1.4212|
0012e0  e2820000          ADD      r0,r2,#0              ;915
0012e4  ebfffffe          BL       __2sprintf
0012e8  e51f0294          LDR      r0,|L1.4188|
0012ec  ebfffffe          BL       strlen
0012f0  e1a0b000          MOV      r11,r0                ;916
0012f4  e1a0100b          MOV      r1,r11                ;916
0012f8  e51f02a4          LDR      r0,|L1.4188|
0012fc  ebfffffe          BL       AppendBurninErrorLog
                  |L1.4864|
001300  e3a00010          MOV      r0,#0x10              ;921
001304  eafffec4          B        |L1.3612|
                  |L1.4872|
001308  ea00003c          B        |L1.5120|
                  |L1.4876|
00130c  e1a00000          MOV      r0,r0                 ;924
001310  e59d0030          LDR      r0,[sp,#0x30]         ;925
001314  e3500000          CMP      r0,#0                 ;925
001318  0a00000e          BEQ      |L1.4952|
00131c  e3590000          CMP      r9,#0                 ;927
001320  1a000005          BNE      |L1.4924|
001324  e0840005          ADD      r0,r4,r5              ;928
001328  e2801005          ADD      r1,r0,#5              ;928
00132c  e3a02004          MOV      r2,#4                 ;928
001330  e59d0030          LDR      r0,[sp,#0x30]         ;928
001334  ebfffffe          BL       __aeabi_memcpy
001338  ea000006          B        |L1.4952|
                  |L1.4924|
00133c  e3590002          CMP      r9,#2                 ;929
001340  1a000004          BNE      |L1.4952|
001344  e0840005          ADD      r0,r4,r5              ;930
001348  e2801005          ADD      r1,r0,#5              ;930
00134c  e3a02016          MOV      r2,#0x16              ;930
001350  e59d0030          LDR      r0,[sp,#0x30]         ;930
001354  ebfffffe          BL       __aeabi_memcpy
                  |L1.4952|
001358  e3a00001          MOV      r0,#1                 ;932
00135c  eafffeae          B        |L1.3612|
                  |L1.4960|
001360  e1a00000          MOV      r0,r0                 ;937
001364  ebfffffe          BL       EnabledBurninTestMode
001368  e3500000          CMP      r0,#0                 ;939
00136c  1a000002          BNE      |L1.4988|
001370  e2861001          ADD      r1,r6,#1              ;941
001374  e28f0f89          ADR      r0,|L1.5536|
001378  ebfffffe          BL       terninalPrintf
                  |L1.4988|
00137c  ebfffffe          BL       EnabledBurninTestMode
001380  e3500000          CMP      r0,#0                 ;946
001384  0a00001b          BEQ      |L1.5112|
001388  e2862001          ADD      r2,r6,#1              ;948
00138c  e28f1f83          ADR      r1,|L1.5536|
001390  e51f033c          LDR      r0,|L1.4188|
001394  ebfffffe          BL       __2sprintf
001398  e51f2344          LDR      r2,|L1.4188|
00139c  e24f1fd1          ADR      r1,|L1.4192|
0013a0  e2820000          ADD      r0,r2,#0              ;949
0013a4  ebfffffe          BL       __2sprintf
0013a8  e3a0b000          MOV      r11,#0                ;950
0013ac  ea000005          B        |L1.5064|
                  |L1.5040|
0013b0  e7d4300b          LDRB     r3,[r4,r11]           ;951
0013b4  e51f2360          LDR      r2,|L1.4188|
0013b8  e24f1fd5          ADR      r1,|L1.4204|
0013bc  e2820000          ADD      r0,r2,#0              ;951
0013c0  ebfffffe          BL       __2sprintf
0013c4  e28bb001          ADD      r11,r11,#1            ;950
                  |L1.5064|
0013c8  e15b0007          CMP      r11,r7                ;950
0013cc  bafffff7          BLT      |L1.5040|
0013d0  e51f237c          LDR      r2,|L1.4188|
0013d4  e24f1fda          ADR      r1,|L1.4212|
0013d8  e2820000          ADD      r0,r2,#0              ;952
0013dc  ebfffffe          BL       __2sprintf
0013e0  e51f038c          LDR      r0,|L1.4188|
0013e4  ebfffffe          BL       strlen
0013e8  e1a0b000          MOV      r11,r0                ;953
0013ec  e1a0100b          MOV      r1,r11                ;953
0013f0  e51f039c          LDR      r0,|L1.4188|
0013f4  ebfffffe          BL       AppendBurninErrorLog
                  |L1.5112|
0013f8  e3a00000          MOV      r0,#0                 ;959
0013fc  eafffe86          B        |L1.3612|
                  |L1.5120|
001400  e1a00000          MOV      r0,r0                 ;960
001404  e1a00000          MOV      r0,r0                 ;813
                  |L1.5128|
001408  eafffe2d          B        |L1.3268|
;;;965    
                          ENDP

                  newRadarResult PROC
;;;968    //int newRadarResult(int radarIndex, BOOL* changeFlag, void* para1, void* para2, void* para3)
;;;969    int newRadarResult(int radarIndex, uint8_t radarCmd, uint8_t* CmdBuff, uint8_t* radarData)
00140c  e92d5ff0          PUSH     {r4-r12,lr}
;;;970    {
001410  e24dde41          SUB      sp,sp,#0x410
001414  e1a05000          MOV      r5,r0
001418  e1a06001          MOV      r6,r1
00141c  e1a0a002          MOV      r10,r2
001420  e1a0b003          MOV      r11,r3
;;;971        uint8_t* pRadarBuffer;
;;;972        int counter = 0;
001424  e3a00000          MOV      r0,#0
001428  e58d040c          STR      r0,[sp,#0x40c]
;;;973        int index = 0;
00142c  e3a04000          MOV      r4,#0
;;;974        int result;
;;;975    
;;;976        INT32 reVal;
;;;977        uint8_t tempBuff[RING_BUFFER_SIZE];
;;;978        int tempsize;
;;;979        
;;;980        pRadarBuffer = (uint8_t*)&radarBuffer[radarIndex];
001430  e51f097c          LDR      r0,|L1.2748|
001434  e0807505          ADD      r7,r0,r5,LSL #10
;;;981        /*
;;;982        if(radarIndex == 0)
;;;983        {        
;;;984            outpw(REG_SYS_GPE_MFPH,(inpw(REG_SYS_GPE_MFPH) & ~(0xF<<20)) | (0xa<<20));
;;;985            //GPIO_CloseBit(GPIOE,BIT13);
;;;986        }
;;;987        else if(radarIndex == 1)
;;;988        {
;;;989            outpw(REG_SYS_GPG_MFPL,(inpw(REG_SYS_GPG_MFPL) & ~(0xF<<20)) | (0x9<<20));
;;;990            //GPIO_CloseBit(GPIOG,BIT5);
;;;991        }
;;;992        */
;;;993        radarSetPower(radarIndex, TRUE);  
001438  e3a01001          MOV      r1,#1
00143c  e1a00005          MOV      r0,r5
001440  ebfffffe          BL       radarSetPower
;;;994        
;;;995                                 
;;;996        if(radarCmd == 0x00)
001444  e3560000          CMP      r6,#0
001448  1a000004          BNE      |L1.5216|
;;;997            radarWrite(radarIndex, CmdBuff, 9);
00144c  e3a02009          MOV      r2,#9
001450  e1a0100a          MOV      r1,r10
001454  e1a00005          MOV      r0,r5
001458  ebfffffe          BL       radarWrite
00145c  ea000005          B        |L1.5240|
                  |L1.5216|
;;;998        else if(radarCmd == 0x02)
001460  e3560002          CMP      r6,#2
001464  1a000003          BNE      |L1.5240|
;;;999            radarWrite(radarIndex, CmdBuff, 24);
001468  e3a02018          MOV      r2,#0x18
00146c  e1a0100a          MOV      r1,r10
001470  e1a00005          MOV      r0,r5
001474  ebfffffe          BL       radarWrite
                  |L1.5240|
;;;1000       
;;;1001       
;;;1002       //while(counter < 30)
;;;1003       //while(counter < 300)
;;;1004       while(counter < 290)
001478  ea00000c          B        |L1.5296|
                  |L1.5244|
;;;1005       {
;;;1006           reVal = radarRead(radarIndex, pRadarBuffer + index, RADAR_BUFFER_SIZE - index);
00147c  e2642b01          RSB      r2,r4,#0x400
001480  e0871004          ADD      r1,r7,r4
001484  e1a00005          MOV      r0,r5
001488  ebfffffe          BL       radarRead
00148c  e1a09000          MOV      r9,r0
;;;1007           vTaskDelay(10/portTICK_RATE_MS);
001490  e3a00001          MOV      r0,#1
001494  ebfffffe          BL       vTaskDelay
;;;1008           if(reVal > 0)
001498  e3590000          CMP      r9,#0
00149c  da000000          BLE      |L1.5284|
;;;1009           {
;;;1010               index = index + reVal; 
0014a0  e0844009          ADD      r4,r4,r9
                  |L1.5284|
;;;1011   
;;;1012           }   
;;;1013           counter++;
0014a4  e59d040c          LDR      r0,[sp,#0x40c]
0014a8  e2800001          ADD      r0,r0,#1
0014ac  e58d040c          STR      r0,[sp,#0x40c]
                  |L1.5296|
0014b0  e59d040c          LDR      r0,[sp,#0x40c]        ;1004
0014b4  e59f1108          LDR      r1,|L1.5572|
0014b8  e1500001          CMP      r0,r1                 ;1004
0014bc  baffffee          BLT      |L1.5244|
;;;1014       }
;;;1015       //pUartInterface[radarIndex] -> readWaitFunc(portMAX_DELAY);
;;;1016       
;;;1017       if(index > 0)
0014c0  e3540000          CMP      r4,#0
0014c4  da000003          BLE      |L1.5336|
;;;1018       {
;;;1019           SaveRingBufFun(radarIndex,pRadarBuffer,index);
0014c8  e1a02004          MOV      r2,r4
0014cc  e1a01007          MOV      r1,r7
0014d0  e1a00005          MOV      r0,r5
0014d4  ebfffffe          BL       SaveRingBufFun
                  |L1.5336|
;;;1020       }
;;;1021       
;;;1022       if(index < 9)
0014d8  e3540009          CMP      r4,#9
0014dc  aa000047          BGE      |L1.5632|
;;;1023       {
;;;1024           if((index == 1) && (pRadarBuffer[0] == 0x00) )
0014e0  e3540001          CMP      r4,#1
0014e4  1a000005          BNE      |L1.5376|
0014e8  e5d70000          LDRB     r0,[r7,#0]
0014ec  e3500000          CMP      r0,#0
0014f0  1a000002          BNE      |L1.5376|
;;;1025               return RADAR_RETURN_BLANK;
0014f4  e59f00cc          LDR      r0,|L1.5576|
                  |L1.5368|
0014f8  e28dde41          ADD      sp,sp,#0x410
;;;1026           else
;;;1027           {
;;;1028               #if (ENABLE_BURNIN_TESTER)
;;;1029               if (EnabledBurninTestMode() == FALSE)
;;;1030               #endif
;;;1031                   terninalPrintf("[ERROR:RADAR] [%d]    No data, BuffIndex = %d --\r\n", radarIndex+1, index);
;;;1032               
;;;1033               #if (ENABLE_BURNIN_TESTER)
;;;1034               if (EnabledBurninTestMode())
;;;1035               {
;;;1036                   sprintf(errorMsgBuffer,"[ERROR:RADAR] [%d]    No data, BuffIndex = %d --\r\n", radarIndex+1, index);
;;;1037                   //sprintf(errorMsgBuffer,"%sdata123456 = \r\n",errorMsgBuffer);
;;;1038                   AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
;;;1039               }
;;;1040               #endif
;;;1041               
;;;1042               
;;;1043               return FALSE;
;;;1044           }
;;;1045       }
;;;1046   
;;;1047           
;;;1048       
;;;1049       //terninalPrintf("radar%d <= ",radarIndex+1);
;;;1050       tempsize = ReadRingBufFun(radarIndex,tempBuff);
;;;1051       /*
;;;1052       for(int i=0;i<tempsize;i++)
;;;1053       {   
;;;1054           if(radarIndex == 0)
;;;1055               terninalPrintf("%02x. ",tempBuff[i]);
;;;1056           else if(radarIndex == 1)
;;;1057               terninalPrintf("%02x_ ",tempBuff[i]);
;;;1058       }        
;;;1059       terninalPrintf("\r\n");
;;;1060       */
;;;1061       vTaskDelay(100/portTICK_RATE_MS);
;;;1062   
;;;1063       
;;;1064       result = Decode_StateMachine( radarIndex,radarCmd,tempsize, tempBuff, radarData);
;;;1065       //if(Decode_StateMachine( radarIndex,radarCmd,index, pRadarBuffer, radarData) == TRUE)
;;;1066       
;;;1067       if(result != RADAR_WAIT_NEXTDATA)
;;;1068       {
;;;1069           ShiftReadIndex(radarIndex, tempsize);
;;;1070           /*
;;;1071           if(radarIndex == 0)
;;;1072           {        
;;;1073               outpw(REG_SYS_GPE_MFPH,(inpw(REG_SYS_GPE_MFPH) & ~(0xF<<20)) | (0x0<<20));
;;;1074               GPIO_OpenBit(GPIOE, BIT13, DIR_INPUT, NO_PULL_UP);         
;;;1075               //GPIO_CloseBit(GPIOE,BIT13);
;;;1076           }
;;;1077           else if(radarIndex == 1)
;;;1078           {
;;;1079               outpw(REG_SYS_GPG_MFPL,(inpw(REG_SYS_GPG_MFPL) & ~(0xF<<20)) | (0x0<<20));
;;;1080               GPIO_OpenBit(GPIOG, BIT5, DIR_INPUT, NO_PULL_UP); 
;;;1081               //GPIO_CloseBit(GPIOG,BIT5);
;;;1082           }
;;;1083           */
;;;1084       }
;;;1085       
;;;1086       return result;
;;;1087       
;;;1088   }
0014fc  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.5376|
001500  ebfffffe          BL       EnabledBurninTestMode
001504  e3500000          CMP      r0,#0                 ;1029
001508  1a000003          BNE      |L1.5404|
00150c  e1a02004          MOV      r2,r4                 ;1031
001510  e2851001          ADD      r1,r5,#1              ;1031
001514  e28f00b0          ADR      r0,|L1.5580|
001518  ebfffffe          BL       terninalPrintf
                  |L1.5404|
00151c  ebfffffe          BL       EnabledBurninTestMode
001520  e3500000          CMP      r0,#0                 ;1034
001524  0a00000a          BEQ      |L1.5460|
001528  e1a03004          MOV      r3,r4                 ;1036
00152c  e2852001          ADD      r2,r5,#1              ;1036
001530  e28f1094          ADR      r1,|L1.5580|
001534  e51f04e0          LDR      r0,|L1.4188|
001538  ebfffffe          BL       __2sprintf
00153c  e51f04e8          LDR      r0,|L1.4188|
001540  ebfffffe          BL       strlen
001544  e58d0004          STR      r0,[sp,#4]            ;1038
001548  e1a01000          MOV      r1,r0                 ;1038
00154c  e51f04f8          LDR      r0,|L1.4188|
001550  ebfffffe          BL       AppendBurninErrorLog
                  |L1.5460|
001554  e3a00000          MOV      r0,#0                 ;1043
001558  eaffffe6          B        |L1.5368|
                  |L1.5468|
                          DCD      ||.constdata||+0x60
                  |L1.5472|
001560  5b455252          DCB      "[ERROR:RADAR] [%d]    CRCcheck not match, CRCcheck = %d"
001564  4f523a52
001568  41444152
00156c  5d205b25
001570  645d2020
001574  20204352
001578  43636865
00157c  636b206e
001580  6f74206d
001584  61746368
001588  2c204352
00158c  43636865
001590  636b203d
001594  202564  
001597  202d2d0d          DCB      " --\r\n",0
00159b  0a00    
00159d  00                DCB      0
00159e  00                DCB      0
00159f  00                DCB      0
                  |L1.5536|
0015a0  5b455252          DCB      "[ERROR:RADAR] [%d]    Unknown --\r\n",0
0015a4  4f523a52
0015a8  41444152
0015ac  5d205b25
0015b0  645d2020
0015b4  2020556e
0015b8  6b6e6f77
0015bc  6e202d2d
0015c0  0d0a00  
0015c3  00                DCB      0
                  |L1.5572|
                          DCD      0x00000122
                  |L1.5576|
                          DCD      0x50505050
                  |L1.5580|
0015cc  5b455252          DCB      "[ERROR:RADAR] [%d]    No data, BuffIndex = %d --\r\n",0
0015d0  4f523a52
0015d4  41444152
0015d8  5d205b25
0015dc  645d2020
0015e0  20204e6f
0015e4  20646174
0015e8  612c2042
0015ec  75666649
0015f0  6e646578
0015f4  203d2025
0015f8  64202d2d
0015fc  0d0a00  
0015ff  00                DCB      0
                  |L1.5632|
001600  e28d100c          ADD      r1,sp,#0xc            ;1050
001604  e1a00005          MOV      r0,r5                 ;1050
001608  ebfffffe          BL       ReadRingBufFun
00160c  e58d0008          STR      r0,[sp,#8]            ;1050
001610  e3a0000a          MOV      r0,#0xa               ;1061
001614  ebfffffe          BL       vTaskDelay
001618  e58db000          STR      r11,[sp,#0]           ;1064
00161c  e28d300c          ADD      r3,sp,#0xc            ;1064
001620  e1a01006          MOV      r1,r6                 ;1064
001624  e1a00005          MOV      r0,r5                 ;1064
001628  e59d2008          LDR      r2,[sp,#8]            ;1064
00162c  ebfffffe          BL       Decode_StateMachine
001630  e1a08000          MOV      r8,r0                 ;1064
001634  e3580030          CMP      r8,#0x30              ;1067
001638  0a000002          BEQ      |L1.5704|
00163c  e1a00005          MOV      r0,r5                 ;1069
001640  e59d1008          LDR      r1,[sp,#8]            ;1069
001644  ebfffffe          BL       ShiftReadIndex
                  |L1.5704|
001648  e1a00008          MOV      r0,r8                 ;1086
00164c  eaffffa9          B        |L1.5368|
;;;1089   
                          ENDP

                  newRadarResultElite PROC
;;;1091   
;;;1092   int newRadarResultElite(int radarIndex, uint8_t radarCmd, uint8_t* CmdBuff, uint8_t* radarData)
001650  e92d5ff0          PUSH     {r4-r12,lr}
;;;1093   {
001654  e24dde41          SUB      sp,sp,#0x410
001658  e1a05000          MOV      r5,r0
00165c  e1a06001          MOV      r6,r1
001660  e1a08002          MOV      r8,r2
001664  e1a09003          MOV      r9,r3
;;;1094       uint8_t* pRadarBuffer;
;;;1095       int counter = 0;
001668  e3a0b000          MOV      r11,#0
;;;1096       int index = 0;
00166c  e3a00000          MOV      r0,#0
001670  e58d040c          STR      r0,[sp,#0x40c]
;;;1097       int result;
;;;1098   
;;;1099       INT32 reVal;
;;;1100       uint8_t tempBuff[RING_BUFFER_SIZE];
;;;1101       int tempsize;
;;;1102       
;;;1103       pRadarBuffer = (uint8_t*)&radarBuffer[radarIndex];
001674  e51f0bc0          LDR      r0,|L1.2748|
001678  e080a505          ADD      r10,r0,r5,LSL #10
;;;1104   
;;;1105       radarSetPower(radarIndex, TRUE);  
00167c  e3a01001          MOV      r1,#1
001680  e1a00005          MOV      r0,r5
001684  ebfffffe          BL       radarSetPower
;;;1106       
;;;1107                                
;;;1108       if(radarCmd == 0x00)
001688  e3560000          CMP      r6,#0
00168c  1a000004          BNE      |L1.5796|
;;;1109           radarWrite(radarIndex, CmdBuff, 9);
001690  e3a02009          MOV      r2,#9
001694  e1a01008          MOV      r1,r8
001698  e1a00005          MOV      r0,r5
00169c  ebfffffe          BL       radarWrite
0016a0  ea000005          B        |L1.5820|
                  |L1.5796|
;;;1110       else if(radarCmd == 0x02)
0016a4  e3560002          CMP      r6,#2
0016a8  1a000003          BNE      |L1.5820|
;;;1111           radarWrite(radarIndex, CmdBuff, 24);
0016ac  e3a02018          MOV      r2,#0x18
0016b0  e1a01008          MOV      r1,r8
0016b4  e1a00005          MOV      r0,r5
0016b8  ebfffffe          BL       radarWrite
                  |L1.5820|
;;;1112        //xSemaphoreGive(xSemaphore);
;;;1113       RadarPoolingFlag = TRUE;
0016bc  e3a00001          MOV      r0,#1
0016c0  e51f1c10          LDR      r1,|L1.2744|
0016c4  e5c10000          STRB     r0,[r1,#0]  ; RadarPoolingFlag
;;;1114       vTaskDelay(10/portTICK_RATE_MS);
0016c8  ebfffffe          BL       vTaskDelay
;;;1115       //terninalPrintf("radar%d <= ",radarIndex+1);
;;;1116       tempsize = ReadRingBufFun(radarIndex,tempBuff);
0016cc  e28d100c          ADD      r1,sp,#0xc
0016d0  e1a00005          MOV      r0,r5
0016d4  ebfffffe          BL       ReadRingBufFun
0016d8  e1a04000          MOV      r4,r0
;;;1117       /*
;;;1118       for(int i=0;i<tempsize;i++)
;;;1119           terninalPrintf("%02x ",tempBuff[i]);    
;;;1120       terninalPrintf("\r\n");
;;;1121       */
;;;1122       if(tempsize < 9)
0016dc  e3540009          CMP      r4,#9
0016e0  aa000009          BGE      |L1.5900|
;;;1123       {
;;;1124           #if (ENABLE_BURNIN_TESTER)
;;;1125           if (EnabledBurninTestMode() == FALSE)
0016e4  ebfffffe          BL       EnabledBurninTestMode
0016e8  e3500000          CMP      r0,#0
0016ec  1a000003          BNE      |L1.5888|
;;;1126           #endif
;;;1127               terninalPrintf("[ERROR:RADAR] [%d]    No data, BuffSize = %d --\r\n", radarIndex+1, tempsize);
0016f0  e1a02004          MOV      r2,r4
0016f4  e2851001          ADD      r1,r5,#1
0016f8  e28f0e36          ADR      r0,|L1.6752|
0016fc  ebfffffe          BL       terninalPrintf
                  |L1.5888|
;;;1128           return FALSE;
001700  e3a00000          MOV      r0,#0
                  |L1.5892|
001704  e28dde41          ADD      sp,sp,#0x410
;;;1129       }
;;;1130   
;;;1131       result = Decode_StateMachine( radarIndex,radarCmd,tempsize, tempBuff, radarData);
;;;1132       
;;;1133       if(result != RADAR_WAIT_NEXTDATA)
;;;1134       {
;;;1135           ShiftReadIndex(radarIndex, tempsize);
;;;1136   
;;;1137       }
;;;1138       
;;;1139       return result;
;;;1140       
;;;1141   }
001708  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.5900|
00170c  e58d9000          STR      r9,[sp,#0]            ;1131
001710  e28d300c          ADD      r3,sp,#0xc            ;1131
001714  e1a02004          MOV      r2,r4                 ;1131
001718  e1a01006          MOV      r1,r6                 ;1131
00171c  e1a00005          MOV      r0,r5                 ;1131
001720  ebfffffe          BL       Decode_StateMachine
001724  e1a07000          MOV      r7,r0                 ;1131
001728  e3570030          CMP      r7,#0x30              ;1133
00172c  0a000002          BEQ      |L1.5948|
001730  e1a01004          MOV      r1,r4                 ;1135
001734  e1a00005          MOV      r0,r5                 ;1135
001738  ebfffffe          BL       ShiftReadIndex
                  |L1.5948|
00173c  e1a00007          MOV      r0,r7                 ;1139
001740  eaffffef          B        |L1.5892|
;;;1142   
                          ENDP

                  newRadarResultPure PROC
;;;1143   int newRadarResultPure(int radarIndex, uint8_t* CmdBuff, int CmdBuffLen, uint8_t* radarData, int* radarDataLen,int WaitTime)
001744  e92d5fff          PUSH     {r0-r12,lr}
;;;1144   {
001748  e1a07000          MOV      r7,r0
00174c  e1a08001          MOV      r8,r1
001750  e1a0b003          MOV      r11,r3
001754  e59d903c          LDR      r9,[sp,#0x3c]
;;;1145       uint8_t* pRadarBuffer;
;;;1146       int counter = 0;
001758  e3a06000          MOV      r6,#0
;;;1147       int index = 0;
00175c  e3a04000          MOV      r4,#0
;;;1148       int result;
;;;1149   
;;;1150       INT32 reVal;
;;;1151       uint8_t tempBuff[RING_BUFFER_SIZE];
;;;1152       int tempsize;
;;;1153       
;;;1154       pRadarBuffer = (uint8_t*)&radarBuffer[radarIndex];
001760  e51f0cac          LDR      r0,|L1.2748|
001764  e080a507          ADD      r10,r0,r7,LSL #10
;;;1155   
;;;1156       radarSetPower(radarIndex, TRUE);  
001768  e3a01001          MOV      r1,#1
00176c  e1a00007          MOV      r0,r7
001770  ebfffffe          BL       radarSetPower
;;;1157       
;;;1158       if(CmdBuff != NULL)
001774  e3580000          CMP      r8,#0
001778  0a000003          BEQ      |L1.6028|
;;;1159           radarWrite(radarIndex, CmdBuff, CmdBuffLen);
00177c  e1a01008          MOV      r1,r8
001780  e1a00007          MOV      r0,r7
001784  e59d2008          LDR      r2,[sp,#8]
001788  ebfffffe          BL       radarWrite
                  |L1.6028|
;;;1160       /*
;;;1161       if(radarCmd == 0x00)
;;;1162           radarWrite(radarIndex, CmdBuff, 9);
;;;1163       else if(radarCmd == 0x02)
;;;1164           radarWrite(radarIndex, CmdBuff, 24);
;;;1165       else if(radarCmd == 0x05)
;;;1166           radarWrite(radarIndex, CmdBuff, 9);
;;;1167       */
;;;1168       
;;;1169       if(WaitTime >= 10)
00178c  e359000a          CMP      r9,#0xa
001790  ba000011          BLT      |L1.6108|
;;;1170       {
;;;1171           while(counter < (WaitTime / 10))
001794  ea00000a          B        |L1.6084|
                  |L1.6040|
;;;1172           {
;;;1173               vTaskDelay(10/portTICK_RATE_MS);
001798  e3a00001          MOV      r0,#1
00179c  ebfffffe          BL       vTaskDelay
;;;1174               reVal = radarRead(radarIndex, pRadarBuffer + index, RADAR_BUFFER_SIZE - index);
0017a0  e2642b01          RSB      r2,r4,#0x400
0017a4  e08a1004          ADD      r1,r10,r4
0017a8  e1a00007          MOV      r0,r7
0017ac  ebfffffe          BL       radarRead
0017b0  e1a05000          MOV      r5,r0
;;;1175               if(reVal > 0)
0017b4  e3550000          CMP      r5,#0
0017b8  da000000          BLE      |L1.6080|
;;;1176               {
;;;1177                   index = index + reVal; 
0017bc  e0844005          ADD      r4,r4,r5
                  |L1.6080|
;;;1178   
;;;1179               }   
;;;1180               counter++;
0017c0  e2866001          ADD      r6,r6,#1
                  |L1.6084|
0017c4  e3a0100a          MOV      r1,#0xa               ;1171
0017c8  e1a00009          MOV      r0,r9                 ;1171
0017cc  ebfffffe          BL       __aeabi_idivmod
0017d0  e1500006          CMP      r0,r6                 ;1171
0017d4  caffffef          BGT      |L1.6040|
0017d8  ea00000d          B        |L1.6164|
                  |L1.6108|
;;;1181           }
;;;1182       }
;;;1183       else
;;;1184       {
;;;1185           while(counter < WaitTime)
0017dc  ea00000a          B        |L1.6156|
                  |L1.6112|
;;;1186           {
;;;1187               vTaskDelay(1/portTICK_RATE_MS);
0017e0  e3a00000          MOV      r0,#0
0017e4  ebfffffe          BL       vTaskDelay
;;;1188               reVal = radarRead(radarIndex, pRadarBuffer + index, RADAR_BUFFER_SIZE - index);
0017e8  e2642b01          RSB      r2,r4,#0x400
0017ec  e08a1004          ADD      r1,r10,r4
0017f0  e1a00007          MOV      r0,r7
0017f4  ebfffffe          BL       radarRead
0017f8  e1a05000          MOV      r5,r0
;;;1189               if(reVal > 0)
0017fc  e3550000          CMP      r5,#0
001800  da000000          BLE      |L1.6152|
;;;1190               {
;;;1191                   index = index + reVal; 
001804  e0844005          ADD      r4,r4,r5
                  |L1.6152|
;;;1192   
;;;1193               }   
;;;1194               counter++;
001808  e2866001          ADD      r6,r6,#1
                  |L1.6156|
00180c  e1560009          CMP      r6,r9                 ;1185
001810  bafffff2          BLT      |L1.6112|
                  |L1.6164|
;;;1195           }
;;;1196       }
;;;1197       /*
;;;1198       if(index > 0)
;;;1199       {
;;;1200           SaveRingBufFun(radarIndex,pRadarBuffer,index);
;;;1201       }
;;;1202       */
;;;1203       if(index < 1)
001814  e3540001          CMP      r4,#1
001818  aa000006          BGE      |L1.6200|
;;;1204       {
;;;1205           terninalPrintf("[ERROR:RADAR] [%d]    No data, BuffIndex = %d --\r\n", radarIndex+1, index);
00181c  e1a02004          MOV      r2,r4
001820  e2871001          ADD      r1,r7,#1
001824  e24f0e26          ADR      r0,|L1.5580|
001828  ebfffffe          BL       terninalPrintf
;;;1206           return FALSE;        
00182c  e3a00000          MOV      r0,#0
                  |L1.6192|
001830  e28dd010          ADD      sp,sp,#0x10
;;;1207       }
;;;1208       /*
;;;1209       if(index == 1)
;;;1210       {
;;;1211           terninalPrintf("pRadarBuffer = ");
;;;1212           for(int i=0;i<20;i++)
;;;1213               terninalPrintf("%02x ",pRadarBuffer[i]);    
;;;1214           terninalPrintf("\r\n");
;;;1215       }
;;;1216       */
;;;1217       //terninalPrintf("radar%d <= ",radarIndex+1);
;;;1218       //tempsize = ReadRingBufFun(radarIndex,tempBuff);
;;;1219       /*
;;;1220       if(tempsize <= 5)
;;;1221       {
;;;1222           terninalPrintf("tempBuff = ");
;;;1223           for(int i=0;i<tempsize;i++)
;;;1224               terninalPrintf("%02x ",tempBuff[i]);    
;;;1225           terninalPrintf("\r\n");
;;;1226       }
;;;1227       */
;;;1228       /*
;;;1229       for(int i=0;i<tempsize;i++)
;;;1230           terninalPrintf("%02x ",tempBuff[i]);    
;;;1231       terninalPrintf("\r\n");
;;;1232       */
;;;1233      // vTaskDelay(100/portTICK_RATE_MS);
;;;1234       /*
;;;1235       *radarDataLen = tempsize;
;;;1236       memcpy(radarData,tempBuff,tempsize);
;;;1237       */
;;;1238       
;;;1239       *radarDataLen = index;
;;;1240       if(CmdBuff != NULL)
;;;1241           memcpy(radarData,pRadarBuffer,index);
;;;1242       
;;;1243       //result = Decode_StateMachine( radarIndex,radarCmd,tempsize, tempBuff, radarData);
;;;1244   
;;;1245       //ShiftReadIndex(radarIndex, tempsize);
;;;1246   
;;;1247       
;;;1248       return TRUE;
;;;1249       
;;;1250   }
001834  e8bd9ff0          POP      {r4-r12,pc}
                  |L1.6200|
001838  e59d0038          LDR      r0,[sp,#0x38]         ;1239
00183c  e5804000          STR      r4,[r0,#0]            ;1239
001840  e3580000          CMP      r8,#0                 ;1240
001844  0a000003          BEQ      |L1.6232|
001848  e1a02004          MOV      r2,r4                 ;1241
00184c  e1a0100a          MOV      r1,r10                ;1241
001850  e1a0000b          MOV      r0,r11                ;1241
001854  ebfffffe          BL       __aeabi_memcpy
                  |L1.6232|
001858  e3a00001          MOV      r0,#1                 ;1248
00185c  eafffff3          B        |L1.6192|
;;;1251   
                          ENDP

                  newRadarFlush PROC
;;;1253   
;;;1254   void newRadarFlush(int radarIndex)
001860  e92d4010          PUSH     {r4,lr}
;;;1255   {
001864  e1a04000          MOV      r4,r0
;;;1256       radarRead(radarIndex, (uint8_t*)&radarBuffer[radarIndex], RADAR_BUFFER_SIZE);
001868  e51f0db4          LDR      r0,|L1.2748|
00186c  e0801504          ADD      r1,r0,r4,LSL #10
001870  e3a02b01          MOV      r2,#0x400
001874  e1a00004          MOV      r0,r4
001878  ebfffffe          BL       radarRead
;;;1257       RingFifoPtr[radarIndex]->ReadIndex = RingFifoPtr[radarIndex]->SaveIndex;
00187c  e59f0210          LDR      r0,|L1.6804|
001880  e7900104          LDR      r0,[r0,r4,LSL #2]
001884  e2801b01          ADD      r1,r0,#0x400
001888  e5d00401          LDRB     r0,[r0,#0x401]
00188c  e5d11000          LDRB     r1,[r1,#0]
001890  e1810400          ORR      r0,r1,r0,LSL #8
001894  e59f11f8          LDR      r1,|L1.6804|
001898  e7911104          LDR      r1,[r1,r4,LSL #2]
00189c  e5c10402          STRB     r0,[r1,#0x402]
0018a0  e1a00420          LSR      r0,r0,#8
0018a4  e5c10403          STRB     r0,[r1,#0x403]
;;;1258       //memset(RingFifoPtr[radarIndex],0x00,sizeof(RingfifoStruct));
;;;1259   }
0018a8  e8bd8010          POP      {r4,pc}
;;;1260   
                          ENDP

                  RadarLogCheckStr PROC
;;;2032   }
;;;2033   void RadarLogCheckStr(int index)
0018ac  e92d4010          PUSH     {r4,lr}
;;;2034   {
0018b0  e1a04000          MOV      r4,r0
;;;2035       LoglibPrintf(LOG_TYPE_INFO, checkStr[index]);
0018b4  e59f01dc          LDR      r0,|L1.6808|
0018b8  e0801504          ADD      r1,r0,r4,LSL #10
0018bc  e3a00000          MOV      r0,#0
0018c0  ebfffffe          BL       LoglibPrintf
;;;2036       
;;;2037   }
0018c4  e8bd8010          POP      {r4,pc}
;;;2038   void RadarSetLogFlag(int radarindex)
                          ENDP

                  RadarCheckFeature PROC
;;;1261   
;;;1262   int RadarCheckFeature(int radarIndex, BOOL* changeFlag, void* para1, void* para2, void* para3)
0018c8  e92d4fff          PUSH     {r0-r11,lr}
;;;1263   {
0018cc  e24dd084          SUB      sp,sp,#0x84
0018d0  e1a04000          MOV      r4,r0
0018d4  e1a0a001          MOV      r10,r1
;;;1264       int returnVal = RADAR_FEATURE_FAIL;  //RADAR_FEATURE_IGNORE;
0018d8  e3a050ff          MOV      r5,#0xff
;;;1265       #if(1)
;;;1266       sysprintf("\r\n --- [information:RADAR] RadarCheckFeature!![%d] (CheckDist:(%d, %d, %d), MinPower:%d, StableRange:%d ,StableCounter:%d, VacuumCounter:%d, counter:%d) ENTER  ----\r\n", 
0018dc  e59f01b8          LDR      r0,|L1.6812|
0018e0  e7900104          LDR      r0,[r0,r4,LSL #2]
0018e4  e59f11b4          LDR      r1,|L1.6816|
0018e8  e7911104          LDR      r1,[r1,r4,LSL #2]
0018ec  e59f21b0          LDR      r2,|L1.6820|
0018f0  e7922104          LDR      r2,[r2,r4,LSL #2]
0018f4  e59f31ac          LDR      r3,|L1.6824|
0018f8  e7933104          LDR      r3,[r3,r4,LSL #2]
0018fc  e58d0014          STR      r0,[sp,#0x14]
001900  e59f01a4          LDR      r0,|L1.6828|
001904  e58d1010          STR      r1,[sp,#0x10]
001908  e58d200c          STR      r2,[sp,#0xc]
00190c  e58d3008          STR      r3,[sp,#8]
001910  e7900104          LDR      r0,[r0,r4,LSL #2]
001914  e59f1194          LDR      r1,|L1.6832|
001918  e7911104          LDR      r1,[r1,r4,LSL #2]
00191c  e58d0004          STR      r0,[sp,#4]
001920  e59f018c          LDR      r0,|L1.6836|
001924  e58d1000          STR      r1,[sp,#0]
001928  e7903104          LDR      r3,[r0,r4,LSL #2]
00192c  e59f0184          LDR      r0,|L1.6840|
001930  e7902104          LDR      r2,[r0,r4,LSL #2]
001934  e1a01004          MOV      r1,r4
001938  e59f017c          LDR      r0,|L1.6844|
00193c  ebfffffe          BL       sysprintf
;;;1267                               radarIndex, checkExceedDist[radarIndex], checkMaxDist[radarIndex], checkMinDist[radarIndex], checkMinPower[radarIndex],
;;;1268                               checkStableDistRange[radarIndex], checkStableCounter[radarIndex], checkVacuumCounter[radarIndex], counterNumber[radarIndex]);
;;;1269       #endif
;;;1270       //int counter = 0;
;;;1271       int* reDist = para1;
001940  e59d008c          LDR      r0,[sp,#0x8c]
001944  e58d0080          STR      r0,[sp,#0x80]
;;;1272       int* rePower = para2;
001948  e59d0090          LDR      r0,[sp,#0x90]
00194c  e58d007c          STR      r0,[sp,#0x7c]
;;;1273       int* occupiedType = para3;
001950  e59d00b8          LDR      r0,[sp,#0xb8]
001954  e58d0078          STR      r0,[sp,#0x78]
;;;1274       char* titleStr;
;;;1275       uint8_t* pTargetPacket;
;;;1276       uint8_t* pRadarBuffer;// = (uint8_t*)&radarBuffer[radarIndex][radarIndex];
;;;1277       uint8_t packageTotalSize;
;;;1278       char debugStr[64];
;;;1279       int getTimes = 0;
001958  e3a00000          MOV      r0,#0
00195c  e58d002c          STR      r0,[sp,#0x2c]
;;;1280       int totalDist = 0;
001960  e58d0028          STR      r0,[sp,#0x28]
;;;1281       int totalPower = 0;
001964  e58d0024          STR      r0,[sp,#0x24]
;;;1282       
;;;1283       BOOL timeoutFlag = FALSE;
001968  e58d0020          STR      r0,[sp,#0x20]
;;;1284       
;;;1285       #if(ENABLE_MAX_MIN_FILTER)
;;;1286       int maxDist = 0, minDist = 0;
;;;1287       int maxPower = 0, minPower = 0;
;;;1288       #endif
;;;1289       TickType_t tickLocalStart = xTaskGetTickCount();
00196c  ebfffffe          BL       xTaskGetTickCount
001970  e58d001c          STR      r0,[sp,#0x1c]
;;;1290       
;;;1291       pTargetPacket = (uint8_t*)&targetPacket[radarIndex];
001974  e0840084          ADD      r0,r4,r4,LSL #1
001978  e59f1140          LDR      r1,|L1.6848|
00197c  e0817180          ADD      r7,r1,r0,LSL #3
;;;1292       pRadarBuffer = (uint8_t*)&radarBuffer[radarIndex];
001980  e51f0ecc          LDR      r0,|L1.2748|
001984  e0808504          ADD      r8,r0,r4,LSL #10
;;;1293       
;;;1294       *changeFlag = FALSE;
001988  e3a00000          MOV      r0,#0
00198c  e5ca0000          STRB     r0,[r10,#0]
;;;1295       radarBufferIndex[radarIndex] = 0;
001990  e59f112c          LDR      r1,|L1.6852|
001994  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1296       targetPacketIndex[radarIndex] = 0;
001998  e59f1128          LDR      r1,|L1.6856|
00199c  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1297       //*reDist = 0;
;;;1298       *occupiedType = RADAR_VACUUM_TYPE;
0019a0  e3a01000          MOV      r1,#0
0019a4  e59d0078          LDR      r0,[sp,#0x78]
0019a8  e5801000          STR      r1,[r0,#0]
;;;1299       if(radarIndex == 0)
0019ac  e3540000          CMP      r4,#0
0019b0  1a000002          BNE      |L1.6592|
;;;1300       {
;;;1301           //titleStr = " [L] ";
;;;1302           titleStr = " [1] ";
0019b4  e28f0e11          ADR      r0,|L1.6860|
0019b8  e58d0074          STR      r0,[sp,#0x74]
0019bc  ea000001          B        |L1.6600|
                  |L1.6592|
;;;1303       }
;;;1304       else
;;;1305       {
;;;1306           //titleStr = " [R] ";
;;;1307           titleStr = " [2] ";
0019c0  e28f0f43          ADR      r0,|L1.6868|
0019c4  e58d0074          STR      r0,[sp,#0x74]
                  |L1.6600|
;;;1308       }
;;;1309       
;;;1310       //xSemaphoreTake(xRunningSemaphore, portMAX_DELAY);
;;;1311       
;;;1312       //radarFlushRxBuffer(radarIndex);  
;;;1313   #if (ENABLE_BURNIN_TESTER)
;;;1314       if ((EnabledBurninTestMode() == FALSE) && (powerStatus[radarIndex] == FALSE))
0019c8  ebfffffe          BL       EnabledBurninTestMode
0019cc  e3500000          CMP      r0,#0
0019d0  1a000006          BNE      |L1.6640|
0019d4  e59f0100          LDR      r0,|L1.6876|
0019d8  e7d00004          LDRB     r0,[r0,r4]
0019dc  e3500000          CMP      r0,#0
0019e0  1a000002          BNE      |L1.6640|
;;;1315       {
;;;1316           radarSetPower(radarIndex, TRUE);
0019e4  e3a01001          MOV      r1,#1
0019e8  e1a00004          MOV      r0,r4
0019ec  ebfffffe          BL       radarSetPower
                  |L1.6640|
;;;1317           //vTaskDelay(300/portTICK_RATE_MS);
;;;1318       }
;;;1319   #else
;;;1320       
;;;1321       if(powerStatus[radarIndex] == FALSE)
;;;1322       {
;;;1323           radarSetPower(radarIndex, TRUE);  
;;;1324       }        
;;;1325   #endif    
;;;1326       //vTaskDelay(500/portTICK_RATE_MS);
;;;1327       
;;;1328       tickLocalStart = xTaskGetTickCount();
0019f0  ebfffffe          BL       xTaskGetTickCount
0019f4  e58d001c          STR      r0,[sp,#0x1c]
;;;1329       radarFlushRxBuffer(radarIndex); 
0019f8  e1a00004          MOV      r0,r4
0019fc  ebfffffe          BL       radarFlushRxBuffer
;;;1330       if(calibrationFlag[radarIndex] == TRUE)
001a00  e59f00d8          LDR      r0,|L1.6880|
001a04  e7d00004          LDRB     r0,[r0,r4]
001a08  e3500001          CMP      r0,#1
001a0c  1a000038          BNE      |L1.6900|
;;;1331       {
;;;1332           BuzzerPlay(100, 100, 3, TRUE);
001a10  e3a03001          MOV      r3,#1
001a14  e3a02003          MOV      r2,#3
001a18  e3a01064          MOV      r1,#0x64
001a1c  e1a00001          MOV      r0,r1
001a20  ebfffffe          BL       BuzzerPlay
;;;1333           //calibrationFlag[radarIndex] = FALSE;
;;;1334           waitTimeoutTick[radarIndex] = RADAR_TIMEOUT_TIME_CALIBRATION;
001a24  e59f00b8          LDR      r0,|L1.6884|
001a28  e59f10b8          LDR      r1,|L1.6888|
001a2c  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1335           radarWrite(radarIndex, calibrationCmd, sizeof(calibrationCmd));
001a30  e3a0200b          MOV      r2,#0xb
001a34  e59f10b0          LDR      r1,|L1.6892|
001a38  e1a00004          MOV      r0,r4
001a3c  ebfffffe          BL       radarWrite
;;;1336           terninalPrintf("\n\r ---------- >[INFO:RADAR]-%s- WAIT... RADAR_TIMEOUT_TIME = %d --\r\n", titleStr, RADAR_TIMEOUT_TIME*portTICK_RATE_MS);
001a40  e59f00a0          LDR      r0,|L1.6888|
001a44  e7900104          LDR      r0,[r0,r4,LSL #2]
001a48  e0800100          ADD      r0,r0,r0,LSL #2
001a4c  e1a02080          LSL      r2,r0,#1
001a50  e59f0098          LDR      r0,|L1.6896|
001a54  e59d1074          LDR      r1,[sp,#0x74]
001a58  ebfffffe          BL       terninalPrintf
001a5c  ea00004e          B        |L1.7068|
                  |L1.6752|
001a60  5b455252          DCB      "[ERROR:RADAR] [%d]    No data, BuffSize = %d --\r\n",0
001a64  4f523a52
001a68  41444152
001a6c  5d205b25
001a70  645d2020
001a74  20204e6f
001a78  20646174
001a7c  612c2042
001a80  75666653
001a84  697a6520
001a88  3d202564
001a8c  202d2d0d
001a90  0a00    
001a92  00                DCB      0
001a93  00                DCB      0
                  |L1.6804|
                          DCD      RingFifoPtr
                  |L1.6808|
                          DCD      checkStr
                  |L1.6812|
                          DCD      counterNumber
                  |L1.6816|
                          DCD      checkVacuumCounter
                  |L1.6820|
                          DCD      checkStableCounter
                  |L1.6824|
                          DCD      checkStableDistRange
                  |L1.6828|
                          DCD      checkMinPower
                  |L1.6832|
                          DCD      checkMinDist
                  |L1.6836|
                          DCD      checkMaxDist
                  |L1.6840|
                          DCD      checkExceedDist
                  |L1.6844|
                          DCD      ||.constdata||+0xc0
                  |L1.6848|
                          DCD      targetPacket
                  |L1.6852|
                          DCD      radarBufferIndex
                  |L1.6856|
                          DCD      targetPacketIndex
                  |L1.6860|
001acc  205b315d          DCB      " [1] ",0
001ad0  2000    
001ad2  00                DCB      0
001ad3  00                DCB      0
                  |L1.6868|
001ad4  205b325d          DCB      " [2] ",0
001ad8  2000    
001ada  00                DCB      0
001adb  00                DCB      0
                  |L1.6876|
                          DCD      powerStatus
                  |L1.6880|
                          DCD      calibrationFlag
                  |L1.6884|
                          DCD      0x000005dc
                  |L1.6888|
                          DCD      waitTimeoutTick
                  |L1.6892|
                          DCD      calibrationCmd
                  |L1.6896|
                          DCD      ||.constdata||+0x168
                  |L1.6900|
;;;1337           /*
;;;1338           waitTimeoutTick[1] = RADAR_TIMEOUT_TIME_CALIBRATION;
;;;1339           radarWrite(1, calibrationCmd, sizeof(calibrationCmd));
;;;1340           terninalPrintf("\n\r ---------- >[INFO:RADAR]- [R] - WAIT... RADAR_TIMEOUT_TIME = %d --\r\n", RADAR_TIMEOUT_TIME*portTICK_RATE_MS);*/
;;;1341       }
;;;1342       else if(queryversionFlag[radarIndex] == TRUE)
001af4  e59f04a0          LDR      r0,|L1.8092|
001af8  e7d00004          LDRB     r0,[r0,r4]
001afc  e3500001          CMP      r0,#1
001b00  1a000007          BNE      |L1.6948|
;;;1343       {
;;;1344           waitTimeoutTick[radarIndex] = RADAR_TIMEOUT_TIME_NORMAL;
001b04  e3a00f7d          MOV      r0,#0x1f4
001b08  e51f1028          LDR      r1,|L1.6888|
001b0c  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1345           radarWrite(radarIndex, versionCmd, sizeof(versionCmd));
001b10  e3a02009          MOV      r2,#9
001b14  e59f1484          LDR      r1,|L1.8096|
001b18  e1a00004          MOV      r0,r4
001b1c  ebfffffe          BL       radarWrite
001b20  ea00001d          B        |L1.7068|
                  |L1.6948|
;;;1346       }
;;;1347       else
;;;1348       {
;;;1349           if(readMBtestFunc())
001b24  ebfffffe          BL       readMBtestFunc
001b28  e3500000          CMP      r0,#0
001b2c  0a000013          BEQ      |L1.7040|
;;;1350           {
;;;1351               if(radarIndex == 0)
001b30  e3540000          CMP      r4,#0
001b34  1a000007          BNE      |L1.7000|
;;;1352               {
;;;1353                   //terninalPrintf("radarIndex = 0 \r\n");
;;;1354                   waitTimeoutTick[radarIndex] = (500/portTICK_RATE_MS); //RADAR_TIMEOUT_TIME_NORMAL;
001b38  e3a00032          MOV      r0,#0x32
001b3c  e51f105c          LDR      r1,|L1.6888|
001b40  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1355                   radarWrite(1, output0Cmd, sizeof(output0Cmd));
001b44  e3a0200a          MOV      r2,#0xa
001b48  e59f1454          LDR      r1,|L1.8100|
001b4c  e3a00001          MOV      r0,#1
001b50  ebfffffe          BL       radarWrite
001b54  ea000010          B        |L1.7068|
                  |L1.7000|
;;;1356               }
;;;1357               else if(radarIndex == 1)
001b58  e3540001          CMP      r4,#1
001b5c  1a00000e          BNE      |L1.7068|
;;;1358               {
;;;1359                   //terninalPrintf("radarIndex = 1 \r\n");
;;;1360                   waitTimeoutTick[radarIndex] = (500/portTICK_RATE_MS); //RADAR_TIMEOUT_TIME_NORMAL;
001b60  e3a00032          MOV      r0,#0x32
001b64  e51f1084          LDR      r1,|L1.6888|
001b68  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1361                   radarWrite(0, output1Cmd, sizeof(output1Cmd));
001b6c  e3a0200a          MOV      r2,#0xa
001b70  e59f1430          LDR      r1,|L1.8104|
001b74  e3a00000          MOV      r0,#0
001b78  ebfffffe          BL       radarWrite
001b7c  ea000006          B        |L1.7068|
                  |L1.7040|
;;;1362               }
;;;1363           }
;;;1364           else
;;;1365           {
;;;1366               waitTimeoutTick[radarIndex] = RADAR_TIMEOUT_TIME_NORMAL;
001b80  e3a00f7d          MOV      r0,#0x1f4
001b84  e51f10a4          LDR      r1,|L1.6888|
001b88  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1367               radarWrite(radarIndex, outputOnCmd, sizeof(outputOnCmd));
001b8c  e3a02009          MOV      r2,#9
001b90  e59f1414          LDR      r1,|L1.8108|
001b94  e1a00004          MOV      r0,r4
001b98  ebfffffe          BL       radarWrite
                  |L1.7068|
;;;1368           }
;;;1369       }
;;;1370       
;;;1371       while(1)
001b9c  ea000251          B        |L1.9448|
                  |L1.7072|
;;;1372       {
;;;1373           int headerIndex = 0;
001ba0  e3a00000          MOV      r0,#0
001ba4  e58d0018          STR      r0,[sp,#0x18]
;;;1374           int leftPacketLen = 0;
001ba8  e3a09000          MOV      r9,#0
;;;1375           if((xTaskGetTickCount() - tickLocalStart) > RADAR_TIMEOUT_TIME)
001bac  ebfffffe          BL       xTaskGetTickCount
001bb0  e59d101c          LDR      r1,[sp,#0x1c]
001bb4  e0400001          SUB      r0,r0,r1
001bb8  e51f10d8          LDR      r1,|L1.6888|
001bbc  e7911104          LDR      r1,[r1,r4,LSL #2]
001bc0  e1500001          CMP      r0,r1
001bc4  9a00001c          BLS      |L1.7228|
;;;1376           {
;;;1377               #if (ENABLE_BURNIN_TESTER)
;;;1378               if (EnabledBurninTestMode() == FALSE)
001bc8  ebfffffe          BL       EnabledBurninTestMode
001bcc  e3500000          CMP      r0,#0
001bd0  1a000010          BNE      |L1.7192|
;;;1379               #endif
;;;1380               {
;;;1381                   terninalPrintf("\n\r [ERROR:RADAR]-%s-    TIMEOUT(%d, %d), RADAR_TIMEOUT_TIME = %d --\r\n", titleStr, targetPacketIndex[radarIndex], leftPacketLen, RADAR_TIMEOUT_TIME*portTICK_RATE_MS);
001bd4  e51f00f4          LDR      r0,|L1.6888|
001bd8  e7900104          LDR      r0,[r0,r4,LSL #2]
001bdc  e0800100          ADD      r0,r0,r0,LSL #2
001be0  e1a00080          LSL      r0,r0,#1
001be4  e58d0000          STR      r0,[sp,#0]
001be8  e51f0128          LDR      r0,|L1.6856|
001bec  e7902104          LDR      r2,[r0,r4,LSL #2]
001bf0  e1a03009          MOV      r3,r9
001bf4  e59f03b4          LDR      r0,|L1.8112|
001bf8  e59d1074          LDR      r1,[sp,#0x74]
001bfc  ebfffffe          BL       terninalPrintf
;;;1382                   BuzzerPlay(50, 100, radarIndex+1, TRUE);
001c00  e2840001          ADD      r0,r4,#1
001c04  e20020ff          AND      r2,r0,#0xff
001c08  e3a03001          MOV      r3,#1
001c0c  e3a01064          MOV      r1,#0x64
001c10  e3a00032          MOV      r0,#0x32
001c14  ebfffffe          BL       BuzzerPlay
                  |L1.7192|
;;;1383                   //vTaskDelay(500/portTICK_RATE_MS);
;;;1384                   //BuzzerPlay(300, 50, 1, FALSE);
;;;1385               }
;;;1386               timeoutCounter[radarIndex]++;
001c18  e59f0394          LDR      r0,|L1.8116|
001c1c  e7900104          LDR      r0,[r0,r4,LSL #2]
001c20  e2800001          ADD      r0,r0,#1
001c24  e59f1388          LDR      r1,|L1.8116|
001c28  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1387               
;;;1388               //RadarSetPowerStatus(radarIndex, FALSE);  
;;;1389   
;;;1390               timeoutFlag = TRUE;
001c2c  e3a00001          MOV      r0,#1
001c30  e58d0020          STR      r0,[sp,#0x20]
;;;1391               
;;;1392               returnVal = RADAR_FEATURE_FAIL;  
001c34  e3a050ff          MOV      r5,#0xff
;;;1393               goto RadarCheckFeatureExit;
001c38  ea00025d          B        |L1.9652|
                  |L1.7228|
;;;1394           }
;;;1395         
;;;1396           //sysprintf(" ~~~ Wait RadarCheckFeature read -> packet: index = %d, left = %d ; buffer: index = %d ...\r\n", targetPacketIndex[radarIndex], leftPacketLen, radarBufferIndex[radarIndex]);
;;;1397           
;;;1398           //vTaskDelay(200/portTICK_RATE_MS);
;;;1399           
;;;1400           int radarBufferLeft;
;;;1401           
;;;1402           if(readMBtestFunc())
001c3c  ebfffffe          BL       readMBtestFunc
001c40  e3500000          CMP      r0,#0
001c44  0a00000d          BEQ      |L1.7296|
;;;1403           {
;;;1404               if(radarIndex == 1)
001c48  e3540001          CMP      r4,#1
001c4c  1a000005          BNE      |L1.7272|
;;;1405               {
;;;1406                   radarBufferLeft = radarRead(1, pRadarBuffer, RADAR_BUFFER_SIZE);
001c50  e3a02b01          MOV      r2,#0x400
001c54  e1a01008          MOV      r1,r8
001c58  e3a00001          MOV      r0,#1
001c5c  ebfffffe          BL       radarRead
001c60  e1a06000          MOV      r6,r0
001c64  ea00000a          B        |L1.7316|
                  |L1.7272|
;;;1407                   //terninalPrintf("radarIndex = %d ,  radarBufferLeft = %d ",radarIndex,radarBufferLeft);
;;;1408               }
;;;1409               else
;;;1410               {
;;;1411                   radarBufferLeft = radarRead(0, pRadarBuffer, RADAR_BUFFER_SIZE);
001c68  e3a02b01          MOV      r2,#0x400
001c6c  e1a01008          MOV      r1,r8
001c70  e3a00000          MOV      r0,#0
001c74  ebfffffe          BL       radarRead
001c78  e1a06000          MOV      r6,r0
001c7c  ea000004          B        |L1.7316|
                  |L1.7296|
;;;1412                   //terninalPrintf("radarIndex = %d ,  radarBufferLeft = %d ",radarIndex,radarBufferLeft);
;;;1413               }
;;;1414               
;;;1415           }
;;;1416           else
;;;1417           {        
;;;1418               radarBufferLeft = radarRead(radarIndex, pRadarBuffer, RADAR_BUFFER_SIZE);
001c80  e3a02b01          MOV      r2,#0x400
001c84  e1a01008          MOV      r1,r8
001c88  e1a00004          MOV      r0,r4
001c8c  ebfffffe          BL       radarRead
001c90  e1a06000          MOV      r6,r0
                  |L1.7316|
;;;1419               //terninalPrintf(" ~~~ RadarCheckFeature read (%d bytes) -> packet: index = %d, left = %d ; buffer: index = %d, left = %d ...\r\n", radarBufferLeft, targetPacketIndex[radarIndex], leftPacketLen, radarBufferIndex[radarIndex], radarBufferLeft);
;;;1420           }    
;;;1421               
;;;1422               
;;;1423           if(radarBufferLeft == 0)
001c94  e3560000          CMP      r6,#0
001c98  1a000002          BNE      |L1.7336|
;;;1424           {   
;;;1425               //sysprintf("^");
;;;1426               vTaskDelay(100/portTICK_RATE_MS);
001c9c  e3a0000a          MOV      r0,#0xa
001ca0  ebfffffe          BL       vTaskDelay
;;;1427               continue;
001ca4  ea00020f          B        |L1.9448|
                  |L1.7336|
;;;1428           }
;;;1429           #if (ENABLE_BURNIN_TESTER)
;;;1430           if (EnabledBurninTestMode() == FALSE)
001ca8  ebfffffe          BL       EnabledBurninTestMode
001cac  e3500000          CMP      r0,#0
001cb0  1a00000f          BNE      |L1.7412|
;;;1431           #endif
;;;1432           {
;;;1433               if(readMBtestFunc())
001cb4  ebfffffe          BL       readMBtestFunc
001cb8  e3500000          CMP      r0,#0
001cbc  1a00000c          BNE      |L1.7412|
;;;1434               {}
;;;1435               else
;;;1436               {
;;;1437                   terninalPrintf("pRadarBuffer%d = ",radarIndex+1);
001cc0  e2841001          ADD      r1,r4,#1
001cc4  e28f0fbb          ADR      r0,|L1.8120|
001cc8  ebfffffe          BL       terninalPrintf
;;;1438                   for(int i = 0; i<radarBufferLeft; i++)
001ccc  e3a0b000          MOV      r11,#0
001cd0  ea000003          B        |L1.7396|
                  |L1.7380|
;;;1439                    {
;;;1440                        terninalPrintf("%02x ",*(pRadarBuffer+i));
001cd4  e7d8100b          LDRB     r1,[r8,r11]
001cd8  e59f02ec          LDR      r0,|L1.8140|
001cdc  ebfffffe          BL       terninalPrintf
001ce0  e28bb001          ADD      r11,r11,#1            ;1438
                  |L1.7396|
001ce4  e15b0006          CMP      r11,r6                ;1438
001ce8  bafffff9          BLT      |L1.7380|
;;;1441                    }
;;;1442                   terninalPrintf("\n\r");
001cec  e28f0fb7          ADR      r0,|L1.8144|
001cf0  ebfffffe          BL       terninalPrintf
                  |L1.7412|
;;;1443               }
;;;1444           }
;;;1445           if(targetPacketIndex[radarIndex] == 0)
001cf4  e51f0234          LDR      r0,|L1.6856|
001cf8  e7900104          LDR      r0,[r0,r4,LSL #2]
001cfc  e3500000          CMP      r0,#0
001d00  1a00000f          BNE      |L1.7492|
;;;1446           {
;;;1447               headerIndex = getHeader(pRadarBuffer, radarBufferLeft);
001d04  e1a01006          MOV      r1,r6
001d08  e1a00008          MOV      r0,r8
001d0c  ebfffffe          BL       getHeader
001d10  e58d0018          STR      r0,[sp,#0x18]
;;;1448               /*terninalPrintf("pRadarBuffer%d = ",radarIndex+1);
;;;1449               for(int i = 0; i<radarBufferLeft; i++)
;;;1450                {
;;;1451                    terninalPrintf("%02x ",*(pRadarBuffer+i));
;;;1452                }
;;;1453               terninalPrintf("\n\r");
;;;1454               terninalPrintf("headerIndex = %08x\r\n", headerIndex);
;;;1455                */
;;;1456               if(headerIndex == -1)
001d14  e59d0018          LDR      r0,[sp,#0x18]
001d18  e3700001          CMN      r0,#1
001d1c  1a000001          BNE      |L1.7464|
;;;1457               {
;;;1458                   returnVal = RADAR_FEATURE_FAIL;  
001d20  e3a050ff          MOV      r5,#0xff
;;;1459                   goto RadarCheckFeatureExit;
001d24  ea000222          B        |L1.9652|
                  |L1.7464|
;;;1460                   
;;;1461                   
;;;1462                   sysprintf("cant find header!!!\r\n");
;;;1463                   //if(radarBufferLeft > 64)
;;;1464                   //{
;;;1465                   //    radarBufferLeft = 64;
;;;1466                   //}
;;;1467                   //logBuffData("RADAR CANT FIND HEADER", (pm_feature*)pRadarBuffer, radarBufferLeft);
;;;1468                   printfBuffData("RADAR CANT FIND HEADER", pRadarBuffer, radarBufferLeft);
;;;1469                   timeoutCounter3[radarIndex]++;
;;;1470                   continue;
001d28  e1a00000          MOV      r0,r0
;;;1471               }
;;;1472               
;;;1473               //sysprintf("find header!!!\r\n");
;;;1474               radarBufferLeft = radarBufferLeft - headerIndex;
001d2c  e59d0018          LDR      r0,[sp,#0x18]
001d30  e0466000          SUB      r6,r6,r0
;;;1475               radarBufferIndex[radarIndex] = headerIndex;
001d34  e51f1278          LDR      r1,|L1.6852|
001d38  e59d0018          LDR      r0,[sp,#0x18]
001d3c  e7810104          STR      r0,[r1,r4,LSL #2]
001d40  ea000002          B        |L1.7504|
                  |L1.7492|
;;;1476           }
;;;1477           else
;;;1478           {
;;;1479               radarBufferIndex[radarIndex] = 0;
001d44  e3a00000          MOV      r0,#0
001d48  e51f128c          LDR      r1,|L1.6852|
001d4c  e7810104          STR      r0,[r1,r4,LSL #2]
                  |L1.7504|
;;;1480           }
;;;1481           if(calibrationFlag[radarIndex] == TRUE)
001d50  e51f0278          LDR      r0,|L1.6880|
001d54  e7d00004          LDRB     r0,[r0,r4]
001d58  e3500001          CMP      r0,#1
001d5c  1a000005          BNE      |L1.7544|
;;;1482           {
;;;1483               packageTotalSize  = sizeof(radarCalibrate);
001d60  e3a0000a          MOV      r0,#0xa
001d64  e58d0070          STR      r0,[sp,#0x70]
;;;1484               pTargetPacket = (uint8_t*)&targetCalibratePacket[radarIndex];
001d68  e0840104          ADD      r0,r4,r4,LSL #2
001d6c  e59f1260          LDR      r1,|L1.8148|
001d70  e0817080          ADD      r7,r1,r0,LSL #1
001d74  ea000015          B        |L1.7632|
                  |L1.7544|
;;;1485           }
;;;1486           else if(queryversionFlag[radarIndex] == TRUE)
001d78  e59f021c          LDR      r0,|L1.8092|
001d7c  e7d00004          LDRB     r0,[r0,r4]
001d80  e3500001          CMP      r0,#1
001d84  1a000006          BNE      |L1.7588|
;;;1487           {
;;;1488               packageTotalSize  = sizeof(radarVersion);
001d88  e3a0000d          MOV      r0,#0xd
001d8c  e58d0070          STR      r0,[sp,#0x70]
;;;1489               pTargetPacket = (uint8_t*)&targetVersionPacket[radarIndex]; 
001d90  e0840104          ADD      r0,r4,r4,LSL #2
001d94  e0800184          ADD      r0,r0,r4,LSL #3
001d98  e59f1238          LDR      r1,|L1.8152|
001d9c  e0807001          ADD      r7,r0,r1
001da0  ea00000a          B        |L1.7632|
                  |L1.7588|
;;;1490           }
;;;1491           else
;;;1492           {
;;;1493               if(readMBtestFunc())
001da4  ebfffffe          BL       readMBtestFunc
001da8  e3500000          CMP      r0,#0
001dac  0a000002          BEQ      |L1.7612|
;;;1494                   packageTotalSize  = 10;
001db0  e3a0000a          MOV      r0,#0xa
001db4  e58d0070          STR      r0,[sp,#0x70]
001db8  ea000001          B        |L1.7620|
                  |L1.7612|
;;;1495               else
;;;1496                   packageTotalSize  = sizeof(radarPacket);   
001dbc  e3a00018          MOV      r0,#0x18
001dc0  e58d0070          STR      r0,[sp,#0x70]
                  |L1.7620|
;;;1497               pTargetPacket = (uint8_t*)&targetPacket[radarIndex];            
001dc4  e0840084          ADD      r0,r4,r4,LSL #1
001dc8  e51f1310          LDR      r1,|L1.6848|
001dcc  e0817180          ADD      r7,r1,r0,LSL #3
                  |L1.7632|
;;;1498           }
;;;1499           leftPacketLen = packageTotalSize - targetPacketIndex[radarIndex];
001dd0  e51f0310          LDR      r0,|L1.6856|
001dd4  e7901104          LDR      r1,[r0,r4,LSL #2]
001dd8  e59d0070          LDR      r0,[sp,#0x70]
001ddc  e0409001          SUB      r9,r0,r1
;;;1500           //leftPacketLen = sizeof(radarPacket) - targetPacketIndex[radarIndex];
;;;1501           //sysprintf("\r\nRadarCheckFeature read (%d bytes) -> packet: index = %d, left = %d ; buffer: index = %d, left = %d...\r\n", radarBufferLeft, targetPacketIndex[radarIndex], leftPacketLen, radarBufferIndex[radarIndex], radarBufferLeft);
;;;1502           while(radarBufferLeft >= leftPacketLen)
001de0  ea0001ab          B        |L1.9364|
                  |L1.7652|
;;;1503           {
;;;1504               uint16_t checkSum, checkSumTarget;
;;;1505               int currentDist = 0;
001de4  e3a00000          MOV      r0,#0
001de8  e58d0010          STR      r0,[sp,#0x10]
;;;1506               int currentPower = 0;
001dec  e58d000c          STR      r0,[sp,#0xc]
;;;1507               //sysprintf(" - RadarCheckFeature move full data -> packet(%d) from buffer(%d) : leftPacketLen = %d...\r\n", targetPacketIndex[radarIndex], radarBufferIndex[radarIndex], leftPacketLen);
;;;1508               //sysprintf(" - %d(%d):%d(%d)-\r\n", targetPacketIndex[radarIndex], leftPacketLen, radarBufferIndex[radarIndex], radarBufferLeft);
;;;1509               //if(((xTaskGetTickCount() - tickLocalStart) > RADAR_TIMEOUT_TIME) && (ignoreDataTimes == 0))
;;;1510               if((xTaskGetTickCount() - tickLocalStart) > RADAR_TIMEOUT_TIME)
001df0  ebfffffe          BL       xTaskGetTickCount
001df4  e59d101c          LDR      r1,[sp,#0x1c]
001df8  e0400001          SUB      r0,r0,r1
001dfc  e51f131c          LDR      r1,|L1.6888|
001e00  e7911104          LDR      r1,[r1,r4,LSL #2]
001e04  e1500001          CMP      r0,r1
001e08  9a000012          BLS      |L1.7768|
;;;1511               {
;;;1512                   terninalPrintf("\n\r [ERROR:RADAR]-%s-    TIMEOUT 2(%d, %d), RADAR_TIMEOUT_TIME = %d --\r\n", titleStr, radarBufferLeft, leftPacketLen, RADAR_TIMEOUT_TIME*portTICK_RATE_MS);
001e0c  e51f032c          LDR      r0,|L1.6888|
001e10  e7900104          LDR      r0,[r0,r4,LSL #2]
001e14  e0800100          ADD      r0,r0,r0,LSL #2
001e18  e1a00080          LSL      r0,r0,#1
001e1c  e1a03009          MOV      r3,r9
001e20  e1a02006          MOV      r2,r6
001e24  e58d0000          STR      r0,[sp,#0]
001e28  e59f01ac          LDR      r0,|L1.8156|
001e2c  e59d1074          LDR      r1,[sp,#0x74]
001e30  ebfffffe          BL       terninalPrintf
;;;1513                   //////BuzzerPlay(50, 100, radarIndex+1, TRUE);
;;;1514                   //vTaskDelay(500/portTICK_RATE_MS);
;;;1515                   //BuzzerPlay(500, 50, 1, FALSE);
;;;1516                   timeoutCounter2[radarIndex]++;
001e34  e59f01a4          LDR      r0,|L1.8160|
001e38  e7900104          LDR      r0,[r0,r4,LSL #2]
001e3c  e2800001          ADD      r0,r0,#1
001e40  e59f1198          LDR      r1,|L1.8160|
001e44  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1517                   
;;;1518                   //RadarSetPowerStatus(radarIndex, FALSE); 
;;;1519                   
;;;1520                   timeoutFlag = TRUE;
001e48  e3a00001          MOV      r0,#1
001e4c  e58d0020          STR      r0,[sp,#0x20]
;;;1521                   
;;;1522                   returnVal = RADAR_FEATURE_FAIL;                
001e50  e3a050ff          MOV      r5,#0xff
;;;1523                   goto RadarCheckFeatureExit;
001e54  ea0001d6          B        |L1.9652|
                  |L1.7768|
;;;1524               }            
;;;1525               memcpy(pTargetPacket + targetPacketIndex[radarIndex], pRadarBuffer + radarBufferIndex[radarIndex], leftPacketLen); 
001e58  e51f239c          LDR      r2,|L1.6852|
001e5c  e7922104          LDR      r2,[r2,r4,LSL #2]
001e60  e0821008          ADD      r1,r2,r8
001e64  e51f23a4          LDR      r2,|L1.6856|
001e68  e7922104          LDR      r2,[r2,r4,LSL #2]
001e6c  e0820007          ADD      r0,r2,r7
001e70  e1a02009          MOV      r2,r9
001e74  ebfffffe          BL       __aeabi_memcpy
;;;1526               //---------
;;;1527               
;;;1528               if(calibrationFlag[radarIndex] == TRUE)
001e78  e51f03a0          LDR      r0,|L1.6880|
001e7c  e7d00004          LDRB     r0,[r0,r4]
001e80  e3500001          CMP      r0,#1
001e84  1a000025          BNE      |L1.7968|
;;;1529               {
;;;1530                   #if(1)
;;;1531                   sprintf(debugStr, "DUMP RADAR CALLIBRATE DATA(%s_%d):", titleStr, getTimes);
001e88  e28f1f55          ADR      r1,|L1.8164|
001e8c  e59d2074          LDR      r2,[sp,#0x74]
001e90  e59d302c          LDR      r3,[sp,#0x2c]
001e94  e28d0030          ADD      r0,sp,#0x30
001e98  ebfffffe          BL       __2sprintf
;;;1532                   printfBuffData(debugStr, pTargetPacket, sizeof(radarCalibrate));
001e9c  e3a0200a          MOV      r2,#0xa
001ea0  e1a01007          MOV      r1,r7
001ea4  e28d0030          ADD      r0,sp,#0x30
001ea8  ebfffffe          BL       printfBuffData
;;;1533                   #endif
;;;1534                   terninalPrintf("\r\n\r\n     [!!! INFOMATION !!!] ---> [RADAR CALIBRATION -%s->> < value = %d >  -- [!!! INFOMATION !!!]\r\n\r\n", 
001eac  e0840104          ADD      r0,r4,r4,LSL #2
001eb0  e59f111c          LDR      r1,|L1.8148|
001eb4  e0810080          ADD      r0,r1,r0,LSL #1
001eb8  e5d02005          LDRB     r2,[r0,#5]
001ebc  e59f0144          LDR      r0,|L1.8200|
001ec0  e59d1074          LDR      r1,[sp,#0x74]
001ec4  ebfffffe          BL       terninalPrintf
;;;1535                                       titleStr, targetCalibratePacket[radarIndex].value);   
;;;1536                   if(targetCalibratePacket[radarIndex].value != 0)
001ec8  e0840104          ADD      r0,r4,r4,LSL #2
001ecc  e59f1100          LDR      r1,|L1.8148|
001ed0  e0810080          ADD      r0,r1,r0,LSL #1
001ed4  e5d00005          LDRB     r0,[r0,#5]
001ed8  e3500000          CMP      r0,#0
001edc  0a000001          BEQ      |L1.7912|
;;;1537                   {
;;;1538                       returnVal = RADAR_FEATURE_FAIL;
001ee0  e3a050ff          MOV      r5,#0xff
001ee4  ea000000          B        |L1.7916|
                  |L1.7912|
;;;1539                   }
;;;1540                   else
;;;1541                   {
;;;1542                       returnVal = RADAR_CALIBRATION_OK;
001ee8  e3a05051          MOV      r5,#0x51
                  |L1.7916|
;;;1543                   }
;;;1544                   *reDist = targetCalibratePacket[radarIndex].value;
001eec  e0840104          ADD      r0,r4,r4,LSL #2
001ef0  e59f10dc          LDR      r1,|L1.8148|
001ef4  e0810080          ADD      r0,r1,r0,LSL #1
001ef8  e5d01005          LDRB     r1,[r0,#5]
001efc  e59d0080          LDR      r0,[sp,#0x80]
001f00  e5801000          STR      r1,[r0,#0]
;;;1545                   *rePower = targetCalibratePacket[radarIndex].value;
001f04  e0840104          ADD      r0,r4,r4,LSL #2
001f08  e59f10c4          LDR      r1,|L1.8148|
001f0c  e0810080          ADD      r0,r1,r0,LSL #1
001f10  e5d01005          LDRB     r1,[r0,#5]
001f14  e59d007c          LDR      r0,[sp,#0x7c]
001f18  e5801000          STR      r1,[r0,#0]
;;;1546                   goto RadarCheckFeatureExit; 
001f1c  ea0001a4          B        |L1.9652|
                  |L1.7968|
;;;1547               }
;;;1548               else if(queryversionFlag[radarIndex] == TRUE)
001f20  e59f0074          LDR      r0,|L1.8092|
001f24  e7d00004          LDRB     r0,[r0,r4]
001f28  e3500001          CMP      r0,#1
001f2c  1a000000          BNE      |L1.7988|
;;;1549               {
;;;1550                  /* terninalPrintf("RADAR%d FW VERSION: VER %d.%d.%d.%s \r\n",radarIndex
;;;1551                                                                            ,targetVersionPacket[radarIndex].code1
;;;1552                                                                            ,targetVersionPacket[radarIndex].code2
;;;1553                                                                            ,targetVersionPacket[radarIndex].code3
;;;1554                                                                 ,(targetVersionPacket[radarIndex].code4 == 1)?"Beta":"");   */
;;;1555                   goto RadarCheckFeatureExit;
001f30  ea00019f          B        |L1.9652|
                  |L1.7988|
;;;1556               }
;;;1557               else //if(calibrationFlag[radarIndex] == TRUE)
;;;1558               {
;;;1559                   if(readMBtestFunc())
001f34  ebfffffe          BL       readMBtestFunc
001f38  e3500000          CMP      r0,#0
001f3c  0a000036          BEQ      |L1.8220|
;;;1560                   {
;;;1561                       if (targetPacket[radarIndex].cmdid == 0x30)
001f40  e0840084          ADD      r0,r4,r4,LSL #1
001f44  e51f148c          LDR      r1,|L1.6848|
001f48  e0810180          ADD      r0,r1,r0,LSL #3
001f4c  e5d00004          LDRB     r0,[r0,#4]
001f50  e3500030          CMP      r0,#0x30
001f54  1a00002e          BNE      |L1.8212|
;;;1562                       {
;;;1563                           if(((radarIndex == 0)&&(targetPacket[radarIndex].material == 0x01)) || ((radarIndex == 1)&&(targetPacket[radarIndex].material == 0x02)) )    
001f58  e3540000          CMP      r4,#0
001f5c  1a000004          BNE      |L1.8052|
001f60  e0840084          ADD      r0,r4,r4,LSL #1
001f64  e0810180          ADD      r0,r1,r0,LSL #3
001f68  e5d00005          LDRB     r0,[r0,#5]
001f6c  e3500001          CMP      r0,#1
001f70  0a000007          BEQ      |L1.8084|
                  |L1.8052|
001f74  e3540001          CMP      r4,#1
001f78  1a000023          BNE      |L1.8204|
001f7c  e0840084          ADD      r0,r4,r4,LSL #1
001f80  e51f14c8          LDR      r1,|L1.6848|
001f84  e0810180          ADD      r0,r1,r0,LSL #3
001f88  e5d00005          LDRB     r0,[r0,#5]
001f8c  e3500002          CMP      r0,#2
001f90  1a00001d          BNE      |L1.8204|
                  |L1.8084|
;;;1564                               returnVal = RADAR_FEATURE_IGNORE;
001f94  e3a05006          MOV      r5,#6
001f98  ea00001c          B        |L1.8208|
                  |L1.8092|
                          DCD      queryversionFlag
                  |L1.8096|
                          DCD      versionCmd
                  |L1.8100|
                          DCD      output0Cmd
                  |L1.8104|
                          DCD      output1Cmd
                  |L1.8108|
                          DCD      outputOnCmd
                  |L1.8112|
                          DCD      ||.constdata||+0x1b0
                  |L1.8116|
                          DCD      timeoutCounter
                  |L1.8120|
001fb8  70526164          DCB      "pRadarBuffer%d = ",0
001fbc  61724275
001fc0  66666572
001fc4  2564203d
001fc8  2000    
001fca  00                DCB      0
001fcb  00                DCB      0
                  |L1.8140|
                          DCD      ||.text||+0x1084
                  |L1.8144|
001fd0  0a0d00            DCB      "\n\r",0
001fd3  00                DCB      0
                  |L1.8148|
                          DCD      targetCalibratePacket
                  |L1.8152|
                          DCD      targetVersionPacket
                  |L1.8156|
                          DCD      ||.constdata||+0x1f8
                  |L1.8160|
                          DCD      timeoutCounter2
                  |L1.8164|
001fe4  44554d50          DCB      "DUMP RADAR CALLIBRATE DATA(%s_%d):",0
001fe8  20524144
001fec  41522043
001ff0  414c4c49
001ff4  42524154
001ff8  45204441
001ffc  54412825
002000  735f2564
002004  293a00  
002007  00                DCB      0
                  |L1.8200|
                          DCD      ||.constdata||+0x240
                  |L1.8204|
;;;1565                           else
;;;1566                               returnVal = RADAR_FEATURE_FAIL;
00200c  e3a050ff          MOV      r5,#0xff
                  |L1.8208|
;;;1567                           goto RadarCheckFeatureExit;
002010  ea000167          B        |L1.9652|
                  |L1.8212|
;;;1568                       
;;;1569                       }
;;;1570                       else
;;;1571                           returnVal = RADAR_FEATURE_FAIL;
002014  e3a050ff          MOV      r5,#0xff
;;;1572                       goto RadarCheckFeatureExit;
002018  ea000165          B        |L1.9652|
                  |L1.8220|
;;;1573                   }
;;;1574   
;;;1575                   #if(0)
;;;1576                   sprintf(debugStr, "DUMP RADAR DATA(%s_%d):", titleStr, getTimes);
;;;1577                   printfBuffData(debugStr, pTargetPacket, sizeof(radarPacket));
;;;1578                   #endif
;;;1579                   if((targetPacket[radarIndex].end1 == RADAR_END) && 
00201c  e0840084          ADD      r0,r4,r4,LSL #1
002020  e51f1568          LDR      r1,|L1.6848|
002024  e0810180          ADD      r0,r1,r0,LSL #3
002028  e5d00016          LDRB     r0,[r0,#0x16]
00202c  e35000d3          CMP      r0,#0xd3
002030  1a000100          BNE      |L1.9272|
;;;1580                   (targetPacket[radarIndex].end2 == RADAR_END_2))
002034  e0840084          ADD      r0,r4,r4,LSL #1
002038  e0810180          ADD      r0,r1,r0,LSL #3
00203c  e5d00017          LDRB     r0,[r0,#0x17]
002040  e350003d          CMP      r0,#0x3d
002044  1a0000fb          BNE      |L1.9272|
;;;1581                   {
;;;1582                       checkSum = 0;
002048  e3a0b000          MOV      r11,#0
;;;1583                       for(int i = 2; i<sizeof(radarPacket)-4; i++)
00204c  e3a00002          MOV      r0,#2
002050  ea000004          B        |L1.8296|
                  |L1.8276|
;;;1584                       {
;;;1585                           //sysprintf("     [INFO] ---> [CAL_1 : 0x%04x v.s. 0x%02x>  --\r\n", checkSum, pTargetPacket[i]);
;;;1586                           checkSum = checkSum + pTargetPacket[i];
002054  e7d71000          LDRB     r1,[r7,r0]
002058  e081100b          ADD      r1,r1,r11
00205c  e1a0b801          LSL      r11,r1,#16
002060  e1a0b82b          LSR      r11,r11,#16
002064  e2800001          ADD      r0,r0,#1              ;1583
                  |L1.8296|
002068  e3500014          CMP      r0,#0x14              ;1583
00206c  3afffff8          BCC      |L1.8276|
;;;1587                           //sysprintf("     [INFO] ---> [CAL_2 : 0x%04x v.s. 0x%02x>  --\r\n", checkSum, pTargetPacket[i]);
;;;1588                       }
;;;1589                       checkSumTarget = ((targetPacket[radarIndex].checkSum>>8) & 0xff) | ((targetPacket[radarIndex].checkSum&0xff) << 8);
002070  e0840084          ADD      r0,r4,r4,LSL #1
002074  e51f15bc          LDR      r1,|L1.6848|
002078  e0810180          ADD      r0,r1,r0,LSL #3
00207c  e1d001b4          LDRH     r0,[r0,#0x14]
002080  e1a00440          ASR      r0,r0,#8
002084  e0841084          ADD      r1,r4,r4,LSL #1
002088  e51f25d0          LDR      r2,|L1.6848|
00208c  e0821181          ADD      r1,r2,r1,LSL #3
002090  e5d11014          LDRB     r1,[r1,#0x14]
002094  e1800401          ORR      r0,r0,r1,LSL #8
002098  e58d0014          STR      r0,[sp,#0x14]
;;;1590                       //sysprintf(" [INFO] ---> [COMPARE : 0x%04x v.s. 0x%04x>  --\r\n", checkSum, checkSumTarget);  
;;;1591                       if(checkSum == checkSumTarget)
00209c  e59d0014          LDR      r0,[sp,#0x14]
0020a0  e15b0000          CMP      r11,r0
0020a4  1a0000de          BNE      |L1.9252|
;;;1592                       {     
;;;1593                       
;;;1594                           //terninalPrintf("\r\n     [!!! INFO !!!] ---> [RADAR -%s->> < material = %d %s, object = %d %s >  --\r\n", 
;;;1595                           //            titleStr, targetPacket[radarIndex].material, getMaterialStr(targetPacket[radarIndex].material),
;;;1596                           //                        targetPacket[radarIndex].object, getObjectStr(targetPacket[radarIndex].object));   
;;;1597                           counterNumber[radarIndex]++;
0020a8  e51f0614          LDR      r0,|L1.6812|
0020ac  e7900104          LDR      r0,[r0,r4,LSL #2]
0020b0  e2800001          ADD      r0,r0,#1
0020b4  e51f1620          LDR      r1,|L1.6812|
0020b8  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1598                           
;;;1599                           
;;;1600                           
;;;1601                           lidarRecentDist[radarIndex] = targetPacket[radarIndex].lidarRecentSenseDist[0]<<8 | targetPacket[radarIndex].lidarRecentSenseDist[1] ;
0020bc  e0840084          ADD      r0,r4,r4,LSL #1
0020c0  e2821000          ADD      r1,r2,#0
0020c4  e0810180          ADD      r0,r1,r0,LSL #3
0020c8  e5d0000d          LDRB     r0,[r0,#0xd]
0020cc  e0841084          ADD      r1,r4,r4,LSL #1
0020d0  e0821181          ADD      r1,r2,r1,LSL #3
0020d4  e5d1100c          LDRB     r1,[r1,#0xc]
0020d8  e1800401          ORR      r0,r0,r1,LSL #8
0020dc  e59f1408          LDR      r1,|L1.9452|
0020e0  e0811084          ADD      r1,r1,r4,LSL #1
0020e4  e1c100b0          STRH     r0,[r1,#0]
;;;1602                           ridarRecentDist[radarIndex] = targetPacket[radarIndex].radarRecentSenseDist[0]<<8 | targetPacket[radarIndex].radarRecentSenseDist[1] ;
0020e8  e0840084          ADD      r0,r4,r4,LSL #1
0020ec  e2821000          ADD      r1,r2,#0
0020f0  e0810180          ADD      r0,r1,r0,LSL #3
0020f4  e5d0000f          LDRB     r0,[r0,#0xf]
0020f8  e0841084          ADD      r1,r4,r4,LSL #1
0020fc  e0821181          ADD      r1,r2,r1,LSL #3
002100  e5d1100e          LDRB     r1,[r1,#0xe]
002104  e1800401          ORR      r0,r0,r1,LSL #8
002108  e59f13e0          LDR      r1,|L1.9456|
00210c  e0811084          ADD      r1,r1,r4,LSL #1
002110  e1c100b0          STRH     r0,[r1,#0]
;;;1603                           NewValueFlag[radarIndex] = TRUE;
002114  e3a00001          MOV      r0,#1
002118  e59f13d4          LDR      r1,|L1.9460|
00211c  e7c10004          STRB     r0,[r1,r4]
;;;1604                           
;;;1605                           if(targetPacket[radarIndex].object > 0x0 && targetPacket[radarIndex].object <= 0x3)
002120  e0840084          ADD      r0,r4,r4,LSL #1
002124  e2821000          ADD      r1,r2,#0
002128  e0810180          ADD      r0,r1,r0,LSL #3
00212c  e5d00006          LDRB     r0,[r0,#6]
002130  e3500000          CMP      r0,#0
002134  da000019          BLE      |L1.8608|
002138  e0840084          ADD      r0,r4,r4,LSL #1
00213c  e0810180          ADD      r0,r1,r0,LSL #3
002140  e5d00006          LDRB     r0,[r0,#6]
002144  e3500003          CMP      r0,#3
002148  ca000014          BGT      |L1.8608|
;;;1606                           {
;;;1607                               //returnVal = RADAR_FEATURE_OCCUPIED;  
;;;1608                               //*** case 3 *** 
;;;1609       //                        if(occupiedCounter[radarIndex] >= checkOccupiedCounter[radarIndex])
;;;1610                                   if(occupiedCounter[radarIndex] >= checkStableCounter[radarIndex])
00214c  e59f03a4          LDR      r0,|L1.9464|
002150  e7900104          LDR      r0,[r0,r4,LSL #2]
002154  e51f16b8          LDR      r1,|L1.6820|
002158  e7911104          LDR      r1,[r1,r4,LSL #2]
00215c  e1500001          CMP      r0,r1
002160  ba000004          BLT      |L1.8568|
;;;1611                               {
;;;1612                                   returnVal = RADAR_FEATURE_OCCUPIED;
002164  e3a05001          MOV      r5,#1
;;;1613                                   *occupiedType = RADAR_OCCUPIED_TYPE_DISTANCE;
002168  e3a01020          MOV      r1,#0x20
00216c  e59d0078          LDR      r0,[sp,#0x78]
002170  e5801000          STR      r1,[r0,#0]
002174  ea000005          B        |L1.8592|
                  |L1.8568|
;;;1614                               }
;;;1615                               else
;;;1616                               {
;;;1617                                   occupiedCounter[radarIndex]++;
002178  e59f0378          LDR      r0,|L1.9464|
00217c  e7900104          LDR      r0,[r0,r4,LSL #2]
002180  e2800001          ADD      r0,r0,#1
002184  e59f136c          LDR      r1,|L1.9464|
002188  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1618                                   returnVal = RADAR_FEATURE_OCCUPIED_UN_STABLED;
00218c  e3a05002          MOV      r5,#2
                  |L1.8592|
;;;1619                               }
;;;1620                               vacuumCounter[radarIndex] = 0;
002190  e3a00000          MOV      r0,#0
002194  e59f1360          LDR      r1,|L1.9468|
002198  e7810104          STR      r0,[r1,r4,LSL #2]
00219c  ea000028          B        |L1.8772|
                  |L1.8608|
;;;1621                           }
;;;1622                           else if(targetPacket[radarIndex].object == 0x0)
0021a0  e0840084          ADD      r0,r4,r4,LSL #1
0021a4  e51f16ec          LDR      r1,|L1.6848|
0021a8  e0810180          ADD      r0,r1,r0,LSL #3
0021ac  e5d00006          LDRB     r0,[r0,#6]
0021b0  e3500000          CMP      r0,#0
0021b4  1a000016          BNE      |L1.8724|
;;;1623                           {
;;;1624                               //returnVal = RADAR_FEATURE_VACUUM;  
;;;1625                               //*** case 5 (vacuum) *** 
;;;1626                               if( vacuumCounter[radarIndex] >= (checkVacuumCounter[radarIndex]) )
0021b8  e59f033c          LDR      r0,|L1.9468|
0021bc  e7900104          LDR      r0,[r0,r4,LSL #2]
0021c0  e51f1728          LDR      r1,|L1.6816|
0021c4  e7911104          LDR      r1,[r1,r4,LSL #2]
0021c8  e1500001          CMP      r0,r1
0021cc  ba000001          BLT      |L1.8664|
;;;1627                               {
;;;1628                                   returnVal = RADAR_FEATURE_VACUUM;
0021d0  e3a05003          MOV      r5,#3
0021d4  ea00000a          B        |L1.8708|
                  |L1.8664|
;;;1629       //                            resetCheckStableStatus(radarIndex, checkStableDistData[radarIndex], &checkStableDistIndex[radarIndex]);
;;;1630       //                            resetCheckStableStatus(radarIndex, checkStablePowerData[radarIndex], &checkStablePowerIndex[radarIndex]);
;;;1631                               }
;;;1632                               else
;;;1633                               {
;;;1634                                   vacuumCounter[radarIndex]++;
0021d8  e59f031c          LDR      r0,|L1.9468|
0021dc  e7900104          LDR      r0,[r0,r4,LSL #2]
0021e0  e2800001          ADD      r0,r0,#1
0021e4  e59f1310          LDR      r1,|L1.9468|
0021e8  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1635                                   returnVal = RADAR_FEATURE_VACUUM_UN_STABLED;
0021ec  e3a05004          MOV      r5,#4
;;;1636                                   sysprintf(" [INFO] ---> [VACUUM COUNTER:RADAR -%s->> < %d >  --\r\n", titleStr, vacuumCounter[radarIndex]);                                
0021f0  e2810000          ADD      r0,r1,#0
0021f4  e7902104          LDR      r2,[r0,r4,LSL #2]
0021f8  e28f0c03          ADR      r0,|L1.9472|
0021fc  e59d1074          LDR      r1,[sp,#0x74]
002200  ebfffffe          BL       sysprintf
                  |L1.8708|
;;;1637                               }
;;;1638                               occupiedCounter[radarIndex] = 0;
002204  e3a00000          MOV      r0,#0
002208  e59f12e8          LDR      r1,|L1.9464|
00220c  e7810104          STR      r0,[r1,r4,LSL #2]
002210  ea00000b          B        |L1.8772|
                  |L1.8724|
;;;1639                               //vacuumCounter[radarIndex] = 0;                            
;;;1640                           }
;;;1641                           else if(targetPacket[radarIndex].object == 0x4 ||targetPacket[radarIndex].object == 0xF)
002214  e0840084          ADD      r0,r4,r4,LSL #1
002218  e51f1760          LDR      r1,|L1.6848|
00221c  e0810180          ADD      r0,r1,r0,LSL #3
002220  e5d00006          LDRB     r0,[r0,#6]
002224  e3500004          CMP      r0,#4
002228  0a000004          BEQ      |L1.8768|
00222c  e0840084          ADD      r0,r4,r4,LSL #1
002230  e0810180          ADD      r0,r1,r0,LSL #3
002234  e5d00006          LDRB     r0,[r0,#6]
002238  e350000f          CMP      r0,#0xf
00223c  1a000000          BNE      |L1.8772|
                  |L1.8768|
;;;1642                           {
;;;1643                               returnVal = RADAR_FEATURE_IGNORE;
002240  e3a05006          MOV      r5,#6
                  |L1.8772|
;;;1644                           }
;;;1645                           
;;;1646                           //---
;;;1647                           if((returnVal == RADAR_FEATURE_OCCUPIED) || (returnVal == RADAR_FEATURE_VACUUM))
002244  e3550001          CMP      r5,#1
002248  0a000001          BEQ      |L1.8788|
00224c  e3550003          CMP      r5,#3
002250  1a00004c          BNE      |L1.9096|
                  |L1.8788|
;;;1648                           {
;;;1649                               if(prevFeature[radarIndex] == RADAR_FEATURE_INIT)
002254  e59f02dc          LDR      r0,|L1.9528|
002258  e7900104          LDR      r0,[r0,r4,LSL #2]
00225c  e3500005          CMP      r0,#5
002260  1a000024          BNE      |L1.8952|
;;;1650                               {
;;;1651                                   *changeFlag = TRUE;
002264  e3a00001          MOV      r0,#1
002268  e5ca0000          STRB     r0,[r10,#0]
;;;1652                                   sprintf(logStr, "-- {INFORMATION}   ~~~~~ [WARNING:RADAR]O%sO[%d]  Change to %s  (init) OO\r\n", titleStr, counterNumber[radarIndex], getTitleStr(returnVal)); 
00226c  e1a00005          MOV      r0,r5
002270  ebfffffe          BL       getTitleStr
002274  e58d0008          STR      r0,[sp,#8]
002278  e58d0000          STR      r0,[sp,#0]
00227c  e51f07e8          LDR      r0,|L1.6812|
002280  e7903104          LDR      r3,[r0,r4,LSL #2]
002284  e59f12b0          LDR      r1,|L1.9532|
002288  e59f02b0          LDR      r0,|L1.9536|
00228c  e59d2074          LDR      r2,[sp,#0x74]
002290  ebfffffe          BL       __2sprintf
;;;1653                                   //sprintf(logStr, "-- {INFORMATION}   ~~~~~ [WARNING:RADAR]O%sO[%d] < %d cm, %d > Change to %s (init)  OO\r\n", titleStr, counterNumber[radarIndex], totalDist, totalPower, getTitleStr(returnVal)); 
;;;1654                                   //terninalPrintf(logStr);
;;;1655                                   LoglibPrintf(LOG_TYPE_WARNING, logStr);  
002294  e59f12a4          LDR      r1,|L1.9536|
002298  e3a00001          MOV      r0,#1
00229c  ebfffffe          BL       LoglibPrintf
;;;1656                                   if(returnVal == RADAR_FEATURE_OCCUPIED)
0022a0  e3550001          CMP      r5,#1
0022a4  1a00000a          BNE      |L1.8916|
;;;1657                                   {
;;;1658                                       #if (ENABLE_BURNIN_TESTER)
;;;1659                                       if (EnabledBurninTestMode() == FALSE)
0022a8  ebfffffe          BL       EnabledBurninTestMode
0022ac  e3500000          CMP      r0,#0
0022b0  1a000004          BNE      |L1.8904|
;;;1660                                       {
;;;1661                                           BuzzerPlay(1000, 100, 1, FALSE);
0022b4  e3a03000          MOV      r3,#0
0022b8  e3a02001          MOV      r2,#1
0022bc  e3a01064          MOV      r1,#0x64
0022c0  e3a00ffa          MOV      r0,#0x3e8
0022c4  ebfffffe          BL       BuzzerPlay
                  |L1.8904|
;;;1662                                       }
;;;1663                                       #endif
;;;1664                                       //BuzzerPlay(1000, 100, 1, FALSE);
;;;1665                                       RadarLogCheckStr(radarIndex);
0022c8  e1a00004          MOV      r0,r4
0022cc  ebfffffe          BL       RadarLogCheckStr
0022d0  ea00002a          B        |L1.9088|
                  |L1.8916|
;;;1666                                       //LoglibPrintf(LOG_TYPE_WARNING, checkStr, FALSE);  
;;;1667                                   }
;;;1668                                   #if (ENABLE_BURNIN_TESTER)
;;;1669                                   else
;;;1670                                   {
;;;1671                                       if (EnabledBurninTestMode() == FALSE)
0022d4  ebfffffe          BL       EnabledBurninTestMode
0022d8  e3500000          CMP      r0,#0
0022dc  1a000027          BNE      |L1.9088|
;;;1672                                       {
;;;1673                                           BuzzerPlay(500, 100, 1, FALSE);
0022e0  e3a03000          MOV      r3,#0
0022e4  e3a02001          MOV      r2,#1
0022e8  e3a01064          MOV      r1,#0x64
0022ec  e3a00f7d          MOV      r0,#0x1f4
0022f0  ebfffffe          BL       BuzzerPlay
0022f4  ea000021          B        |L1.9088|
                  |L1.8952|
;;;1674                                       }
;;;1675                                   }
;;;1676                                   #endif
;;;1677                               }
;;;1678                               else
;;;1679                               {
;;;1680                                   if(prevFeature[radarIndex] != returnVal)
0022f8  e59f0238          LDR      r0,|L1.9528|
0022fc  e7900104          LDR      r0,[r0,r4,LSL #2]
002300  e1500005          CMP      r0,r5
002304  0a00001d          BEQ      |L1.9088|
;;;1681                                   {
;;;1682                                       
;;;1683                                       *changeFlag = TRUE;
002308  e3a00001          MOV      r0,#1
00230c  e5ca0000          STRB     r0,[r10,#0]
;;;1684                                       sprintf(logStr, "-- {INFORMATION}   ~~~~~ [WARNING:RADAR]O%sO[%d]  Change to %s  OO\r\n", titleStr, counterNumber[radarIndex], getTitleStr(returnVal));
002310  e1a00005          MOV      r0,r5
002314  ebfffffe          BL       getTitleStr
002318  e58d0008          STR      r0,[sp,#8]
00231c  e58d0000          STR      r0,[sp,#0]
002320  e51f088c          LDR      r0,|L1.6812|
002324  e7903104          LDR      r3,[r0,r4,LSL #2]
002328  e59f1214          LDR      r1,|L1.9540|
00232c  e59f020c          LDR      r0,|L1.9536|
002330  e59d2074          LDR      r2,[sp,#0x74]
002334  ebfffffe          BL       __2sprintf
;;;1685                                       //terninalPrintf(logStr);                                
;;;1686                                       LoglibPrintf(LOG_TYPE_WARNING, logStr); 
002338  e59f1200          LDR      r1,|L1.9536|
00233c  e3a00001          MOV      r0,#1
002340  ebfffffe          BL       LoglibPrintf
;;;1687                                       if(returnVal == RADAR_FEATURE_OCCUPIED)
002344  e3550001          CMP      r5,#1
002348  1a000007          BNE      |L1.9068|
;;;1688                                       {
;;;1689                                           BuzzerPlay(1000, 100, 1, FALSE);
00234c  e3a03000          MOV      r3,#0
002350  e3a02001          MOV      r2,#1
002354  e3a01064          MOV      r1,#0x64
002358  e3a00ffa          MOV      r0,#0x3e8
00235c  ebfffffe          BL       BuzzerPlay
;;;1690                                           RadarLogCheckStr(radarIndex);
002360  e1a00004          MOV      r0,r4
002364  ebfffffe          BL       RadarLogCheckStr
002368  ea000004          B        |L1.9088|
                  |L1.9068|
;;;1691                                           //LoglibPrintf(LOG_TYPE_WARNING, checkStr, FALSE);  
;;;1692                                       }
;;;1693                                       else
;;;1694                                       {
;;;1695                                           BuzzerPlay(500, 100, 1, FALSE);
00236c  e3a03000          MOV      r3,#0
002370  e3a02001          MOV      r2,#1
002374  e3a01064          MOV      r1,#0x64
002378  e3a00f7d          MOV      r0,#0x1f4
00237c  ebfffffe          BL       BuzzerPlay
                  |L1.9088|
;;;1696                                       }
;;;1697                                                                         
;;;1698                                   }
;;;1699                               }
;;;1700                               prevFeature[radarIndex] = returnVal;   
002380  e59f01b0          LDR      r0,|L1.9528|
002384  e7805104          STR      r5,[r0,r4,LSL #2]
                  |L1.9096|
;;;1701                           }   
;;;1702                           *reDist = targetPacket[radarIndex].material;
002388  e0840084          ADD      r0,r4,r4,LSL #1
00238c  e51f18d4          LDR      r1,|L1.6848|
002390  e0810180          ADD      r0,r1,r0,LSL #3
002394  e5d01005          LDRB     r1,[r0,#5]
002398  e59d0080          LDR      r0,[sp,#0x80]
00239c  e5801000          STR      r1,[r0,#0]
;;;1703                           *rePower = targetPacket[radarIndex].object;
0023a0  e0840084          ADD      r0,r4,r4,LSL #1
0023a4  e51f18ec          LDR      r1,|L1.6848|
0023a8  e0810180          ADD      r0,r1,r0,LSL #3
0023ac  e5d01006          LDRB     r1,[r0,#6]
0023b0  e59d007c          LDR      r0,[sp,#0x7c]
0023b4  e5801000          STR      r1,[r0,#0]
;;;1704                       
;;;1705                           if(targetPacket[radarIndex].lidarCalibrateStatus == 0x0)
0023b8  e0840084          ADD      r0,r4,r4,LSL #1
0023bc  e51f1904          LDR      r1,|L1.6848|
0023c0  e0810180          ADD      r0,r1,r0,LSL #3
0023c4  e5d00008          LDRB     r0,[r0,#8]
0023c8  e3500000          CMP      r0,#0
0023cc  1a00000e          BNE      |L1.9228|
;;;1706                           {
;;;1707                               lidarCalibrateStatusFlag[radarIndex] = TRUE;                           
0023d0  e3a00001          MOV      r0,#1
0023d4  e59f116c          LDR      r1,|L1.9544|
0023d8  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1708                               lidarCalibrateDistValue[radarIndex] = (targetPacket[radarIndex].lidarDistValue[0]<<8) | (targetPacket[radarIndex].lidarDistValue[1]);
0023dc  e0840084          ADD      r0,r4,r4,LSL #1
0023e0  e51f1928          LDR      r1,|L1.6848|
0023e4  e0810180          ADD      r0,r1,r0,LSL #3
0023e8  e5d0000a          LDRB     r0,[r0,#0xa]
0023ec  e0841084          ADD      r1,r4,r4,LSL #1
0023f0  e51f2938          LDR      r2,|L1.6848|
0023f4  e0821181          ADD      r1,r2,r1,LSL #3
0023f8  e5d11009          LDRB     r1,[r1,#9]
0023fc  e1800401          ORR      r0,r0,r1,LSL #8
002400  e59f1144          LDR      r1,|L1.9548|
002404  e7810104          STR      r0,[r1,r4,LSL #2]
002408  ea000004          B        |L1.9248|
                  |L1.9228|
;;;1709                           }
;;;1710                           else
;;;1711                           {
;;;1712                               lidarCalibrateStatusFlag[radarIndex] = FALSE;
00240c  e3a00000          MOV      r0,#0
002410  e59f1130          LDR      r1,|L1.9544|
002414  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1713                               lidarCalibrateDistValue[radarIndex] = 0; 
002418  e59f112c          LDR      r1,|L1.9548|
00241c  e7810104          STR      r0,[r1,r4,LSL #2]
                  |L1.9248|
;;;1714                           }
;;;1715                           
;;;1716                           
;;;1717                           
;;;1718                           
;;;1719                           
;;;1720                                              
;;;1721                           goto RadarCheckFeatureExit;                    
002420  ea000063          B        |L1.9652|
                  |L1.9252|
;;;1722                       }
;;;1723                       else
;;;1724                       {
;;;1725                            terninalPrintf(" [INFO] ---> [CHECKSUM ERR : 0x%02x, 0x%02x>  --\r\n", checkSum, checkSumTarget);  
002424  e1a0100b          MOV      r1,r11
002428  e28f0e12          ADR      r0,|L1.9552|
00242c  e59d2014          LDR      r2,[sp,#0x14]
002430  ebfffffe          BL       terninalPrintf
002434  ea000008          B        |L1.9308|
                  |L1.9272|
;;;1726                       }
;;;1727                   }
;;;1728                   else
;;;1729                   {
;;;1730                       terninalPrintf(" [INFO] ---> [END ERR : 0x%02x, 0x%02x>  --\r\n", targetPacket[radarIndex].end1, targetPacket[radarIndex].end2);  
002438  e0840084          ADD      r0,r4,r4,LSL #1
00243c  e51f3984          LDR      r3,|L1.6848|
002440  e0830180          ADD      r0,r3,r0,LSL #3
002444  e5d02017          LDRB     r2,[r0,#0x17]
002448  e0840084          ADD      r0,r4,r4,LSL #1
00244c  e0830180          ADD      r0,r3,r0,LSL #3
002450  e5d01016          LDRB     r1,[r0,#0x16]
002454  e28f0f4a          ADR      r0,|L1.9604|
002458  ebfffffe          BL       terninalPrintf
                  |L1.9308|
;;;1731                   }
;;;1732               }//if(calibrationFlag[radarIndex] == TRUE)
;;;1733               
;;;1734               //----------
;;;1735               radarBufferLeft = radarBufferLeft - leftPacketLen; //buff hSBz
00245c  e0466009          SUB      r6,r6,r9
;;;1736               radarBufferIndex[radarIndex] = radarBufferIndex[radarIndex] + leftPacketLen; //buff SBz_lINDEX
002460  e51f09a4          LDR      r0,|L1.6852|
002464  e7900104          LDR      r0,[r0,r4,LSL #2]
002468  e0800009          ADD      r0,r0,r9
00246c  e51f19b0          LDR      r1,|L1.6852|
002470  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1737               
;;;1738               targetPacketIndex[radarIndex] = 0;
002474  e3a00000          MOV      r0,#0
002478  e51f19b8          LDR      r1,|L1.6856|
00247c  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1739               
;;;1740               leftPacketLen = packageTotalSize - targetPacketIndex[radarIndex];            
002480  e2810000          ADD      r0,r1,#0
002484  e7901104          LDR      r1,[r0,r4,LSL #2]
002488  e59d0070          LDR      r0,[sp,#0x70]
00248c  e0409001          SUB      r9,r0,r1
;;;1741               //leftPacketLen = sizeof(radarPacket) - targetPacketIndex[radarIndex];
;;;1742               //vTaskDelay(50/portTICK_RATE_MS);  
;;;1743           }
002490  e1a00000          MOV      r0,r0
                  |L1.9364|
002494  e1560009          CMP      r6,r9                 ;1502
002498  aafffe51          BGE      |L1.7652|
;;;1744           if(radarBufferLeft > 0)
00249c  e3560000          CMP      r6,#0
0024a0  da00000f          BLE      |L1.9444|
;;;1745           {
;;;1746               //sysprintf(" - RadarCheckFeature move left data -> packet(%d) from buffer(%d) : len = %d...\r\n", targetPacketIndex[radarIndex], radarBufferIndex[radarIndex], radarBufferLeft);
;;;1747               //sysprintf(" = %d(%d):%d(%d)=\r\n", targetPacketIndex[radarIndex], leftPacketLen, radarBufferIndex[radarIndex], radarBufferLeft);
;;;1748               memcpy(pTargetPacket + targetPacketIndex[radarIndex], pRadarBuffer + radarBufferIndex[radarIndex], radarBufferLeft);
0024a4  e51f29e8          LDR      r2,|L1.6852|
0024a8  e7922104          LDR      r2,[r2,r4,LSL #2]
0024ac  e0821008          ADD      r1,r2,r8
0024b0  e51f29f0          LDR      r2,|L1.6856|
0024b4  e7922104          LDR      r2,[r2,r4,LSL #2]
0024b8  e0820007          ADD      r0,r2,r7
0024bc  e1a02006          MOV      r2,r6
0024c0  ebfffffe          BL       __aeabi_memcpy
;;;1749               radarBufferIndex[radarIndex] = 0;
0024c4  e3a00000          MOV      r0,#0
0024c8  e51f1a0c          LDR      r1,|L1.6852|
0024cc  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1750               targetPacketIndex[radarIndex] = targetPacketIndex[radarIndex] + radarBufferLeft;
0024d0  e51f0a10          LDR      r0,|L1.6856|
0024d4  e7900104          LDR      r0,[r0,r4,LSL #2]
0024d8  e0800006          ADD      r0,r0,r6
0024dc  e51f1a1c          LDR      r1,|L1.6856|
0024e0  e7810104          STR      r0,[r1,r4,LSL #2]
                  |L1.9444|
0024e4  e1a00000          MOV      r0,r0                 ;1427
                  |L1.9448|
0024e8  eafffdac          B        |L1.7072|
                  |L1.9452|
                          DCD      lidarRecentDist
                  |L1.9456|
                          DCD      ridarRecentDist
                  |L1.9460|
                          DCD      NewValueFlag
                  |L1.9464|
                          DCD      occupiedCounter
                  |L1.9468|
                          DCD      vacuumCounter
                  |L1.9472|
002500  205b494e          DCB      " [INFO] ---> [VACUUM COUNTER:RADAR -%s->> < %d >  --\r\n"
002504  464f5d20
002508  2d2d2d3e
00250c  205b5641
002510  4355554d
002514  20434f55
002518  4e544552
00251c  3a524144
002520  4152202d
002524  25732d3e
002528  3e203c20
00252c  2564203e
002530  20202d2d
002534  0d0a    
002536  00                DCB      0
002537  00                DCB      0
                  |L1.9528|
                          DCD      prevFeature
                  |L1.9532|
                          DCD      ||.constdata||+0x2ac
                  |L1.9536|
                          DCD      logStr
                  |L1.9540|
                          DCD      ||.constdata||+0x2f8
                  |L1.9544|
                          DCD      lidarCalibrateStatusFlag
                  |L1.9548|
                          DCD      lidarCalibrateDistValue
                  |L1.9552|
002550  205b494e          DCB      " [INFO] ---> [CHECKSUM ERR : 0x%02x, 0x%02x>  --\r\n",0
002554  464f5d20
002558  2d2d2d3e
00255c  205b4348
002560  45434b53
002564  554d2045
002568  5252203a
00256c  20307825
002570  3032782c
002574  20307825
002578  3032783e
00257c  20202d2d
002580  0d0a00  
002583  00                DCB      0
                  |L1.9604|
002584  205b494e          DCB      " [INFO] ---> [END ERR : 0x%02x, 0x%02x>  --\r\n",0
002588  464f5d20
00258c  2d2d2d3e
002590  205b454e
002594  44204552
002598  52203a20
00259c  30782530
0025a0  32782c20
0025a4  30782530
0025a8  32783e20
0025ac  202d2d0d
0025b0  0a00    
0025b2  00                DCB      0
0025b3  00                DCB      0
                  |L1.9652|
;;;1751               //vTaskDelay(200/portTICK_RATE_MS); 
;;;1752           }        
;;;1753       }  
;;;1754   RadarCheckFeatureExit:  
0025b4  e1a00000          MOV      r0,r0
;;;1755       //radarWrite(radarIndex, outputOffCmd, sizeof(outputOffCmd));
;;;1756       
;;;1757       if(calibrationFlag[radarIndex] == TRUE)
0025b8  e51f0ae0          LDR      r0,|L1.6880|
0025bc  e7d00004          LDRB     r0,[r0,r4]
0025c0  e3500001          CMP      r0,#1
0025c4  1a000017          BNE      |L1.9768|
;;;1758       {
;;;1759           if(returnVal == RADAR_FEATURE_IGNORE)
0025c8  e3550006          CMP      r5,#6
0025cc  1a000008          BNE      |L1.9716|
;;;1760           {
;;;1761               #if (ENABLE_BURNIN_TESTER)
;;;1762               if (EnabledBurninTestMode() == FALSE)
0025d0  ebfffffe          BL       EnabledBurninTestMode
0025d4  e3500000          CMP      r0,#0
0025d8  1a00000e          BNE      |L1.9752|
;;;1763               #endif
;;;1764               {
;;;1765                   BuzzerPlay(3000, 100, 1, TRUE);
0025dc  e3a03001          MOV      r3,#1
0025e0  e1a02003          MOV      r2,r3
0025e4  e3a01064          MOV      r1,#0x64
0025e8  e59f0340          LDR      r0,|L1.10544|
0025ec  ebfffffe          BL       BuzzerPlay
0025f0  ea000008          B        |L1.9752|
                  |L1.9716|
;;;1766               }
;;;1767           }
;;;1768           else if(returnVal == RADAR_FEATURE_FAIL)
0025f4  e35500ff          CMP      r5,#0xff
0025f8  0a000006          BEQ      |L1.9752|
;;;1769           {
;;;1770               //BuzzerPlay(2000, 1000, 2, TRUE);
;;;1771               //BuzzerPlay(80, 80, 3, TRUE);
;;;1772               
;;;1773               //BuzzerPlay(80, 8, 3, TRUE);
;;;1774           }
;;;1775           else if(returnVal == RADAR_CALIBRATION_OK)
0025fc  e3550051          CMP      r5,#0x51
002600  1a000004          BNE      |L1.9752|
;;;1776           {
;;;1777               BuzzerPlay(300, 0, 1, TRUE);
002604  e3a03001          MOV      r3,#1
002608  e1a02003          MOV      r2,r3
00260c  e3a01000          MOV      r1,#0
002610  e3a00f4b          MOV      r0,#0x12c
002614  ebfffffe          BL       BuzzerPlay
                  |L1.9752|
;;;1778           }
;;;1779           
;;;1780           calibrationFlag[radarIndex] = FALSE;
002618  e3a00000          MOV      r0,#0
00261c  e51f1b44          LDR      r1,|L1.6880|
002620  e7c10004          STRB     r0,[r1,r4]
002624  ea00001a          B        |L1.9876|
                  |L1.9768|
;;;1781       }
;;;1782       else if(queryversionFlag[radarIndex] == TRUE)
002628  e51f0694          LDR      r0,|L1.8092|
00262c  e7d00004          LDRB     r0,[r0,r4]
002630  e3500001          CMP      r0,#1
002634  1a000016          BNE      |L1.9876|
;;;1783       {
;;;1784           queryversionFlag[radarIndex] = FALSE;
002638  e3a00000          MOV      r0,#0
00263c  e51f16a8          LDR      r1,|L1.8092|
002640  e7c10004          STRB     r0,[r1,r4]
;;;1785           //if(returnVal != RADAR_FEATURE_FAIL)
;;;1786           terninalPrintf("targetVersionPacket[radarIndex].cmdid = 0x%02x \n",targetVersionPacket[radarIndex].cmdid);
002644  e0840104          ADD      r0,r4,r4,LSL #2
002648  e0800184          ADD      r0,r0,r4,LSL #3
00264c  e51f267c          LDR      r2,|L1.8152|
002650  e0800002          ADD      r0,r0,r2
002654  e5d01004          LDRB     r1,[r0,#4]
002658  e28f0fb5          ADR      r0,|L1.10548|
00265c  ebfffffe          BL       terninalPrintf
;;;1787           if((targetVersionPacket[radarIndex].cmdid == 0x10) && (timeoutFlag == FALSE))
002660  e0840104          ADD      r0,r4,r4,LSL #2
002664  e0800184          ADD      r0,r0,r4,LSL #3
002668  e51f1698          LDR      r1,|L1.8152|
00266c  e0800001          ADD      r0,r0,r1
002670  e5d00004          LDRB     r0,[r0,#4]
002674  e3500010          CMP      r0,#0x10
002678  1a000005          BNE      |L1.9876|
00267c  e59d0020          LDR      r0,[sp,#0x20]
002680  e3500000          CMP      r0,#0
002684  1a000002          BNE      |L1.9876|
;;;1788           {
;;;1789               //returnVal = RADAR_QUERY_VERSION_OK;
;;;1790               return RADAR_QUERY_VERSION_OK;
002688  e3a00050          MOV      r0,#0x50
                  |L1.9868|
00268c  e28dd094          ADD      sp,sp,#0x94
;;;1791           }
;;;1792       }
;;;1793       
;;;1794       #if (ENABLE_BURNIN_TESTER)
;;;1795       if ((EnabledBurninTestMode() == FALSE) && (returnVal == RADAR_FEATURE_FAIL))
;;;1796       {
;;;1797           radarSetPower(radarIndex, FALSE); 
;;;1798       }
;;;1799       #else
;;;1800       
;;;1801       if(returnVal == RADAR_FEATURE_FAIL)
;;;1802       {
;;;1803           //radarSetPower(radarIndex, FALSE); 
;;;1804       }
;;;1805       #endif
;;;1806       //xSemaphoreGive(xRunningSemaphore);
;;;1807       
;;;1808       
;;;1809      if(targetPacket[radarIndex].lidarstatus == 0xFF)
;;;1810      {
;;;1811           switch(returnVal)
;;;1812           {
;;;1813           case RADAR_FEATURE_OCCUPIED:
;;;1814               returnVal = RADAR_FEATURE_OCCUPIED_LIDAR_FAIL;
;;;1815               break;
;;;1816           case RADAR_FEATURE_VACUUM:
;;;1817               returnVal = RADAR_FEATURE_VACUUM_LIDAR_FAIL;
;;;1818               break;
;;;1819           case RADAR_FEATURE_OCCUPIED_UN_STABLED:
;;;1820               returnVal = RADAR_FEATURE_OCCUPIED_UN_STABLED_LIDAR_FAIL;
;;;1821               break; 
;;;1822           case RADAR_FEATURE_VACUUM_UN_STABLED:
;;;1823               returnVal = RADAR_FEATURE_VACUUM_UN_STABLED_LIDAR_FAIL;
;;;1824               break; 
;;;1825           case RADAR_FEATURE_IGNORE:
;;;1826               returnVal = RADAR_FEATURE_IGNORE_LIDAR_FAIL;
;;;1827               break; 
;;;1828           }                              
;;;1829      }
;;;1830       
;;;1831       
;;;1832       return returnVal;
;;;1833   }
002690  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.9876|
002694  ebfffffe          BL       EnabledBurninTestMode
002698  e3500000          CMP      r0,#0                 ;1795
00269c  1a000004          BNE      |L1.9908|
0026a0  e35500ff          CMP      r5,#0xff              ;1795
0026a4  1a000002          BNE      |L1.9908|
0026a8  e3a01000          MOV      r1,#0                 ;1797
0026ac  e1a00004          MOV      r0,r4                 ;1797
0026b0  ebfffffe          BL       radarSetPower
                  |L1.9908|
0026b4  e0840084          ADD      r0,r4,r4,LSL #1       ;1809
0026b8  e51f1c00          LDR      r1,|L1.6848|
0026bc  e0810180          ADD      r0,r1,r0,LSL #3       ;1809
0026c0  e5d00007          LDRB     r0,[r0,#7]            ;1809
0026c4  e35000ff          CMP      r0,#0xff              ;1809
0026c8  1a000019          BNE      |L1.10036|
0026cc  e3550007          CMP      r5,#7                 ;1811
0026d0  308ff105          ADDCC    pc,pc,r5,LSL #2       ;1811
0026d4  ea000015          B        |L1.10032|
0026d8  ea000014          B        |L1.10032|
0026dc  ea000004          B        |L1.9972|
0026e0  ea000009          B        |L1.9996|
0026e4  ea000005          B        |L1.9984|
0026e8  ea00000a          B        |L1.10008|
0026ec  ea00000f          B        |L1.10032|
0026f0  ea00000b          B        |L1.10020|
                  |L1.9972|
0026f4  e1a00000          MOV      r0,r0                 ;1813
0026f8  e3a05031          MOV      r5,#0x31              ;1814
0026fc  ea00000b          B        |L1.10032|
                  |L1.9984|
002700  e1a00000          MOV      r0,r0                 ;1816
002704  e3a05033          MOV      r5,#0x33              ;1817
002708  ea000008          B        |L1.10032|
                  |L1.9996|
00270c  e1a00000          MOV      r0,r0                 ;1819
002710  e3a05032          MOV      r5,#0x32              ;1820
002714  ea000005          B        |L1.10032|
                  |L1.10008|
002718  e1a00000          MOV      r0,r0                 ;1822
00271c  e3a05034          MOV      r5,#0x34              ;1823
002720  ea000002          B        |L1.10032|
                  |L1.10020|
002724  e1a00000          MOV      r0,r0                 ;1825
002728  e3a05036          MOV      r5,#0x36              ;1826
00272c  e1a00000          MOV      r0,r0                 ;1827
                  |L1.10032|
002730  e1a00000          MOV      r0,r0                 ;1815
                  |L1.10036|
002734  e1a00005          MOV      r0,r5                 ;1832
002738  eaffffd3          B        |L1.9868|
;;;1834   
                          ENDP

                  RadarCalibrate PROC
;;;1835   
;;;1836   int RadarCalibrate(int radarIndex, BOOL* changeFlag,int* dist1 ,int* dist2,void* para1, void* para2, void* para3)
00273c  e92d4ff0          PUSH     {r4-r11,lr}
;;;1837   {
002740  e24dd03c          SUB      sp,sp,#0x3c
002744  e1a04000          MOV      r4,r0
002748  e1a07001          MOV      r7,r1
00274c  e59d8068          LDR      r8,[sp,#0x68]
002750  e59d9060          LDR      r9,[sp,#0x60]
002754  e59da064          LDR      r10,[sp,#0x64]
;;;1838       int returnVal = RADAR_FEATURE_FAIL;  //RADAR_FEATURE_IGNORE;
002758  e3a000ff          MOV      r0,#0xff
00275c  e58d0038          STR      r0,[sp,#0x38]
;;;1839   
;;;1840       //int counter = 0;
;;;1841       int* reDist = para1;
002760  e58d9034          STR      r9,[sp,#0x34]
;;;1842       int* rePower = para2;
002764  e58da030          STR      r10,[sp,#0x30]
;;;1843       int* occupiedType = para3;
002768  e58d802c          STR      r8,[sp,#0x2c]
;;;1844       char* titleStr[2] = {" [L] "," [R] "};
00276c  e59f11f4          LDR      r1,|L1.10600|
002770  e8910003          LDM      r1,{r0,r1}  ; <Data5>, <Data5>
002774  e58d0024          STR      r0,[sp,#0x24]
002778  e58d1028          STR      r1,[sp,#0x28]
;;;1845       uint8_t* pTargetPacket[2];
;;;1846       //uint8_t  pRadarBuffer[2][30];// = (uint8_t*)&radarBuffer[radarIndex][radarIndex];
;;;1847       
;;;1848       uint8_t*  pRadarBuffer1;
;;;1849   
;;;1850   
;;;1851       int headerIndex[2];
;;;1852       int radarBufferLeft[2];
;;;1853       uint8_t packageTotalSize;
;;;1854       char debugStr[64];
;;;1855       int getTimes = 0;
00277c  e3a00000          MOV      r0,#0
002780  e58d0010          STR      r0,[sp,#0x10]
;;;1856       int totalDist = 0;
002784  e58d000c          STR      r0,[sp,#0xc]
;;;1857       int totalPower = 0;
002788  e58d0008          STR      r0,[sp,#8]
;;;1858       #if(ENABLE_MAX_MIN_FILTER)
;;;1859       int maxDist = 0, minDist = 0;
;;;1860       int maxPower = 0, minPower = 0;
;;;1861       #endif
;;;1862       TickType_t tickLocalStart = xTaskGetTickCount();
00278c  ebfffffe          BL       xTaskGetTickCount
002790  e58d0004          STR      r0,[sp,#4]
;;;1863       
;;;1864   
;;;1865       *changeFlag = FALSE;
002794  e3a00000          MOV      r0,#0
002798  e5c70000          STRB     r0,[r7,#0]
;;;1866       radarBufferIndex[radarIndex] = 0;
00279c  e51f1ce0          LDR      r1,|L1.6852|
0027a0  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1867       targetPacketIndex[radarIndex] = 0;
0027a4  e51f1ce4          LDR      r1,|L1.6856|
0027a8  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1868       //*reDist = 0;
;;;1869       *occupiedType = RADAR_VACUUM_TYPE;
0027ac  e59d802c          LDR      r8,[sp,#0x2c]
0027b0  e5880000          STR      r0,[r8,#0]
;;;1870       for(int i=0;i<1;i++)
0027b4  e3a05000          MOV      r5,#0
0027b8  ea00001f          B        |L1.10300|
                  |L1.10172|
;;;1871       {   
;;;1872           pTargetPacket[i] = (uint8_t*)&targetPacket[i];
0027bc  e0850085          ADD      r0,r5,r5,LSL #1
0027c0  e51f1d08          LDR      r1,|L1.6848|
0027c4  e0810180          ADD      r0,r1,r0,LSL #3
0027c8  e28d101c          ADD      r1,sp,#0x1c
0027cc  e7810105          STR      r0,[r1,r5,LSL #2]
;;;1873           pRadarBuffer1 = (uint8_t*)&radarBuffer[i];
0027d0  e59f0194          LDR      r0,|L1.10604|
0027d4  e0806505          ADD      r6,r0,r5,LSL #10
;;;1874           waitTimeoutTick[i] = RADAR_TIMEOUT_TIME_CALIBRATION;
0027d8  e51f0cfc          LDR      r0,|L1.6884|
0027dc  e51f1cfc          LDR      r1,|L1.6888|
0027e0  e7810105          STR      r0,[r1,r5,LSL #2]
;;;1875           
;;;1876       if(powerStatus[i] == FALSE)
0027e4  e51f0d10          LDR      r0,|L1.6876|
0027e8  e7d00005          LDRB     r0,[r0,r5]
0027ec  e3500000          CMP      r0,#0
0027f0  1a000002          BNE      |L1.10240|
;;;1877       {
;;;1878           radarSetPower(i, TRUE);  
0027f4  e3a01001          MOV      r1,#1
0027f8  e1a00005          MOV      r0,r5
0027fc  ebfffffe          BL       radarSetPower
                  |L1.10240|
;;;1879       }    
;;;1880           
;;;1881           
;;;1882           radarFlushRxBuffer(i);
002800  e1a00005          MOV      r0,r5
002804  ebfffffe          BL       radarFlushRxBuffer
;;;1883           
;;;1884           //radarWrite(i, calibrationCmd, sizeof(calibrationCmd));
;;;1885           radarWrite(i, versionCmd, sizeof(versionCmd));
002808  e3a02009          MOV      r2,#9
00280c  e51f1874          LDR      r1,|L1.8096|
002810  e1a00005          MOV      r0,r5
002814  ebfffffe          BL       radarWrite
;;;1886   
;;;1887           terninalPrintf("\n\r ---------- >[INFO:RADAR]-%s- WAIT... RADAR_TIMEOUT_TIME = %d --\r\n", titleStr[i], RADAR_TIMEOUT_TIME*portTICK_RATE_MS);
002818  e51f0d38          LDR      r0,|L1.6888|
00281c  e7900104          LDR      r0,[r0,r4,LSL #2]
002820  e0800100          ADD      r0,r0,r0,LSL #2
002824  e1a02080          LSL      r2,r0,#1
002828  e28d0024          ADD      r0,sp,#0x24
00282c  e7901105          LDR      r1,[r0,r5,LSL #2]
002830  e51f0d48          LDR      r0,|L1.6896|
002834  ebfffffe          BL       terninalPrintf
002838  e2855001          ADD      r5,r5,#1              ;1870
                  |L1.10300|
00283c  e3550001          CMP      r5,#1                 ;1870
002840  baffffdd          BLT      |L1.10172|
;;;1888       }
;;;1889   
;;;1890   
;;;1891       while(1)
002844  ea00004e          B        |L1.10628|
                  |L1.10312|
;;;1892       {   
;;;1893           int headerIndex = 0;
002848  e3a0b000          MOV      r11,#0
;;;1894           int leftPacketLen = 0;
00284c  e3a05000          MOV      r5,#0
;;;1895           if((xTaskGetTickCount() - tickLocalStart) > RADAR_TIMEOUT_TIME)
002850  ebfffffe          BL       xTaskGetTickCount
002854  e59d1004          LDR      r1,[sp,#4]
002858  e0400001          SUB      r0,r0,r1
00285c  e51f1d7c          LDR      r1,|L1.6888|
002860  e7911104          LDR      r1,[r1,r4,LSL #2]
002864  e1500001          CMP      r0,r1
002868  9a000022          BLS      |L1.10488|
;;;1896           {
;;;1897               #if (ENABLE_BURNIN_TESTER)
;;;1898               if (EnabledBurninTestMode() == FALSE)
00286c  ebfffffe          BL       EnabledBurninTestMode
002870  e3500000          CMP      r0,#0
002874  1a000017          BNE      |L1.10456|
;;;1899               #endif
;;;1900               {
;;;1901                   terninalPrintf("\n\r [ERROR:RADAR]-%s-    TIMEOUT(%d, %d), RADAR_TIMEOUT_TIME = %d --\r\n", titleStr, targetPacketIndex[radarIndex], leftPacketLen, RADAR_TIMEOUT_TIME*portTICK_RATE_MS);
002878  e51f0d98          LDR      r0,|L1.6888|
00287c  e7900104          LDR      r0,[r0,r4,LSL #2]
002880  e0800100          ADD      r0,r0,r0,LSL #2
002884  e1a00080          LSL      r0,r0,#1
002888  e58d0000          STR      r0,[sp,#0]
00288c  e51f0dcc          LDR      r0,|L1.6856|
002890  e7902104          LDR      r2,[r0,r4,LSL #2]
002894  e1a03005          MOV      r3,r5
002898  e28d1024          ADD      r1,sp,#0x24
00289c  e51f08f4          LDR      r0,|L1.8112|
0028a0  ebfffffe          BL       terninalPrintf
;;;1902                   BuzzerPlay(50, 100, radarIndex+1, TRUE);
0028a4  e2840001          ADD      r0,r4,#1
0028a8  e20020ff          AND      r2,r0,#0xff
0028ac  e3a03001          MOV      r3,#1
0028b0  e3a01064          MOV      r1,#0x64
0028b4  e3a00032          MOV      r0,#0x32
0028b8  ebfffffe          BL       BuzzerPlay
;;;1903                   vTaskDelay(500/portTICK_RATE_MS);
0028bc  e3a00032          MOV      r0,#0x32
0028c0  ebfffffe          BL       vTaskDelay
;;;1904                   BuzzerPlay(300, 50, 1, FALSE);
0028c4  e3a03000          MOV      r3,#0
0028c8  e3a02001          MOV      r2,#1
0028cc  e3a01032          MOV      r1,#0x32
0028d0  e3a00f4b          MOV      r0,#0x12c
0028d4  ebfffffe          BL       BuzzerPlay
                  |L1.10456|
;;;1905               }
;;;1906               timeoutCounter[radarIndex]++;
0028d8  e51f092c          LDR      r0,|L1.8116|
0028dc  e7900104          LDR      r0,[r0,r4,LSL #2]
0028e0  e2800001          ADD      r0,r0,#1
0028e4  e51f1938          LDR      r1,|L1.8116|
0028e8  e7810104          STR      r0,[r1,r4,LSL #2]
;;;1907               
;;;1908               //RadarSetPowerStatus(radarIndex, FALSE);   
;;;1909               returnVal = RADAR_FEATURE_FAIL;  
0028ec  e3a000ff          MOV      r0,#0xff
0028f0  e58d0038          STR      r0,[sp,#0x38]
;;;1910               //break;
;;;1911               goto ErrorExit;
0028f4  ea00003a          B        |L1.10724|
                  |L1.10488|
;;;1912           }
;;;1913           
;;;1914           if(radarBufferLeft[0] == 0)
0028f8  e59d0014          LDR      r0,[sp,#0x14]
0028fc  e3500000          CMP      r0,#0
002900  1a000004          BNE      |L1.10520|
;;;1915           {   
;;;1916               radarBufferLeft[0] = radarRead(0, pRadarBuffer1, RADAR_BUFFER_SIZE);
002904  e3a02b01          MOV      r2,#0x400
002908  e1a01006          MOV      r1,r6
00290c  e3a00000          MOV      r0,#0
002910  ebfffffe          BL       radarRead
002914  e58d0014          STR      r0,[sp,#0x14]
                  |L1.10520|
;;;1917           }
;;;1918           //if(radarBufferLeft[1] == 0)
;;;1919           //{
;;;1920            //   radarBufferLeft[1] = radarRead(1, pRadarBuffer[1], RADAR_BUFFER_SIZE);
;;;1921          // }
;;;1922           //terninalPrintf(" ~~~ RadarCheckFeature read (%d bytes) -> packet: index = %d, left = %d ; buffer: index = %d, left = %d ...\r\n", radarBufferLeft, targetPacketIndex[radarIndex], leftPacketLen, radarBufferIndex[radarIndex], radarBufferLeft);
;;;1923           if(radarBufferLeft[0] == 0 )//|| (radarBufferLeft[1] == 0))
002918  e59d0014          LDR      r0,[sp,#0x14]
00291c  e3500000          CMP      r0,#0
002920  1a000012          BNE      |L1.10608|
;;;1924           {   
;;;1925               //sysprintf("^");
;;;1926               vTaskDelay(100/portTICK_RATE_MS);
002924  e3a0000a          MOV      r0,#0xa
002928  ebfffffe          BL       vTaskDelay
;;;1927               continue;
00292c  ea000014          B        |L1.10628|
                  |L1.10544|
                          DCD      0x00000bb8
                  |L1.10548|
002934  74617267          DCB      "targetVersionPacket[radarIndex].cmdid = 0x%02x \n",0
002938  65745665
00293c  7273696f
002940  6e506163
002944  6b65745b
002948  72616461
00294c  72496e64
002950  65785d2e
002954  636d6469
002958  64203d20
00295c  30782530
002960  3278200a
002964  00      
002965  00                DCB      0
002966  00                DCB      0
002967  00                DCB      0
                  |L1.10600|
                          DCD      ||.constdata||
                  |L1.10604|
                          DCD      radarBuffer
                  |L1.10608|
;;;1928           }
;;;1929           else
;;;1930           {
;;;1931               terninalPrintf("finish. radarBufferLeft[0] = %d ,radarBufferLeft[1] = %d\n\r",radarBufferLeft[0],radarBufferLeft[1]);
002970  e28f0f86          ADR      r0,|L1.11152|
002974  e59d1014          LDR      r1,[sp,#0x14]
002978  e59d2018          LDR      r2,[sp,#0x18]
00297c  ebfffffe          BL       terninalPrintf
;;;1932               //return TRUE;
;;;1933               break;
002980  ea000001          B        |L1.10636|
                  |L1.10628|
002984  e1a00000          MOV      r0,r0                 ;1927
002988  eaffffae          B        |L1.10312|
                  |L1.10636|
00298c  e1a00000          MOV      r0,r0
;;;1934           }
;;;1935           
;;;1936       }
;;;1937       
;;;1938   
;;;1939       for(int i = 0; i<1; i++)
002990  e3a05000          MOV      r5,#0
002994  ea00000f          B        |L1.10712|
                  |L1.10648|
;;;1940       {   
;;;1941           terninalPrintf("pRadarBuffer[%d] = ",i);
002998  e1a01005          MOV      r1,r5
00299c  e28f0f8a          ADR      r0,|L1.11212|
0029a0  ebfffffe          BL       terninalPrintf
;;;1942           for(int j = 0; j<radarBufferLeft[i]; j++)
0029a4  e3a0b000          MOV      r11,#0
0029a8  ea000003          B        |L1.10684|
                  |L1.10668|
;;;1943           {   
;;;1944               terninalPrintf("%02x ",*(pRadarBuffer1+j));
0029ac  e7d6100b          LDRB     r1,[r6,r11]
0029b0  e51f09ec          LDR      r0,|L1.8140|
0029b4  ebfffffe          BL       terninalPrintf
0029b8  e28bb001          ADD      r11,r11,#1            ;1942
                  |L1.10684|
0029bc  e28d0014          ADD      r0,sp,#0x14           ;1942
0029c0  e7900105          LDR      r0,[r0,r5,LSL #2]     ;1942
0029c4  e150000b          CMP      r0,r11                ;1942
0029c8  cafffff7          BGT      |L1.10668|
;;;1945           }
;;;1946           terninalPrintf("\n\r");
0029cc  e28f0f7d          ADR      r0,|L1.11208|
0029d0  ebfffffe          BL       terninalPrintf
0029d4  e2855001          ADD      r5,r5,#1              ;1939
                  |L1.10712|
0029d8  e3550001          CMP      r5,#1                 ;1939
0029dc  baffffed          BLT      |L1.10648|
;;;1947           
;;;1948   
;;;1949           /*
;;;1950           headerIndex[i] = getHeader(pRadarBuffer[i], radarBufferLeft[i]);
;;;1951           if(headerIndex[i] == -1)
;;;1952           {  
;;;1953               sysprintf("cant find Radar%d header!!!\r\n",i);
;;;1954   
;;;1955               printfBuffData("RADAR CANT FIND HEADER", pRadarBuffer[i], radarBufferLeft[i]);
;;;1956   
;;;1957               continue;
;;;1958           } */
;;;1959               
;;;1960        /*   if((*(pRadarBuffer[i]  )==0x7a) &&
;;;1961              (*(pRadarBuffer[i]+1)==0xa7) &&              
;;;1962              (*(pRadarBuffer[i]+2)==0x00) &&
;;;1963              (*(pRadarBuffer[i]+3)==0x0a) &&
;;;1964              (*(pRadarBuffer[i]+4)==0x17) &&
;;;1965              (*(pRadarBuffer[i]+6)==0x00) &&
;;;1966               //(*(pRadarBuffer[i]+7)==0x21) &&
;;;1967              (*(pRadarBuffer[i]+8)==0xd3) &&
;;;1968              (*(pRadarBuffer[i]+9)==0x3d) )
;;;1969           {
;;;1970               #if(1)
;;;1971               sprintf(debugStr, "DUMP RADAR CALLIBRATE DATA(%s_%d):", titleStr[i], getTimes);
;;;1972               printfBuffData(debugStr, pTargetPacket[i], sizeof(radarCalibrate));
;;;1973               #endif
;;;1974               terninalPrintf("\r\n\r\n     [!!! INFOMATION !!!] ---> [RADAR CALIBRATION -%s->> < value = %d >  -- [!!! INFOMATION !!!]\r\n\r\n", 
;;;1975                                    titleStr[i], *(pRadarBuffer[i]+5));   
;;;1976               if(*(pRadarBuffer[i]+5) != 0)
;;;1977               {    
;;;1978                   returnVal = RADAR_FEATURE_FAIL;
;;;1979               }
;;;1980           }*/
;;;1981      
;;;1982      } 
;;;1983           
;;;1984    
;;;1985   
;;;1986   ErrorExit:      
0029e0  e1a00000          MOV      r0,r0
                  |L1.10724|
;;;1987   
;;;1988   return returnVal;
0029e4  e59d0038          LDR      r0,[sp,#0x38]
0029e8  e28dd03c          ADD      sp,sp,#0x3c
;;;1989   
;;;1990   }
0029ec  e8bd8ff0          POP      {r4-r11,pc}
;;;1991   
                          ENDP

                  RadarSetPowerStatus PROC
;;;1992   void RadarSetPowerStatus(int radarIndex, BOOL flag)
0029f0  e92d4070          PUSH     {r4-r6,lr}
;;;1993   {
0029f4  e1a04000          MOV      r4,r0
0029f8  e1a05001          MOV      r5,r1
;;;1994       radarSetPower(radarIndex, flag);
0029fc  e1a01005          MOV      r1,r5
002a00  e1a00004          MOV      r0,r4
002a04  ebfffffe          BL       radarSetPower
;;;1995       //vTaskDelay(2000/portTICK_RATE_MS);
;;;1996       //|q
;;;1997       //radarWrite(radarIndex, freqCmd, sizeof(freqCmd));
;;;1998       //vTaskDelay(3000/portTICK_RATE_MS);
;;;1999       #if(0)
;;;2000       radarWrite(radarIndex, powerCmd, sizeof(powerCmd));
;;;2001       vTaskDelay(3000/portTICK_RATE_MS);
;;;2002       
;;;2003       radarWrite(radarIndex, powerSaveCmd, sizeof(powerSaveCmd));
;;;2004       vTaskDelay(3000/portTICK_RATE_MS);
;;;2005       #endif    
;;;2006   }
002a08  e8bd8070          POP      {r4-r6,pc}
;;;2007   /*
                          ENDP

                  RadarSetPower PROC
;;;2014   
;;;2015   void RadarSetPower(BOOL flag)
002a0c  e92d4010          PUSH     {r4,lr}
;;;2016   {
002a10  e1a04000          MOV      r4,r0
;;;2017       radarSetPower(0, flag);
002a14  e1a01004          MOV      r1,r4
002a18  e3a00000          MOV      r0,#0
002a1c  ebfffffe          BL       radarSetPower
;;;2018       radarSetPower(1, flag);
002a20  e1a01004          MOV      r1,r4
002a24  e3a00001          MOV      r0,#1
002a28  ebfffffe          BL       radarSetPower
;;;2019   }
002a2c  e8bd8010          POP      {r4,pc}
;;;2020   
                          ENDP

                  RadarLogStatus PROC
;;;2021   void RadarLogStatus(void)
002a30  e52de004          PUSH     {lr}
;;;2022   {
002a34  e24dd06c          SUB      sp,sp,#0x6c
;;;2023       sprintf(logStr, "-- {RADAR counterNumber: %d, %d, last dist:(%d cm, %d cm), last power:(%d, %d), timeoutCounter:([%d, %d] [%d, %d] [%d, %d]), zeroCounter:[%d, %d], CheckDist:(%d, %d, %d), (%d, %d, %d), MinPower:%d, %d, StableRange:%d, %d ,ConfirmNum:(%d, %d), (%d, %d)} --\r\n", 
002a38  e59f01a0          LDR      r0,|L1.11232|
002a3c  e5900004          LDR      r0,[r0,#4]  ; checkLowPowerStableCounter
002a40  e59f1198          LDR      r1,|L1.11232|
002a44  e5911000          LDR      r1,[r1,#0]  ; checkLowPowerStableCounter
002a48  e51f2fac          LDR      r2,|L1.6820|
002a4c  e5922004          LDR      r2,[r2,#4]  ; checkStableCounter
002a50  e51f3fb4          LDR      r3,|L1.6820|
002a54  e5933000          LDR      r3,[r3,#0]  ; checkStableCounter
002a58  e58d0064          STR      r0,[sp,#0x64]
002a5c  e51f0fbc          LDR      r0,|L1.6824|
002a60  e58d1060          STR      r1,[sp,#0x60]
002a64  e58d205c          STR      r2,[sp,#0x5c]
002a68  e58d3058          STR      r3,[sp,#0x58]
002a6c  e5900004          LDR      r0,[r0,#4]  ; checkStableDistRange
002a70  e51f1fd0          LDR      r1,|L1.6824|
002a74  e5911000          LDR      r1,[r1,#0]  ; checkStableDistRange
002a78  e51f2fd4          LDR      r2,|L1.6828|
002a7c  e5922004          LDR      r2,[r2,#4]  ; checkMinPower
002a80  e51f3fdc          LDR      r3,|L1.6828|
002a84  e5933000          LDR      r3,[r3,#0]  ; checkMinPower
002a88  e58d0054          STR      r0,[sp,#0x54]
002a8c  e51f0fe4          LDR      r0,|L1.6832|
002a90  e58d1050          STR      r1,[sp,#0x50]
002a94  e58d204c          STR      r2,[sp,#0x4c]
002a98  e58d3048          STR      r3,[sp,#0x48]
002a9c  e5900004          LDR      r0,[r0,#4]  ; checkMinDist
002aa0  e51f1ff4          LDR      r1,|L1.6836|
002aa4  e5911004          LDR      r1,[r1,#4]  ; checkMaxDist
002aa8  e51f2ff8          LDR      r2,|L1.6840|
002aac  e5922004          LDR      r2,[r2,#4]  ; checkExceedDist
002ab0  e59f312c          LDR      r3,|L1.11236|
002ab4  e5933000          LDR      r3,[r3,#0]  ; checkMinDist
002ab8  e58d0044          STR      r0,[sp,#0x44]
002abc  e59f0124          LDR      r0,|L1.11240|
002ac0  e58d1040          STR      r1,[sp,#0x40]
002ac4  e58d203c          STR      r2,[sp,#0x3c]
002ac8  e58d3038          STR      r3,[sp,#0x38]
002acc  e5900000          LDR      r0,[r0,#0]  ; checkMaxDist
002ad0  e59f1114          LDR      r1,|L1.11244|
002ad4  e5912000          LDR      r2,[r1,#0]  ; checkExceedDist
002ad8  e59f1110          LDR      r1,|L1.11248|
002adc  e5911004          LDR      r1,[r1,#4]  ; zeroCounter
002ae0  e59f3108          LDR      r3,|L1.11248|
002ae4  e5933000          LDR      r3,[r3,#0]  ; zeroCounter
002ae8  e58d0034          STR      r0,[sp,#0x34]
002aec  e59f0100          LDR      r0,|L1.11252|
002af0  e58d102c          STR      r1,[sp,#0x2c]
002af4  e58d2030          STR      r2,[sp,#0x30]
002af8  e58d3028          STR      r3,[sp,#0x28]
002afc  e5902004          LDR      r2,[r0,#4]  ; timeoutCounter3
002b00  e5900000          LDR      r0,[r0,#0]  ; timeoutCounter3
002b04  e51f1b2c          LDR      r1,|L1.8160|
002b08  e5911004          LDR      r1,[r1,#4]  ; timeoutCounter2
002b0c  e51f3b34          LDR      r3,|L1.8160|
002b10  e5933000          LDR      r3,[r3,#0]  ; timeoutCounter2
002b14  e58d0020          STR      r0,[sp,#0x20]
002b18  e58d2024          STR      r2,[sp,#0x24]
002b1c  e51f0b70          LDR      r0,|L1.8116|
002b20  e58d101c          STR      r1,[sp,#0x1c]
002b24  e58d3018          STR      r3,[sp,#0x18]
002b28  e5901004          LDR      r1,[r0,#4]  ; timeoutCounter
002b2c  e5900000          LDR      r0,[r0,#0]  ; timeoutCounter
002b30  e59f20c0          LDR      r2,|L1.11256|
002b34  e5922004          LDR      r2,[r2,#4]  ; lastPower
002b38  e59f30b8          LDR      r3,|L1.11256|
002b3c  e5933000          LDR      r3,[r3,#0]  ; lastPower
002b40  e1cd01f0          STRD     r0,r1,[sp,#0x10]
002b44  e59f00b0          LDR      r0,|L1.11260|
002b48  e58d200c          STR      r2,[sp,#0xc]
002b4c  e58d3008          STR      r3,[sp,#8]
002b50  e5900004          LDR      r0,[r0,#4]  ; lastDist
002b54  e59f10a0          LDR      r1,|L1.11260|
002b58  e5911000          LDR      r1,[r1,#0]  ; lastDist
002b5c  e58d0004          STR      r0,[sp,#4]
002b60  e59f0098          LDR      r0,|L1.11264|
002b64  e58d1000          STR      r1,[sp,#0]
002b68  e5903004          LDR      r3,[r0,#4]  ; counterNumber
002b6c  e59f1090          LDR      r1,|L1.11268|
002b70  e5902000          LDR      r2,[r0,#0]  ; counterNumber
002b74  e51f063c          LDR      r0,|L1.9536|
002b78  ebfffffe          BL       __2sprintf
;;;2024                                       counterNumber[0], counterNumber[1], lastDist[0], lastDist[1], lastPower[0], lastPower[1],
;;;2025                                       timeoutCounter[0], timeoutCounter[1], timeoutCounter2[0], timeoutCounter2[1], timeoutCounter3[0], timeoutCounter3[1], 
;;;2026                                       zeroCounter[0], zeroCounter[1], 
;;;2027                                       checkExceedDist[0], checkMaxDist[0], checkMinDist[0], checkExceedDist[1], checkMaxDist[1], checkMinDist[1],
;;;2028                                       checkMinPower[0], checkMinPower[1],
;;;2029                                       checkStableDistRange[0], checkStableDistRange[1], 
;;;2030                                       checkStableCounter[0], checkStableCounter[1], checkLowPowerStableCounter[0], checkLowPowerStableCounter[1]);
;;;2031       LoglibPrintf(LOG_TYPE_INFO, logStr);
002b7c  e51f1644          LDR      r1,|L1.9536|
002b80  e3a00000          MOV      r0,#0
002b84  ebfffffe          BL       LoglibPrintf
;;;2032   }
002b88  e28dd06c          ADD      sp,sp,#0x6c
002b8c  e49df004          POP      {pc}
                  |L1.11152|
002b90  66696e69          DCB      "finish. radarBufferLeft[0] = %d ,radarBufferLeft[1] = %"
002b94  73682e20
002b98  72616461
002b9c  72427566
002ba0  6665724c
002ba4  6566745b
002ba8  305d203d
002bac  20256420
002bb0  2c726164
002bb4  61724275
002bb8  66666572
002bbc  4c656674
002bc0  5b315d20
002bc4  3d2025  
002bc7  64                DCB      "d"
                  |L1.11208|
002bc8  0a0d00            DCB      "\n\r",0
002bcb  00                DCB      0
                  |L1.11212|
002bcc  70526164          DCB      "pRadarBuffer[%d] = ",0
002bd0  61724275
002bd4  66666572
002bd8  5b25645d
002bdc  203d2000
                  |L1.11232|
                          DCD      checkLowPowerStableCounter
                  |L1.11236|
                          DCD      checkMinDist
                  |L1.11240|
                          DCD      checkMaxDist
                  |L1.11244|
                          DCD      checkExceedDist
                  |L1.11248|
                          DCD      zeroCounter
                  |L1.11252|
                          DCD      timeoutCounter3
                  |L1.11256|
                          DCD      lastPower
                  |L1.11260|
                          DCD      lastDist
                  |L1.11264|
                          DCD      counterNumber
                  |L1.11268|
                          DCD      ||.constdata||+0x340
                          ENDP

                  RadarSetLogFlag PROC
;;;2037   }
;;;2038   void RadarSetLogFlag(int radarindex)
002c08  e12fff1e          BX       lr
;;;2039   {
;;;2040       //logStatus[radarindex] = TRUE;
;;;2041   }
;;;2042   
                          ENDP

                  RadarSetDumpRawData PROC
;;;2043   void RadarSetDumpRawData(int radarindex, BOOL flag)
002c0c  e12fff1e          BX       lr
;;;2044   {
;;;2045       //dumpStatus[radarindex] = flag;
;;;2046   }
;;;2047   
                          ENDP

                  RadarSetCheckDistExceedMaxMin PROC
;;;2048   void RadarSetCheckDistExceedMaxMin(int index, int exceed, int max, int min)
002c10  e92d40f8          PUSH     {r3-r7,lr}
;;;2049   {    
002c14  e1a04000          MOV      r4,r0
002c18  e1a05001          MOV      r5,r1
002c1c  e1a06002          MOV      r6,r2
002c20  e1a07003          MOV      r7,r3
;;;2050       checkExceedDist[index] = exceed;
002c24  e51f0040          LDR      r0,|L1.11244|
002c28  e7805104          STR      r5,[r0,r4,LSL #2]
;;;2051       checkMaxDist[index] = max;
002c2c  e51f004c          LDR      r0,|L1.11240|
002c30  e7806104          STR      r6,[r0,r4,LSL #2]
;;;2052       checkMinDist[index] = min;
002c34  e51f0058          LDR      r0,|L1.11236|
002c38  e7807104          STR      r7,[r0,r4,LSL #2]
;;;2053       sysprintf("  =SET= [RadarSetCheckDistExceedMaxMin[%d]]> (exceed:%d, max:%d, min:%d) --\r\n", index, checkExceedDist[index], checkMaxDist[index], checkMinDist[index]);
002c3c  e7900104          LDR      r0,[r0,r4,LSL #2]
002c40  e58d0000          STR      r0,[sp,#0]
002c44  e51f0064          LDR      r0,|L1.11240|
002c48  e7903104          LDR      r3,[r0,r4,LSL #2]
002c4c  e51f0068          LDR      r0,|L1.11244|
002c50  e7902104          LDR      r2,[r0,r4,LSL #2]
002c54  e1a01004          MOV      r1,r4
002c58  e59f0204          LDR      r0,|L1.11876|
002c5c  ebfffffe          BL       sysprintf
;;;2054   }
002c60  e8bd80f8          POP      {r3-r7,pc}
;;;2055   
                          ENDP

                  RadarSetCheckPowerMin PROC
;;;2056   void RadarSetCheckPowerMin(int index, int min)
002c64  e92d4070          PUSH     {r4-r6,lr}
;;;2057   {    
002c68  e1a04000          MOV      r4,r0
002c6c  e1a05001          MOV      r5,r1
;;;2058       checkMinPower[index] = min;
002c70  e59f01f0          LDR      r0,|L1.11880|
002c74  e7805104          STR      r5,[r0,r4,LSL #2]
;;;2059       sysprintf("  =SET= [RadarSetCheckPowerMin[%d]]> (min:%d) --\r\n", index, checkMinPower[index]);
002c78  e7902104          LDR      r2,[r0,r4,LSL #2]
002c7c  e1a01004          MOV      r1,r4
002c80  e28f0f79          ADR      r0,|L1.11884|
002c84  ebfffffe          BL       sysprintf
;;;2060   }
002c88  e8bd8070          POP      {r4-r6,pc}
;;;2061   void RadarSetStableCounter(int radarIndex, int checkCounter)
                          ENDP

                  RadarSetStableCounter PROC
002c8c  e92d4070          PUSH     {r4-r6,lr}
;;;2062   {
002c90  e1a04000          MOV      r4,r0
002c94  e1a05001          MOV      r5,r1
;;;2063       checkStableCounter[radarIndex] = checkCounter;
002c98  e59f0200          LDR      r0,|L1.11936|
002c9c  e7805104          STR      r5,[r0,r4,LSL #2]
;;;2064       sysprintf("  =SET= [RadarSetStableCounter[%d]]> (checkCounter:%d) --\r\n", radarIndex, checkStableCounter[radarIndex]);
002ca0  e7902104          LDR      r2,[r0,r4,LSL #2]
002ca4  e1a01004          MOV      r1,r4
002ca8  e28f0f7d          ADR      r0,|L1.11940|
002cac  ebfffffe          BL       sysprintf
;;;2065   }
002cb0  e8bd8070          POP      {r4-r6,pc}
;;;2066   void RadarSetStableDistRange(int radarIndex, int checkCounter)
                          ENDP

                  RadarSetStableDistRange PROC
002cb4  e92d4070          PUSH     {r4-r6,lr}
;;;2067   {
002cb8  e1a04000          MOV      r4,r0
002cbc  e1a05001          MOV      r5,r1
;;;2068       checkStableDistRange[radarIndex] = checkCounter;
002cc0  e59f0218          LDR      r0,|L1.12000|
002cc4  e7805104          STR      r5,[r0,r4,LSL #2]
;;;2069       sysprintf("  =SET= [RadarSetStableCounter[%d]]> (checkCounter:%d) --\r\n", radarIndex, checkStableDistRange[radarIndex]);
002cc8  e7902104          LDR      r2,[r0,r4,LSL #2]
002ccc  e1a01004          MOV      r1,r4
002cd0  e28f0f73          ADR      r0,|L1.11940|
002cd4  ebfffffe          BL       sysprintf
;;;2070   }
002cd8  e8bd8070          POP      {r4-r6,pc}
;;;2071   void RadarSetVacuumCounter(int radarIndex, int checkCounter)
                          ENDP

                  RadarSetVacuumCounter PROC
002cdc  e92d4070          PUSH     {r4-r6,lr}
;;;2072   {
002ce0  e1a04000          MOV      r4,r0
002ce4  e1a05001          MOV      r5,r1
;;;2073       checkVacuumCounter[radarIndex] = checkCounter;
002ce8  e59f01f4          LDR      r0,|L1.12004|
002cec  e7805104          STR      r5,[r0,r4,LSL #2]
;;;2074       sysprintf("  =SET= [RadarSetVacuumCounter[%d]]> (checkCounter:%d) --\r\n", radarIndex, checkVacuumCounter[radarIndex]);
002cf0  e7902104          LDR      r2,[r0,r4,LSL #2]
002cf4  e1a01004          MOV      r1,r4
002cf8  e28f0f7a          ADR      r0,|L1.12008|
002cfc  ebfffffe          BL       sysprintf
;;;2075   }
002d00  e8bd8070          POP      {r4-r6,pc}
;;;2076   void RadarSetLowPowerStableCounter(int radarIndex, int checkCounter)
                          ENDP

                  RadarSetLowPowerStableCounter PROC
002d04  e92d4070          PUSH     {r4-r6,lr}
;;;2077   {
002d08  e1a04000          MOV      r4,r0
002d0c  e1a05001          MOV      r5,r1
;;;2078       checkVacuumCounter[radarIndex] = checkCounter;
002d10  e59f01cc          LDR      r0,|L1.12004|
002d14  e7805104          STR      r5,[r0,r4,LSL #2]
;;;2079       sysprintf("  =SET= [RadarSetLowPowerStableCounter[%d]]> (checkCounter:%d) --\r\n", radarIndex, checkLowPowerStableCounter[radarIndex]);
002d18  e51f0140          LDR      r0,|L1.11232|
002d1c  e7902104          LDR      r2,[r0,r4,LSL #2]
002d20  e1a01004          MOV      r1,r4
002d24  e59f01f8          LDR      r0,|L1.12068|
002d28  ebfffffe          BL       sysprintf
;;;2080   }
002d2c  e8bd8070          POP      {r4-r6,pc}
;;;2081   
                          ENDP

                  RadarSetStartCalibrate PROC
;;;2082   void RadarSetStartCalibrate(int radarIndex, BOOL flag)
002d30  e59f21f0          LDR      r2,|L1.12072|
;;;2083   {
;;;2084       calibrationFlag[radarIndex] = flag;
002d34  e7c21000          STRB     r1,[r2,r0]
;;;2085       //terninalPrintf("  =SET= [RadarSetStartCalibrate[%d]]> (flag:%d) --\r\n", radarIndex, calibrationFlag[radarIndex]);
;;;2086   }
002d38  e12fff1e          BX       lr
;;;2087   
                          ENDP

                  RadarSetQueryVersion PROC
;;;2088   void RadarSetQueryVersion(int radarIndex, BOOL flag)
002d3c  e51f2da8          LDR      r2,|L1.8092|
;;;2089   {
;;;2090       queryversionFlag[radarIndex] = flag;
002d40  e7c21000          STRB     r1,[r2,r0]
;;;2091       
;;;2092   }
002d44  e12fff1e          BX       lr
;;;2093   
                          ENDP

                  ReadRadarVersion PROC
;;;2094   void ReadRadarVersion(int radarIndex, uint8_t* code1,uint8_t* code2,uint8_t* code3,uint8_t* code4)
002d48  e92d4030          PUSH     {r4,r5,lr}
;;;2095   {
002d4c  e59dc00c          LDR      r12,[sp,#0xc]
;;;2096        //BOOL changeFlag;
;;;2097        //uint8_t temp1,temp2,temp3,temp4;
;;;2098        //RadarSetQueryVersion(radarIndex, TRUE);
;;;2099        //RadarCheckFeature(radarIndex, &changeFlag, NULL, NULL, NULL);
;;;2100        *code1 = targetVersionPacket[radarIndex].code1;
002d50  e0804100          ADD      r4,r0,r0,LSL #2
002d54  e0844180          ADD      r4,r4,r0,LSL #3
002d58  e51f5d88          LDR      r5,|L1.8152|
002d5c  e0844005          ADD      r4,r4,r5
002d60  e5d44005          LDRB     r4,[r4,#5]
002d64  e5c14000          STRB     r4,[r1,#0]
;;;2101        *code2 = targetVersionPacket[radarIndex].code2;
002d68  e0804100          ADD      r4,r0,r0,LSL #2
002d6c  e0844180          ADD      r4,r4,r0,LSL #3
002d70  e0844005          ADD      r4,r4,r5
002d74  e5d44006          LDRB     r4,[r4,#6]
002d78  e5c24000          STRB     r4,[r2,#0]
;;;2102        *code3 = targetVersionPacket[radarIndex].code3;
002d7c  e0804100          ADD      r4,r0,r0,LSL #2
002d80  e0844180          ADD      r4,r4,r0,LSL #3
002d84  e0844005          ADD      r4,r4,r5
002d88  e5d44007          LDRB     r4,[r4,#7]
002d8c  e5c34000          STRB     r4,[r3,#0]
;;;2103        *code4 = targetVersionPacket[radarIndex].code4;
002d90  e0804100          ADD      r4,r0,r0,LSL #2
002d94  e0844180          ADD      r4,r4,r0,LSL #3
002d98  e0844005          ADD      r4,r4,r5
002d9c  e5d44008          LDRB     r4,[r4,#8]
002da0  e5cc4000          STRB     r4,[r12,#0]
;;;2104       
;;;2105       /* temp1 = targetVersionPacket[radarIndex].code1;
;;;2106        temp2 = targetVersionPacket[radarIndex].code2;
;;;2107        temp3 = targetVersionPacket[radarIndex].code3;
;;;2108        temp4 = targetVersionPacket[radarIndex].code4;
;;;2109       
;;;2110        *code1 = temp1;
;;;2111        *code2 = temp2;
;;;2112        *code3 = temp3;
;;;2113        *code4 = temp4; 
;;;2114         terninalPrintf("RADAR%d FW VERSION: VER %d.%d.%d.%s \r\n"          ,radarIndex            
;;;2115                                                                            ,temp1
;;;2116                                                                            ,temp2
;;;2117                                                                            ,temp3
;;;2118                                                                 ,(temp4 == 1)?"Beta":""); */
;;;2119       
;;;2120       
;;;2121   }
002da4  e8bd8030          POP      {r4,r5,pc}
;;;2122   int ReadRadarVersionString(int radarIndex, char* radarVerStr)
                          ENDP

                  ReadRadarVersionString PROC
002da8  e92d403e          PUSH     {r1-r5,lr}
;;;2123   {
002dac  e1a04000          MOV      r4,r0
002db0  e1a05001          MOV      r5,r1
;;;2124       
;;;2125        BOOL changeFlag;
;;;2126        //RadarDrvInit();
;;;2127        RadarSetQueryVersion(radarIndex, TRUE);
002db4  e3a01001          MOV      r1,#1
002db8  e1a00004          MOV      r0,r4
002dbc  ebfffffe          BL       RadarSetQueryVersion
;;;2128        if(RadarCheckFeature(radarIndex, &changeFlag, NULL, NULL, NULL) == RADAR_QUERY_VERSION_OK )
002dc0  e3a00000          MOV      r0,#0
002dc4  e58d0000          STR      r0,[sp,#0]
002dc8  e1a03000          MOV      r3,r0
002dcc  e1a02000          MOV      r2,r0
002dd0  e28d1008          ADD      r1,sp,#8
002dd4  e1a00004          MOV      r0,r4
002dd8  ebfffffe          BL       RadarCheckFeature
002ddc  e3500050          CMP      r0,#0x50
002de0  1a00001d          BNE      |L1.11868|
;;;2129        {    
;;;2130            
;;;2131            sprintf(radarVerStr,"VER %d.%d.%d.%s"
002de4  e0840104          ADD      r0,r4,r4,LSL #2
002de8  e0800184          ADD      r0,r0,r4,LSL #3
002dec  e51f1e1c          LDR      r1,|L1.8152|
002df0  e0800001          ADD      r0,r0,r1
002df4  e5d00008          LDRB     r0,[r0,#8]
002df8  e3500001          CMP      r0,#1
002dfc  1a000001          BNE      |L1.11784|
;;;2132                                                                                ,targetVersionPacket[radarIndex].code1
;;;2133                                                                                ,targetVersionPacket[radarIndex].code2
;;;2134                                                                                ,targetVersionPacket[radarIndex].code3
;;;2135                                                                     ,(targetVersionPacket[radarIndex].code4 == 1)?"Beta":""); 
002e00  e28f1f49          ADR      r1,|L1.12076|
002e04  ea000000          B        |L1.11788|
                  |L1.11784|
002e08  e28f1e12          ADR      r1,|L1.12080|
                  |L1.11788|
002e0c  e0840104          ADD      r0,r4,r4,LSL #2
002e10  e0800184          ADD      r0,r0,r4,LSL #3
002e14  e51f2e44          LDR      r2,|L1.8152|
002e18  e0800002          ADD      r0,r0,r2
002e1c  e5d00007          LDRB     r0,[r0,#7]
002e20  e1cd00f0          STRD     r0,r1,[sp,#0]
002e24  e0840104          ADD      r0,r4,r4,LSL #2
002e28  e0800184          ADD      r0,r0,r4,LSL #3
002e2c  e2821000          ADD      r1,r2,#0
002e30  e0800001          ADD      r0,r0,r1
002e34  e5d03006          LDRB     r3,[r0,#6]
002e38  e0840104          ADD      r0,r4,r4,LSL #2
002e3c  e0800184          ADD      r0,r0,r4,LSL #3
002e40  e0800001          ADD      r0,r0,r1
002e44  e5d02005          LDRB     r2,[r0,#5]
002e48  e28f10e4          ADR      r1,|L1.12084|
002e4c  e1a00005          MOV      r0,r5
002e50  ebfffffe          BL       __2sprintf
;;;2136            return TRUE;
002e54  e3a00001          MOV      r0,#1
                  |L1.11864|
;;;2137        }
;;;2138        
;;;2139        return FALSE;
;;;2140   }
002e58  e8bd803e          POP      {r1-r5,pc}
                  |L1.11868|
002e5c  e3a00000          MOV      r0,#0                 ;2139
002e60  eafffffc          B        |L1.11864|
                  |L1.11876|
                          DCD      ||.constdata||+0x444
                  |L1.11880|
                          DCD      checkMinPower
                  |L1.11884|
002e6c  20203d53          DCB      "  =SET= [RadarSetCheckPowerMin[%d]]> (min:%d) --\r\n",0
002e70  45543d20
002e74  5b526164
002e78  61725365
002e7c  74436865
002e80  636b506f
002e84  7765724d
002e88  696e5b25
002e8c  645d5d3e
002e90  20286d69
002e94  6e3a2564
002e98  29202d2d
002e9c  0d0a00  
002e9f  00                DCB      0
                  |L1.11936|
                          DCD      checkStableCounter
                  |L1.11940|
002ea4  20203d53          DCB      "  =SET= [RadarSetStableCounter[%d]]> (checkCounter:%d) "
002ea8  45543d20
002eac  5b526164
002eb0  61725365
002eb4  74537461
002eb8  626c6543
002ebc  6f756e74
002ec0  65725b25
002ec4  645d5d3e
002ec8  20286368
002ecc  65636b43
002ed0  6f756e74
002ed4  65723a25
002ed8  642920  
002edb  2d2d0d0a          DCB      "--\r\n",0
002edf  00      
                  |L1.12000|
                          DCD      checkStableDistRange
                  |L1.12004|
                          DCD      checkVacuumCounter
                  |L1.12008|
002ee8  20203d53          DCB      "  =SET= [RadarSetVacuumCounter[%d]]> (checkCounter:%d) "
002eec  45543d20
002ef0  5b526164
002ef4  61725365
002ef8  74566163
002efc  75756d43
002f00  6f756e74
002f04  65725b25
002f08  645d5d3e
002f0c  20286368
002f10  65636b43
002f14  6f756e74
002f18  65723a25
002f1c  642920  
002f1f  2d2d0d0a          DCB      "--\r\n",0
002f23  00      
                  |L1.12068|
                          DCD      ||.constdata||+0x494
                  |L1.12072|
                          DCD      calibrationFlag
                  |L1.12076|
002f2c  42657461          DCB      "Beta"
                  |L1.12080|
002f30  00                DCB      0
002f31  00                DCB      0
002f32  00                DCB      0
002f33  00                DCB      0
                  |L1.12084|
002f34  56455220          DCB      "VER %d.%d.%d.%s",0
002f38  25642e25
002f3c  642e2564
002f40  2e257300
                          ENDP

                  RadarReadDistValue PROC
;;;2141   
;;;2142   int RadarReadDistValue(int index,int* dist)
002f44  e1a02000          MOV      r2,r0
;;;2143   {
;;;2144       if(lidarCalibrateStatusFlag[index] == TRUE)
002f48  e51f0a08          LDR      r0,|L1.9544|
002f4c  e7900102          LDR      r0,[r0,r2,LSL #2]
002f50  e3500001          CMP      r0,#1
002f54  1a000007          BNE      |L1.12152|
;;;2145       {
;;;2146           *dist = lidarCalibrateDistValue[index];
002f58  e51f0a14          LDR      r0,|L1.9548|
002f5c  e7900102          LDR      r0,[r0,r2,LSL #2]
002f60  e5810000          STR      r0,[r1,#0]
;;;2147           lidarCalibrateStatusFlag[index] = FALSE ;
002f64  e3a00000          MOV      r0,#0
002f68  e51f3a28          LDR      r3,|L1.9544|
002f6c  e7830102          STR      r0,[r3,r2,LSL #2]
;;;2148           return TRUE;
002f70  e3a00001          MOV      r0,#1
                  |L1.12148|
;;;2149       }
;;;2150           
;;;2151       return FALSE;
;;;2152   }
002f74  e12fff1e          BX       lr
                  |L1.12152|
002f78  e3a00000          MOV      r0,#0                 ;2151
002f7c  eafffffc          B        |L1.12148|
;;;2153   
                          ENDP

                  newprintfBuffData PROC
;;;2158   
;;;2159   static void newprintfBuffData(char* str, uint8_t* data, int len)
002f80  e92d41f0          PUSH     {r4-r8,lr}
;;;2160   {
002f84  e1a07000          MOV      r7,r0
002f88  e1a05001          MOV      r5,r1
002f8c  e1a06002          MOV      r6,r2
;;;2161       int i;
;;;2162       //terninalPrintf("\r\n %s: len = %d...\r\n   -%02d:-> \r\n", str, len, len);
;;;2163       
;;;2164       //terninalPrintf("%s[%d] = ", str, len);
;;;2165       terninalPrintf("\r");
002f90  e28f0f8b          ADR      r0,|L1.12740|
002f94  ebfffffe          BL       terninalPrintf
;;;2166       //terninalPrintf("\r\r\r\r\r");
;;;2167       //sysprintf("%s[%d] = ", str, len);
;;;2168       
;;;2169       //terninalPrintf("buff = ");
;;;2170       for(i = 0; i<len; i++)
002f98  e3a04000          MOV      r4,#0
002f9c  ea00000b          B        |L1.12240|
                  |L1.12192|
;;;2171       { 
;;;2172           if((data[i]>=0x20)&&(data[i]<=0x7e))
002fa0  e7d50004          LDRB     r0,[r5,r4]
002fa4  e3500020          CMP      r0,#0x20
002fa8  ba000005          BLT      |L1.12228|
002fac  e7d50004          LDRB     r0,[r5,r4]
002fb0  e350007e          CMP      r0,#0x7e
002fb4  ca000002          BGT      |L1.12228|
;;;2173               //terninalPrintf("[%02d]:0x%02x(%c)\r\n", i, (unsigned char)data[i], (unsigned char)data[i]);
;;;2174           
;;;2175               //terninalPrintf("%02x ",(unsigned char)data[i]);
;;;2176               terninalPrintf("\r");
002fb8  e28f0f81          ADR      r0,|L1.12740|
002fbc  ebfffffe          BL       terninalPrintf
002fc0  ea000001          B        |L1.12236|
                  |L1.12228|
;;;2177               //terninalPrintf("\r\r\r\r\r");
;;;2178               //sysprintf("%02x ",(unsigned char)data[i]);
;;;2179           else
;;;2180               //terninalPrintf("[%02d]:0x%02x\r\n", i, (unsigned char)data[i]);
;;;2181           
;;;2182               //terninalPrintf("%02x ",(unsigned char)data[i]);
;;;2183               terninalPrintf("\r");
002fc4  e28f0f7e          ADR      r0,|L1.12740|
002fc8  ebfffffe          BL       terninalPrintf
                  |L1.12236|
002fcc  e2844001          ADD      r4,r4,#1              ;2170
                  |L1.12240|
002fd0  e1540006          CMP      r4,r6                 ;2170
002fd4  bafffff1          BLT      |L1.12192|
;;;2184               //terninalPrintf("\r\r\r\r\r");
;;;2185               //sysprintf("%02x ",(unsigned char)data[i]);
;;;2186       }
;;;2187       //terninalPrintf("\r\n");
;;;2188       
;;;2189   }
002fd8  e8bd81f0          POP      {r4-r8,pc}
;;;2190   
                          ENDP

                  actionCmd PROC
;;;2191   
;;;2192   static BOOL actionCmd(int radarIndex ,uint8_t* buff, int buffLen, int* receiveLen, int waitTime, uint8_t* cmd, 
002fdc  e92d4fff          PUSH     {r0-r11,lr}
;;;2193                         int cmdLen, uint8_t* cmdAck, int cmdAckRealLen, int cmdAckCompareLen)
;;;2194   {
002fe0  e24dd00c          SUB      sp,sp,#0xc
002fe4  e1a07001          MOV      r7,r1
002fe8  e1a08002          MOV      r8,r2
002fec  e1a05003          MOV      r5,r3
002ff0  e59d9048          LDR      r9,[sp,#0x48]
002ff4  e59da050          LDR      r10,[sp,#0x50]
;;;2195       int receiveIndex = 0;
002ff8  e3a04000          MOV      r4,#0
;;;2196       BOOL sendResult = FALSE;
002ffc  e3a00000          MOV      r0,#0
003000  e58d0008          STR      r0,[sp,#8]
;;;2197       
;;;2198       //uint8_t* pRadarBuffer;
;;;2199       uint8_t* pRadarBuffer  = (uint8_t*)&radarBuffer[0];
003004  e51f06a0          LDR      r0,|L1.10604|
003008  e58d0004          STR      r0,[sp,#4]
;;;2200       
;;;2201       receiveIndex = 0;
00300c  e1a00000          MOV      r0,r0
;;;2202       *receiveLen = 0;
003010  e3a00000          MOV      r0,#0
003014  e5850000          STR      r0,[r5,#0]
;;;2203       newprintfBuffData("actionCmd Send", cmd, cmdLen);
003018  e1a02009          MOV      r2,r9
00301c  e28f0f69          ADR      r0,|L1.12744|
003020  e59d1044          LDR      r1,[sp,#0x44]
003024  ebfffffe          BL       newprintfBuffData
;;;2204       terninalPrintf("\r");
003028  e28f0f65          ADR      r0,|L1.12740|
00302c  ebfffffe          BL       terninalPrintf
;;;2205       //terninalPrintf("\r\n");
;;;2206       //sysprintf("\r\n");
;;;2207       
;;;2208       
;;;2209       //vTaskDelay(1000/portTICK_RATE_MS);
;;;2210       //terninalPrintf("cmdLen = %d\r\n", cmdLen);
;;;2211       if(cmdLen > 0)
003030  e3590000          CMP      r9,#0
003034  da00000b          BLE      |L1.12392|
;;;2212       {
;;;2213           //flushTxRx();
;;;2214           radarFlushRxBuffer(radarIndex);
003038  e59d000c          LDR      r0,[sp,#0xc]
00303c  ebfffffe          BL       radarFlushRxBuffer
;;;2215           //if(sendData(cmd, cmdLen) == cmdLen) 
;;;2216           int tempLen = radarWrite(radarIndex, cmd, cmdLen);
003040  e1a02009          MOV      r2,r9
003044  e59d000c          LDR      r0,[sp,#0xc]
003048  e59d1044          LDR      r1,[sp,#0x44]
00304c  ebfffffe          BL       radarWrite
003050  e1a06000          MOV      r6,r0
;;;2217           //terninalPrintf("tempLen = %d\r\n", tempLen);        
;;;2218           if( tempLen == cmdLen)
003054  e1560009          CMP      r6,r9
003058  1a000001          BNE      |L1.12388|
;;;2219           {
;;;2220               sendResult = TRUE;
00305c  e3a00001          MOV      r0,#1
003060  e58d0008          STR      r0,[sp,#8]
                  |L1.12388|
;;;2221           }
;;;2222       }
003064  ea000001          B        |L1.12400|
                  |L1.12392|
;;;2223       else
;;;2224       {
;;;2225           sendResult = TRUE;
003068  e3a00001          MOV      r0,#1
00306c  e58d0008          STR      r0,[sp,#8]
                  |L1.12400|
;;;2226       }
;;;2227       //sendResult = TRUE;
;;;2228       //terninalPrintf("sendResult = %d\r\n", sendResult);
;;;2229       if(sendResult)
003070  e59d0008          LDR      r0,[sp,#8]
003074  e3500000          CMP      r0,#0
003078  0a000045          BEQ      |L1.12692|
;;;2230       {
;;;2231           int counter = waitTime/100;
00307c  e3a01064          MOV      r1,#0x64
003080  e59d0040          LDR      r0,[sp,#0x40]
003084  ebfffffe          BL       __aeabi_idivmod
003088  e1a0b000          MOV      r11,r0
;;;2232           while(counter != 0)
00308c  ea00003d          B        |L1.12680|
                  |L1.12432|
;;;2233           {
;;;2234               int reval = radarRead(radarIndex, pRadarBuffer, RADAR_BUFFER_SIZE); //readData(receiveDataTmp,  cmdAckRealLen);  //sizeof(receiveDataTmp)
003090  e3a02b01          MOV      r2,#0x400
003094  e59d000c          LDR      r0,[sp,#0xc]
003098  e59d1004          LDR      r1,[sp,#4]
00309c  ebfffffe          BL       radarRead
0030a0  e1a06000          MOV      r6,r0
;;;2235               if(reval > 0)
0030a4  e3560000          CMP      r6,#0
0030a8  da000032          BLE      |L1.12664|
;;;2236               {
;;;2237                   if(buffLen < receiveIndex + reval)
0030ac  e0840006          ADD      r0,r4,r6
0030b0  e1500008          CMP      r0,r8
0030b4  da000006          BLE      |L1.12500|
;;;2238                   {
;;;2239                       terninalPrintf("Buffer exceed:%d, %d\r\n", buffLen, receiveIndex + reval);
0030b8  e0842006          ADD      r2,r4,r6
0030bc  e1a01008          MOV      r1,r8
0030c0  e28f0e11          ADR      r0,|L1.12760|
0030c4  ebfffffe          BL       terninalPrintf
;;;2240                       return FALSE;
0030c8  e3a00000          MOV      r0,#0
                  |L1.12492|
0030cc  e28dd01c          ADD      sp,sp,#0x1c
;;;2241                   }
;;;2242                   //printf("reval=%d\r\n",reval);
;;;2243                   //memcpy(buff + receiveIndex, receiveDataTmp, reval);
;;;2244                   memcpy(buff + receiveIndex, pRadarBuffer, reval);
;;;2245                   receiveIndex = receiveIndex + reval;
;;;2246                   //terninalPrintf("Get data %d\r\n", receiveIndex);
;;;2247                   if(receiveIndex >= cmdAckRealLen)
;;;2248                   {
;;;2249                       if(cmdAckCompareLen>0)
;;;2250                       {
;;;2251                           if(memcmp(buff, cmdAck, cmdAckCompareLen) == 0)
;;;2252                           {
;;;2253                               *receiveLen = receiveIndex;
;;;2254                               //terninalPrintf("Get Ack %d\r\n", *receiveLen);
;;;2255                               
;;;2256                               newprintfBuffData("Receieve", pRadarBuffer, receiveIndex);
;;;2257                               terninalPrintf("\r");
;;;2258                               //terninalPrintf("\r\n");
;;;2259                               //sysprintf("\r\n");
;;;2260                               
;;;2261                               //vTaskDelay(1000/portTICK_RATE_MS);
;;;2262                               
;;;2263                               return TRUE;
;;;2264                           }
;;;2265                           else
;;;2266                           {
;;;2267                               terninalPrintf("Get Ack cmp error\r\n");
;;;2268                               //printfBuffData("Get Ack cmp error", receiveDataTmp, receiveIndex);
;;;2269                               newprintfBuffData("Get Ack cmp error", pRadarBuffer, receiveIndex);
;;;2270                               
;;;2271                               terninalPrintf("\r\n");
;;;2272                               //printfBuffData("Get Ack cmp error", buff, receiveIndex);
;;;2273                               //printfBuffData("Get Ack cmp error", cmdAck, receiveIndex);
;;;2274                               return FALSE;
;;;2275                           }
;;;2276                       }
;;;2277                       else
;;;2278                       {
;;;2279                           
;;;2280                           *receiveLen = receiveIndex;
;;;2281                           terninalPrintf("Get Data %d bytes\r\n", *receiveLen);
;;;2282                           return TRUE;
;;;2283                       }
;;;2284                   }
;;;2285               }  
;;;2286               //printf("counter = %d\r\n", counter);
;;;2287               vTaskDelay(100/portTICK_RATE_MS);
;;;2288               //Sleep(100);
;;;2289               counter--;
;;;2290           }
;;;2291       }  
;;;2292       terninalPrintf("Get Ack ERROR: receiveDataIndex = %d, cmdAckRealLen = %d\r\n", receiveIndex, cmdAckRealLen);
;;;2293       //printfBuffData("Get Ack ERROR", receiveDataTmp, receiveIndex);
;;;2294       newprintfBuffData("Get Ack ERROR", pRadarBuffer, receiveIndex);
;;;2295       terninalPrintf("\r\n");
;;;2296       return FALSE;
;;;2297   }
0030d0  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.12500|
0030d4  e0870004          ADD      r0,r7,r4              ;2244
0030d8  e1a02006          MOV      r2,r6                 ;2244
0030dc  e59d1004          LDR      r1,[sp,#4]            ;2244
0030e0  ebfffffe          BL       __aeabi_memcpy
0030e4  e0844006          ADD      r4,r4,r6              ;2245
0030e8  e154000a          CMP      r4,r10                ;2247
0030ec  ba000021          BLT      |L1.12664|
0030f0  e59d0054          LDR      r0,[sp,#0x54]         ;2249
0030f4  e3500000          CMP      r0,#0                 ;2249
0030f8  da000018          BLE      |L1.12640|
0030fc  e1a00007          MOV      r0,r7                 ;2251
003100  e59d104c          LDR      r1,[sp,#0x4c]         ;2251
003104  e59d2054          LDR      r2,[sp,#0x54]         ;2251
003108  ebfffffe          BL       memcmp
00310c  e3500000          CMP      r0,#0                 ;2251
003110  1a000008          BNE      |L1.12600|
003114  e5854000          STR      r4,[r5,#0]            ;2253
003118  e1a02004          MOV      r2,r4                 ;2256
00311c  e28f00cc          ADR      r0,|L1.12784|
003120  e59d1004          LDR      r1,[sp,#4]            ;2256
003124  ebfffffe          BL       newprintfBuffData
003128  e28f0094          ADR      r0,|L1.12740|
00312c  ebfffffe          BL       terninalPrintf
003130  e3a00001          MOV      r0,#1                 ;2263
003134  eaffffe4          B        |L1.12492|
                  |L1.12600|
003138  e28f00bc          ADR      r0,|L1.12796|
00313c  ebfffffe          BL       terninalPrintf
003140  e1a02004          MOV      r2,r4                 ;2269
003144  e28f00c4          ADR      r0,|L1.12816|
003148  e59d1004          LDR      r1,[sp,#4]            ;2269
00314c  ebfffffe          BL       newprintfBuffData
003150  e28f0094          ADR      r0,|L1.12780|
003154  ebfffffe          BL       terninalPrintf
003158  e3a00000          MOV      r0,#0                 ;2274
00315c  eaffffda          B        |L1.12492|
                  |L1.12640|
003160  e5854000          STR      r4,[r5,#0]            ;2280
003164  e28f00b8          ADR      r0,|L1.12836|
003168  e5951000          LDR      r1,[r5,#0]            ;2281
00316c  ebfffffe          BL       terninalPrintf
003170  e3a00001          MOV      r0,#1                 ;2282
003174  eaffffd4          B        |L1.12492|
                  |L1.12664|
003178  e3a0000a          MOV      r0,#0xa               ;2287
00317c  ebfffffe          BL       vTaskDelay
003180  e24bb001          SUB      r11,r11,#1            ;2289
003184  e1a00000          MOV      r0,r0                 ;2290
                  |L1.12680|
003188  e35b0000          CMP      r11,#0                ;2232
00318c  1affffbf          BNE      |L1.12432|
003190  e1a00000          MOV      r0,r0                 ;2291
                  |L1.12692|
003194  e1a0200a          MOV      r2,r10                ;2292
003198  e1a01004          MOV      r1,r4                 ;2292
00319c  e28f0094          ADR      r0,|L1.12856|
0031a0  ebfffffe          BL       terninalPrintf
0031a4  e1a02004          MOV      r2,r4                 ;2294
0031a8  e28f00c4          ADR      r0,|L1.12916|
0031ac  e59d1004          LDR      r1,[sp,#4]            ;2294
0031b0  ebfffffe          BL       newprintfBuffData
0031b4  e28f0030          ADR      r0,|L1.12780|
0031b8  ebfffffe          BL       terninalPrintf
0031bc  e3a00000          MOV      r0,#0                 ;2296
0031c0  eaffffc1          B        |L1.12492|
                  |L1.12740|
0031c4  0d00              DCB      "\r",0
0031c6  00                DCB      0
0031c7  00                DCB      0
                  |L1.12744|
0031c8  61637469          DCB      "actionCmd Send",0
0031cc  6f6e436d
0031d0  64205365
0031d4  6e6400  
0031d7  00                DCB      0
                  |L1.12760|
0031d8  42756666          DCB      "Buffer exceed:%d, %d"
0031dc  65722065
0031e0  78636565
0031e4  643a2564
0031e8  2c202564
                  |L1.12780|
0031ec  0d0a00            DCB      "\r\n",0
0031ef  00                DCB      0
                  |L1.12784|
0031f0  52656365          DCB      "Receieve",0
0031f4  69657665
0031f8  00      
0031f9  00                DCB      0
0031fa  00                DCB      0
0031fb  00                DCB      0
                  |L1.12796|
0031fc  47657420          DCB      "Get Ack cmp error\r\n",0
003200  41636b20
003204  636d7020
003208  6572726f
00320c  720d0a00
                  |L1.12816|
003210  47657420          DCB      "Get Ack cmp error",0
003214  41636b20
003218  636d7020
00321c  6572726f
003220  7200    
003222  00                DCB      0
003223  00                DCB      0
                  |L1.12836|
003224  47657420          DCB      "Get Data %d bytes\r\n",0
003228  44617461
00322c  20256420
003230  62797465
003234  730d0a00
                  |L1.12856|
003238  47657420          DCB      "Get Ack ERROR: receiveDataIndex = %d, cmdAckRealLen = %"
00323c  41636b20
003240  4552524f
003244  523a2072
003248  65636569
00324c  76654461
003250  7461496e
003254  64657820
003258  3d202564
00325c  2c20636d
003260  6441636b
003264  5265616c
003268  4c656e20
00326c  3d2025  
00326f  640d0a00          DCB      "d\r\n",0
003273  00                DCB      0
                  |L1.12916|
003274  47657420          DCB      "Get Ack ERROR",0
003278  41636b20
00327c  4552524f
003280  5200    
003282  00                DCB      0
003283  00                DCB      0
                          ENDP

                  RadarFirstOTA PROC
;;;2306   
;;;2307   BOOL RadarFirstOTA(int radarIndex, int BufferLen)
003284  e92d4070          PUSH     {r4-r6,lr}
;;;2308   {
003288  e24dd018          SUB      sp,sp,#0x18
00328c  e1a06000          MOV      r6,r0
003290  e1a04001          MOV      r4,r1
;;;2309       int checksum=0;
003294  e3a05000          MOV      r5,#0
;;;2310       
;;;2311       firstCmd[5] = (BufferLen & 0xFF000000)>>24;
003298  e1a00c24          LSR      r0,r4,#24
00329c  e59f13e4          LDR      r1,|L1.13960|
0032a0  e5c10005          STRB     r0,[r1,#5]  ; firstCmd
;;;2312       firstCmd[6] = (BufferLen & 0x00FF0000)>>16;
0032a4  e20408ff          AND      r0,r4,#0xff0000
0032a8  e1a00840          ASR      r0,r0,#16
0032ac  e5c10006          STRB     r0,[r1,#6]  ; firstCmd
;;;2313       firstCmd[7] = (BufferLen & 0x0000FF00)>>8;
0032b0  e2040cff          AND      r0,r4,#0xff00
0032b4  e1a00440          ASR      r0,r0,#8
0032b8  e5c10007          STRB     r0,[r1,#7]  ; firstCmd
;;;2314       firstCmd[8] = (BufferLen & 0x000000FF);
0032bc  e5c14008          STRB     r4,[r1,#8]  ; firstCmd
;;;2315       
;;;2316       checksum=0;
0032c0  e1a00000          MOV      r0,r0
;;;2317       for(int k = 2; k<9; k++)
0032c4  e3a00002          MOV      r0,#2
0032c8  ea000003          B        |L1.13020|
                  |L1.13004|
;;;2318        {
;;;2319           checksum += firstCmd[k];
0032cc  e59f13b4          LDR      r1,|L1.13960|
0032d0  e7d11000          LDRB     r1,[r1,r0]
0032d4  e0855001          ADD      r5,r5,r1
0032d8  e2800001          ADD      r0,r0,#1              ;2317
                  |L1.13020|
0032dc  e3500009          CMP      r0,#9                 ;2317
0032e0  bafffff9          BLT      |L1.13004|
;;;2320        }
;;;2321       
;;;2322       firstCmd[9] = (checksum >> 8);
0032e4  e1a00805          LSL      r0,r5,#16
0032e8  e1a00c20          LSR      r0,r0,#24
0032ec  e59f1394          LDR      r1,|L1.13960|
0032f0  e5c10009          STRB     r0,[r1,#9]  ; firstCmd
;;;2323       firstCmd[10] = (checksum & 0x00FF);
0032f4  e5c1500a          STRB     r5,[r1,#0xa]  ; firstCmd
;;;2324       
;;;2325       if(actionCmd(radarIndex,receiveData, sizeof(receiveData), &receiveDataIndex, MAX_WAIT_ACK_TIME, firstCmd, 
0032f8  e3a00009          MOV      r0,#9
0032fc  e59f2388          LDR      r2,|L1.13964|
003300  e3a0300d          MOV      r3,#0xd
003304  e58d0010          STR      r0,[sp,#0x10]
003308  e58d200c          STR      r2,[sp,#0xc]
00330c  e58d3008          STR      r3,[sp,#8]
003310  e58d0014          STR      r0,[sp,#0x14]
003314  e2810000          ADD      r0,r1,#0
003318  e3a01e7d          MOV      r1,#0x7d0
00331c  e59f336c          LDR      r3,|L1.13968|
003320  e3a02012          MOV      r2,#0x12
003324  e58d1000          STR      r1,[sp,#0]
003328  e59f1364          LDR      r1,|L1.13972|
00332c  e58d0004          STR      r0,[sp,#4]
003330  e1a00006          MOV      r0,r6
003334  ebfffffe          BL       actionCmd
003338  e3500000          CMP      r0,#0
00333c  1a000004          BNE      |L1.13140|
;;;2326                       sizeof(firstCmd), firstcmdTakeAck, sizeof(firstcmdTakeAck), sizeof(firstcmdTakeAck)) == FALSE)
;;;2327       {
;;;2328           terninalPrintf("FirstOTA Transmission failed.\r\n");
003340  e28f0e35          ADR      r0,|L1.13976|
003344  ebfffffe          BL       terninalPrintf
;;;2329           return FALSE ;
003348  e3a00000          MOV      r0,#0
                  |L1.13132|
00334c  e28dd018          ADD      sp,sp,#0x18
;;;2330       }
;;;2331       
;;;2332   
;;;2333       
;;;2334       return TRUE;
;;;2335   }
003350  e8bd8070          POP      {r4-r6,pc}
                  |L1.13140|
003354  e3a00001          MOV      r0,#1                 ;2334
003358  eafffffb          B        |L1.13132|
;;;2336   BOOL RadarOTA(int radarIndex, uint8_t* ReadBuffer, int BufferIndex, int ReadBufferLen)
                          ENDP

                  RadarOTA PROC
00335c  e92d4ff0          PUSH     {r4-r11,lr}
;;;2337   {   
003360  e24dd01c          SUB      sp,sp,#0x1c
003364  e1a0b000          MOV      r11,r0
003368  e1a0a001          MOV      r10,r1
00336c  e1a06002          MOV      r6,r2
003370  e1a07003          MOV      r7,r3
;;;2338       int CmdLen = 0;
003374  e3a04000          MOV      r4,#0
;;;2339       int checksum = 0;
003378  e3a05000          MOV      r5,#0
;;;2340       int TakeAckchecksum = 0;
00337c  e3a08000          MOV      r8,#0
;;;2341       
;;;2342       int ReadBufferIndex = 0 ;
003380  e3a09000          MOV      r9,#0
;;;2343       
;;;2344       
;;;2345       if(ReadBufferLen == OTA_DATA_ENVELOPE_SIZE)
003384  e3570c01          CMP      r7,#0x100
003388  1a000081          BNE      |L1.13716|
;;;2346       {   
;;;2347                     
;;;2348           CmdLen = 11 + OTA_DATA_ENVELOPE_SIZE;
00338c  e59f4324          LDR      r4,|L1.14008|
;;;2349           
;;;2350           Cmd = malloc((CmdLen)* sizeof(uint8_t));
003390  e1a00004          MOV      r0,r4
003394  ebfffffe          BL       malloc
003398  e59f131c          LDR      r1,|L1.14012|
00339c  e5810000          STR      r0,[r1,#0]  ; Cmd
;;;2351               
;;;2352           Cmd[0]=0x7A;
0033a0  e3a0007a          MOV      r0,#0x7a
0033a4  e5911000          LDR      r1,[r1,#0]  ; Cmd
0033a8  e5c10000          STRB     r0,[r1,#0]
;;;2353           Cmd[1]=0xA7;
0033ac  e3a000a7          MOV      r0,#0xa7
0033b0  e59f1304          LDR      r1,|L1.14012|
0033b4  e5911000          LDR      r1,[r1,#0]  ; Cmd
0033b8  e5c10001          STRB     r0,[r1,#1]
;;;2354           Cmd[2]=(CmdLen >> 8);
0033bc  e1a00444          ASR      r0,r4,#8
0033c0  e59f12f4          LDR      r1,|L1.14012|
0033c4  e5911000          LDR      r1,[r1,#0]  ; Cmd
0033c8  e5c10002          STRB     r0,[r1,#2]
;;;2355           Cmd[3]=(CmdLen & 0x00FF);
0033cc  e59f12e8          LDR      r1,|L1.14012|
0033d0  e5911000          LDR      r1,[r1,#0]  ; Cmd
0033d4  e5c14003          STRB     r4,[r1,#3]
;;;2356           Cmd[4]=0x06;
0033d8  e3a00006          MOV      r0,#6
0033dc  e59f12d8          LDR      r1,|L1.14012|
0033e0  e5911000          LDR      r1,[r1,#0]  ; Cmd
0033e4  e5c10004          STRB     r0,[r1,#4]
;;;2357           Cmd[5]=(BufferIndex >> 8);
0033e8  e1a00806          LSL      r0,r6,#16
0033ec  e1a00c20          LSR      r0,r0,#24
0033f0  e59f12c4          LDR      r1,|L1.14012|
0033f4  e5911000          LDR      r1,[r1,#0]  ; Cmd
0033f8  e5c10005          STRB     r0,[r1,#5]
;;;2358           Cmd[6]=(BufferIndex & 0x00FF);
0033fc  e59f12b8          LDR      r1,|L1.14012|
003400  e5911000          LDR      r1,[r1,#0]  ; Cmd
003404  e5c16006          STRB     r6,[r1,#6]
;;;2359           
;;;2360           cmdTakeAck[5] = Cmd[5];
003408  e59f02ac          LDR      r0,|L1.14012|
00340c  e5900000          LDR      r0,[r0,#0]  ; Cmd
003410  e5d00005          LDRB     r0,[r0,#5]
003414  e59f12a4          LDR      r1,|L1.14016|
003418  e5c10005          STRB     r0,[r1,#5]  ; cmdTakeAck
;;;2361           cmdTakeAck[6] = Cmd[6];
00341c  e59f0298          LDR      r0,|L1.14012|
003420  e5900000          LDR      r0,[r0,#0]  ; Cmd
003424  e5d00006          LDRB     r0,[r0,#6]
003428  e5c10006          STRB     r0,[r1,#6]  ; cmdTakeAck
;;;2362           
;;;2363           TakeAckchecksum = cmdTakeAck[2] +  cmdTakeAck[3] + cmdTakeAck[4] + cmdTakeAck[5] + cmdTakeAck[6] ;
00342c  e2810000          ADD      r0,r1,#0
003430  e5d00002          LDRB     r0,[r0,#2]  ; cmdTakeAck
003434  e5d11003          LDRB     r1,[r1,#3]  ; cmdTakeAck
003438  e0800001          ADD      r0,r0,r1
00343c  e59f127c          LDR      r1,|L1.14016|
003440  e5d11004          LDRB     r1,[r1,#4]  ; cmdTakeAck
003444  e0800001          ADD      r0,r0,r1
003448  e59f1270          LDR      r1,|L1.14016|
00344c  e5d11005          LDRB     r1,[r1,#5]  ; cmdTakeAck
003450  e0800001          ADD      r0,r0,r1
003454  e59f1264          LDR      r1,|L1.14016|
003458  e5d11006          LDRB     r1,[r1,#6]  ; cmdTakeAck
00345c  e0808001          ADD      r8,r0,r1
;;;2364           
;;;2365           cmdTakeAck[7] = (TakeAckchecksum >> 8);
003460  e1a00448          ASR      r0,r8,#8
003464  e59f1254          LDR      r1,|L1.14016|
003468  e5c10007          STRB     r0,[r1,#7]  ; cmdTakeAck
;;;2366           cmdTakeAck[8] = (TakeAckchecksum & 0x00FF);
00346c  e5c18008          STRB     r8,[r1,#8]  ; cmdTakeAck
;;;2367           
;;;2368           TakeAckchecksum = 0 ;
003470  e3a08000          MOV      r8,#0
;;;2369           //fread( Readbuffer, OTA_DATA_ENVELOPE_SIZE, 1, pFile );
;;;2370   
;;;2371           for(int i = 0; i<OTA_DATA_ENVELOPE_SIZE; i++)
003474  e3a00000          MOV      r0,#0
003478  ea000006          B        |L1.13464|
                  |L1.13436|
;;;2372              { 
;;;2373    
;;;2374              
;;;2375               //terninalPrintf("[%02d]:0x%02x\r\n", i,  ReadBuffer[ReadBufferIndex]);
;;;2376               
;;;2377               Cmd[7+i] = ReadBuffer[ReadBufferIndex];
00347c  e7da1009          LDRB     r1,[r10,r9]
003480  e2802007          ADD      r2,r0,#7
003484  e59f3230          LDR      r3,|L1.14012|
003488  e5933000          LDR      r3,[r3,#0]  ; Cmd
00348c  e7c31002          STRB     r1,[r3,r2]
;;;2378               ReadBufferIndex++;
003490  e2899001          ADD      r9,r9,#1
003494  e2800001          ADD      r0,r0,#1              ;2371
                  |L1.13464|
003498  e3500c01          CMP      r0,#0x100             ;2371
00349c  bafffff6          BLT      |L1.13436|
;;;2379               
;;;2380              }
;;;2381   
;;;2382           checksum=0;
0034a0  e3a05000          MOV      r5,#0
;;;2383           for(int k = 2; k< (7+OTA_DATA_ENVELOPE_SIZE); k++)
0034a4  e3a00002          MOV      r0,#2
0034a8  ea000004          B        |L1.13504|
                  |L1.13484|
;;;2384            {
;;;2385               checksum += Cmd[k];
0034ac  e59f1208          LDR      r1,|L1.14012|
0034b0  e5911000          LDR      r1,[r1,#0]  ; Cmd
0034b4  e7d11000          LDRB     r1,[r1,r0]
0034b8  e0855001          ADD      r5,r5,r1
0034bc  e2800001          ADD      r0,r0,#1              ;2383
                  |L1.13504|
0034c0  e59f11fc          LDR      r1,|L1.14020|
0034c4  e1500001          CMP      r0,r1                 ;2383
0034c8  bafffff7          BLT      |L1.13484|
;;;2386            }
;;;2387           
;;;2388           Cmd[CmdLen-4] = (checksum >> 8);
0034cc  e1a00805          LSL      r0,r5,#16
0034d0  e1a00c20          LSR      r0,r0,#24
0034d4  e2441004          SUB      r1,r4,#4
0034d8  e59f21dc          LDR      r2,|L1.14012|
0034dc  e5922000          LDR      r2,[r2,#0]  ; Cmd
0034e0  e7c20001          STRB     r0,[r2,r1]
;;;2389           Cmd[CmdLen-3] = (checksum & 0x00FF);
0034e4  e2441003          SUB      r1,r4,#3
0034e8  e59f21cc          LDR      r2,|L1.14012|
0034ec  e5922000          LDR      r2,[r2,#0]  ; Cmd
0034f0  e7c25001          STRB     r5,[r2,r1]
;;;2390           
;;;2391           Cmd[CmdLen-2] = 0xD3;
0034f4  e3a000d3          MOV      r0,#0xd3
0034f8  e2441002          SUB      r1,r4,#2
0034fc  e59f21b8          LDR      r2,|L1.14012|
003500  e5922000          LDR      r2,[r2,#0]  ; Cmd
003504  e7c20001          STRB     r0,[r2,r1]
;;;2392           Cmd[CmdLen-1] = 0x3D;
003508  e3a0003d          MOV      r0,#0x3d
00350c  e2441001          SUB      r1,r4,#1
003510  e59f21a4          LDR      r2,|L1.14012|
003514  e5922000          LDR      r2,[r2,#0]  ; Cmd
003518  e7c20001          STRB     r0,[r2,r1]
;;;2393           
;;;2394           
;;;2395           
;;;2396           
;;;2397          if( actionCmd(radarIndex,receiveData, sizeof(receiveData), &receiveDataIndex, MAX_WAIT_ACK_TIME, Cmd, CmdLen, cmdTakeAck, sizeof(cmdTakeAck), sizeof(cmdTakeAck)) == FALSE )
00351c  e3a0000b          MOV      r0,#0xb
003520  e59f2198          LDR      r2,|L1.14016|
003524  e58d0010          STR      r0,[sp,#0x10]
003528  e58d200c          STR      r2,[sp,#0xc]
00352c  e58d4008          STR      r4,[sp,#8]
003530  e58d0014          STR      r0,[sp,#0x14]
003534  e59f0180          LDR      r0,|L1.14012|
003538  e5900000          LDR      r0,[r0,#0]  ; Cmd
00353c  e3a01e7d          MOV      r1,#0x7d0
003540  e59f3148          LDR      r3,|L1.13968|
003544  e3a02012          MOV      r2,#0x12
003548  e58d1000          STR      r1,[sp,#0]
00354c  e59f1140          LDR      r1,|L1.13972|
003550  e58d0004          STR      r0,[sp,#4]
003554  e1a0000b          MOV      r0,r11
003558  ebfffffe          BL       actionCmd
00355c  e3500000          CMP      r0,#0
003560  1a000007          BNE      |L1.13700|
;;;2398            {
;;;2399               free(Cmd);
003564  e59f0150          LDR      r0,|L1.14012|
003568  e5900000          LDR      r0,[r0,#0]  ; Cmd
00356c  ebfffffe          BL       free
;;;2400               terninalPrintf("Transmission failed.\r\n");
003570  e28f0e15          ADR      r0,|L1.14024|
003574  ebfffffe          BL       terninalPrintf
;;;2401               //if (j == 3)
;;;2402               return  FALSE ; 
003578  e3a00000          MOV      r0,#0
                  |L1.13692|
00357c  e28dd01c          ADD      sp,sp,#0x1c
;;;2403            }
;;;2404   
;;;2405           free(Cmd);  
;;;2406          
;;;2407        }  
;;;2408        else
;;;2409        {  
;;;2410       
;;;2411           
;;;2412       
;;;2413           CmdLen = 11 + ReadBufferLen;  //RemainDataSize;
;;;2414           
;;;2415           Cmd = malloc((CmdLen)* sizeof(uint8_t));
;;;2416               
;;;2417           Cmd[0]=0x7A;
;;;2418           Cmd[1]=0xA7;
;;;2419           Cmd[2]=(CmdLen >> 8);
;;;2420           Cmd[3]=(CmdLen & 0x00FF);
;;;2421           Cmd[4]=0x06;
;;;2422           Cmd[5]=(BufferIndex >> 8);
;;;2423           Cmd[6]=(BufferIndex & 0x00FF);
;;;2424       
;;;2425       
;;;2426           cmdTakeAck[5] = Cmd[5];
;;;2427           cmdTakeAck[6] = Cmd[6];
;;;2428           
;;;2429           TakeAckchecksum = cmdTakeAck[2] +  cmdTakeAck[3] + cmdTakeAck[4] + cmdTakeAck[5] + cmdTakeAck[6] ;
;;;2430           
;;;2431           cmdTakeAck[7] = (TakeAckchecksum >> 8);
;;;2432           cmdTakeAck[8] = (TakeAckchecksum & 0x00FF);
;;;2433           
;;;2434           TakeAckchecksum = 0 ;
;;;2435           
;;;2436       
;;;2437       
;;;2438           //fread( Readbuffer, RemainDataSize, 1, pFile );
;;;2439   
;;;2440       for(int i = 0; i<ReadBufferLen; i++)
;;;2441        { 
;;;2442    
;;;2443      
;;;2444           //terninalPrintf("[%02d]:0x%02x\r\n", i,  ReadBuffer[ReadBufferIndex]);
;;;2445           Cmd[7+i] = ReadBuffer[ReadBufferIndex];
;;;2446           ReadBufferIndex++;
;;;2447        }
;;;2448           
;;;2449       checksum=0;
;;;2450       for(int k = 2; k< (7+ReadBufferLen); k++)
;;;2451        {
;;;2452           checksum += Cmd[k];
;;;2453        }
;;;2454           
;;;2455       Cmd[CmdLen-4] = (checksum >> 8);
;;;2456       Cmd[CmdLen-3] = (checksum & 0x00FF);
;;;2457           
;;;2458       Cmd[CmdLen-2] = 0xD3;
;;;2459       Cmd[CmdLen-1] = 0x3D;
;;;2460       
;;;2461       if( actionCmd(radarIndex,receiveData, sizeof(receiveData), &receiveDataIndex, MAX_WAIT_ACK_TIME, Cmd, CmdLen, cmdTakeAck, sizeof(cmdTakeAck), sizeof(cmdTakeAck)) ==  FALSE )
;;;2462         {
;;;2463            free(Cmd);
;;;2464            terninalPrintf("Transmission failed.\r\n");
;;;2465            return  FALSE ;  
;;;2466         }
;;;2467           
;;;2468       free(Cmd);  
;;;2469   
;;;2470   
;;;2471       //printf("FW Update Complete.\r\n");
;;;2472       
;;;2473     }
;;;2474       
;;;2475       
;;;2476       
;;;2477       
;;;2478       return TRUE;
;;;2479   }
003580  e8bd8ff0          POP      {r4-r11,pc}
                  |L1.13700|
003584  e59f0130          LDR      r0,|L1.14012|
003588  e5900000          LDR      r0,[r0,#0]            ;2405  ; Cmd
00358c  ebfffffe          BL       free
003590  ea000096          B        |L1.14320|
                  |L1.13716|
003594  e287400b          ADD      r4,r7,#0xb            ;2413
003598  e1a00004          MOV      r0,r4                 ;2415
00359c  ebfffffe          BL       malloc
0035a0  e59f1114          LDR      r1,|L1.14012|
0035a4  e5810000          STR      r0,[r1,#0]            ;2415  ; Cmd
0035a8  e3a0007a          MOV      r0,#0x7a              ;2417
0035ac  e5911000          LDR      r1,[r1,#0]            ;2417  ; Cmd
0035b0  e5c10000          STRB     r0,[r1,#0]            ;2417
0035b4  e3a000a7          MOV      r0,#0xa7              ;2418
0035b8  e59f10fc          LDR      r1,|L1.14012|
0035bc  e5911000          LDR      r1,[r1,#0]            ;2418  ; Cmd
0035c0  e5c10001          STRB     r0,[r1,#1]            ;2418
0035c4  e1a00804          LSL      r0,r4,#16             ;2419
0035c8  e1a00c20          LSR      r0,r0,#24             ;2419
0035cc  e59f10e8          LDR      r1,|L1.14012|
0035d0  e5911000          LDR      r1,[r1,#0]            ;2419  ; Cmd
0035d4  e5c10002          STRB     r0,[r1,#2]            ;2419
0035d8  e59f10dc          LDR      r1,|L1.14012|
0035dc  e5911000          LDR      r1,[r1,#0]            ;2420  ; Cmd
0035e0  e5c14003          STRB     r4,[r1,#3]            ;2420
0035e4  e3a00006          MOV      r0,#6                 ;2421
0035e8  e59f10cc          LDR      r1,|L1.14012|
0035ec  e5911000          LDR      r1,[r1,#0]            ;2421  ; Cmd
0035f0  e5c10004          STRB     r0,[r1,#4]            ;2421
0035f4  e1a00806          LSL      r0,r6,#16             ;2422
0035f8  e1a00c20          LSR      r0,r0,#24             ;2422
0035fc  e59f10b8          LDR      r1,|L1.14012|
003600  e5911000          LDR      r1,[r1,#0]            ;2422  ; Cmd
003604  e5c10005          STRB     r0,[r1,#5]            ;2422
003608  e59f10ac          LDR      r1,|L1.14012|
00360c  e5911000          LDR      r1,[r1,#0]            ;2423  ; Cmd
003610  e5c16006          STRB     r6,[r1,#6]            ;2423
003614  e59f00a0          LDR      r0,|L1.14012|
003618  e5900000          LDR      r0,[r0,#0]            ;2426  ; Cmd
00361c  e5d00005          LDRB     r0,[r0,#5]            ;2426
003620  e59f1098          LDR      r1,|L1.14016|
003624  e5c10005          STRB     r0,[r1,#5]            ;2426  ; cmdTakeAck
003628  e59f008c          LDR      r0,|L1.14012|
00362c  e5900000          LDR      r0,[r0,#0]            ;2427  ; Cmd
003630  e5d00006          LDRB     r0,[r0,#6]            ;2427
003634  e5c10006          STRB     r0,[r1,#6]            ;2427  ; cmdTakeAck
003638  e2810000          ADD      r0,r1,#0              ;2429
00363c  e5d00002          LDRB     r0,[r0,#2]            ;2429  ; cmdTakeAck
003640  e5d11003          LDRB     r1,[r1,#3]            ;2429  ; cmdTakeAck
003644  e0800001          ADD      r0,r0,r1              ;2429
003648  e59f1070          LDR      r1,|L1.14016|
00364c  e5d11004          LDRB     r1,[r1,#4]            ;2429  ; cmdTakeAck
003650  e0800001          ADD      r0,r0,r1              ;2429
003654  e59f1064          LDR      r1,|L1.14016|
003658  e5d11005          LDRB     r1,[r1,#5]            ;2429  ; cmdTakeAck
00365c  e0800001          ADD      r0,r0,r1              ;2429
003660  e59f1058          LDR      r1,|L1.14016|
003664  e5d11006          LDRB     r1,[r1,#6]            ;2429  ; cmdTakeAck
003668  e0808001          ADD      r8,r0,r1              ;2429
00366c  e1a00448          ASR      r0,r8,#8              ;2431
003670  e59f1048          LDR      r1,|L1.14016|
003674  e5c10007          STRB     r0,[r1,#7]            ;2431  ; cmdTakeAck
003678  e5c18008          STRB     r8,[r1,#8]            ;2432  ; cmdTakeAck
00367c  e3a08000          MOV      r8,#0                 ;2434
003680  e3a00000          MOV      r0,#0                 ;2440
003684  ea00001c          B        |L1.14076|
                  |L1.13960|
                          DCD      firstCmd
                  |L1.13964|
                          DCD      firstcmdTakeAck
                  |L1.13968|
                          DCD      receiveDataIndex
                  |L1.13972|
                          DCD      receiveData
                  |L1.13976|
003698  46697273          DCB      "FirstOTA Transmission failed.\r\n",0
00369c  744f5441
0036a0  20547261
0036a4  6e736d69
0036a8  7373696f
0036ac  6e206661
0036b0  696c6564
0036b4  2e0d0a00
                  |L1.14008|
                          DCD      0x0000010b
                  |L1.14012|
                          DCD      ||Cmd||
                  |L1.14016|
                          DCD      cmdTakeAck
                  |L1.14020|
                          DCD      0x00000107
                  |L1.14024|
0036c8  5472616e          DCB      "Transmission failed.\r\n",0
0036cc  736d6973
0036d0  73696f6e
0036d4  20666169
0036d8  6c65642e
0036dc  0d0a00  
0036df  00                DCB      0
                  |L1.14048|
0036e0  e7da1009          LDRB     r1,[r10,r9]           ;2445
0036e4  e2802007          ADD      r2,r0,#7              ;2445
0036e8  e51f3034          LDR      r3,|L1.14012|
0036ec  e5933000          LDR      r3,[r3,#0]            ;2445  ; Cmd
0036f0  e7c31002          STRB     r1,[r3,r2]            ;2445
0036f4  e2899001          ADD      r9,r9,#1              ;2446
0036f8  e2800001          ADD      r0,r0,#1              ;2440
                  |L1.14076|
0036fc  e1500007          CMP      r0,r7                 ;2440
003700  bafffff6          BLT      |L1.14048|
003704  e3a05000          MOV      r5,#0                 ;2449
003708  e3a00002          MOV      r0,#2                 ;2450
00370c  ea000004          B        |L1.14116|
                  |L1.14096|
003710  e51f105c          LDR      r1,|L1.14012|
003714  e5911000          LDR      r1,[r1,#0]            ;2452  ; Cmd
003718  e7d11000          LDRB     r1,[r1,r0]            ;2452
00371c  e0855001          ADD      r5,r5,r1              ;2452
003720  e2800001          ADD      r0,r0,#1              ;2450
                  |L1.14116|
003724  e2871007          ADD      r1,r7,#7              ;2450
003728  e1510000          CMP      r1,r0                 ;2450
00372c  cafffff7          BGT      |L1.14096|
003730  e1a00805          LSL      r0,r5,#16             ;2455
003734  e1a00c20          LSR      r0,r0,#24             ;2455
003738  e2441004          SUB      r1,r4,#4              ;2455
00373c  e51f2088          LDR      r2,|L1.14012|
003740  e5922000          LDR      r2,[r2,#0]            ;2455  ; Cmd
003744  e7c20001          STRB     r0,[r2,r1]            ;2455
003748  e2441003          SUB      r1,r4,#3              ;2456
00374c  e51f2098          LDR      r2,|L1.14012|
003750  e5922000          LDR      r2,[r2,#0]            ;2456  ; Cmd
003754  e7c25001          STRB     r5,[r2,r1]            ;2456
003758  e3a000d3          MOV      r0,#0xd3              ;2458
00375c  e2441002          SUB      r1,r4,#2              ;2458
003760  e51f20ac          LDR      r2,|L1.14012|
003764  e5922000          LDR      r2,[r2,#0]            ;2458  ; Cmd
003768  e7c20001          STRB     r0,[r2,r1]            ;2458
00376c  e3a0003d          MOV      r0,#0x3d              ;2459
003770  e2441001          SUB      r1,r4,#1              ;2459
003774  e51f20c0          LDR      r2,|L1.14012|
003778  e5922000          LDR      r2,[r2,#0]            ;2459  ; Cmd
00377c  e7c20001          STRB     r0,[r2,r1]            ;2459
003780  e3a0000b          MOV      r0,#0xb               ;2461
003784  e51f20cc          LDR      r2,|L1.14016|
003788  e58d0010          STR      r0,[sp,#0x10]         ;2461
00378c  e58d200c          STR      r2,[sp,#0xc]          ;2461
003790  e58d4008          STR      r4,[sp,#8]            ;2461
003794  e58d0014          STR      r0,[sp,#0x14]         ;2461
003798  e51f00e4          LDR      r0,|L1.14012|
00379c  e5900000          LDR      r0,[r0,#0]            ;2461  ; Cmd
0037a0  e3a01e7d          MOV      r1,#0x7d0             ;2461
0037a4  e51f311c          LDR      r3,|L1.13968|
0037a8  e3a02012          MOV      r2,#0x12              ;2461
0037ac  e58d1000          STR      r1,[sp,#0]            ;2461
0037b0  e51f1124          LDR      r1,|L1.13972|
0037b4  e58d0004          STR      r0,[sp,#4]            ;2461
0037b8  e1a0000b          MOV      r0,r11                ;2461
0037bc  ebfffffe          BL       actionCmd
0037c0  e3500000          CMP      r0,#0                 ;2461
0037c4  1a000006          BNE      |L1.14308|
0037c8  e51f0114          LDR      r0,|L1.14012|
0037cc  e5900000          LDR      r0,[r0,#0]            ;2463  ; Cmd
0037d0  ebfffffe          BL       free
0037d4  e24f0f45          ADR      r0,|L1.14024|
0037d8  ebfffffe          BL       terninalPrintf
0037dc  e3a00000          MOV      r0,#0                 ;2465
0037e0  eaffff65          B        |L1.13692|
                  |L1.14308|
0037e4  e51f0130          LDR      r0,|L1.14012|
0037e8  e5900000          LDR      r0,[r0,#0]            ;2468  ; Cmd
0037ec  ebfffffe          BL       free
                  |L1.14320|
0037f0  e3a00001          MOV      r0,#1                 ;2478
0037f4  eaffff60          B        |L1.13692|
;;;2480   
                          ENDP

                  RadarRecentDistValue PROC
;;;2481   
;;;2482   BOOL RadarRecentDistValue(int radarIndex, uint16_t* lidarDist,  uint16_t* radarDist)
0037f8  e1a03000          MOV      r3,r0
;;;2483   {
;;;2484       
;;;2485       if(NewValueFlag[radarIndex] == TRUE)
0037fc  e59f0044          LDR      r0,|L1.14408|
003800  e7d00003          LDRB     r0,[r0,r3]
003804  e3500001          CMP      r0,#1
003808  1a00000c          BNE      |L1.14400|
;;;2486       {
;;;2487           *lidarDist = lidarRecentDist[radarIndex] ;
00380c  e59f0038          LDR      r0,|L1.14412|
003810  e0800083          ADD      r0,r0,r3,LSL #1
003814  e1d000b0          LDRH     r0,[r0,#0]
003818  e1c100b0          STRH     r0,[r1,#0]
;;;2488           *radarDist = ridarRecentDist[radarIndex] ;
00381c  e59f002c          LDR      r0,|L1.14416|
003820  e0800083          ADD      r0,r0,r3,LSL #1
003824  e1d000b0          LDRH     r0,[r0,#0]
003828  e1c200b0          STRH     r0,[r2,#0]
;;;2489           NewValueFlag[radarIndex] = FALSE;
00382c  e3a00000          MOV      r0,#0
003830  e59fc010          LDR      r12,|L1.14408|
003834  e7cc0003          STRB     r0,[r12,r3]
;;;2490           return TRUE;
003838  e3a00001          MOV      r0,#1
                  |L1.14396|
;;;2491       }
;;;2492       return FALSE;
;;;2493       
;;;2494   }
00383c  e12fff1e          BX       lr
                  |L1.14400|
003840  e3a00000          MOV      r0,#0                 ;2492
003844  eafffffc          B        |L1.14396|
;;;2495   
                          ENDP

                  |L1.14408|
                          DCD      NewValueFlag
                  |L1.14412|
                          DCD      lidarRecentDist
                  |L1.14416|
                          DCD      ridarRecentDist

                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  radarBuffer
                          %        2048
                  RingFifo
                          %        2056
                  targetPacket
                          %        48
                  targetCalibratePacket
                          %        20
                  targetVersionPacket
                          %        28
                  checkStableDistData
                          %        120
                  checkStablePowerData
                          %        120
                  logStr
                          %        1024
                  checkStr
                          %        2048
                  receiveData
                          %        18
                  receiveDataTmp
                          %        1024
                  errorMsgBuffer
                          %        4096

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

                          DCD      ||.conststring||
                          DCD      ||.conststring||+0x6
000008  205b494e          DCB      0x20,0x5b,0x49,0x4e
00000c  464f5d20          DCB      0x46,0x4f,0x5d,0x20
000010  2d2d2063          DCB      0x2d,0x2d,0x20,0x63
000014  6865636b          DCB      0x68,0x65,0x63,0x6b
000018  4c6f7750          DCB      0x4c,0x6f,0x77,0x50
00001c  6f776572          DCB      0x6f,0x77,0x65,0x72
000020  436f756e          DCB      0x43,0x6f,0x75,0x6e
000024  74657246          DCB      0x74,0x65,0x72,0x46
000028  756e202d          DCB      0x75,0x6e,0x20,0x2d
00002c  3e205b4f          DCB      0x3e,0x20,0x5b,0x4f
000030  43435550          DCB      0x43,0x43,0x55,0x50
000034  49454420          DCB      0x49,0x45,0x44,0x20
000038  434f554e          DCB      0x43,0x4f,0x55,0x4e
00003c  5445523a          DCB      0x54,0x45,0x52,0x3a
000040  52414441          DCB      0x52,0x41,0x44,0x41
000044  52202d25          DCB      0x52,0x20,0x2d,0x25
000048  642d3e3e          DCB      0x64,0x2d,0x3e,0x3e
00004c  203c2025          DCB      0x20,0x3c,0x20,0x25
000050  64207673          DCB      0x64,0x20,0x76,0x73
000054  2025643e          DCB      0x20,0x25,0x64,0x3e
000058  20202d2d          DCB      0x20,0x20,0x2d,0x2d
00005c  0d0a0000          DCB      0x0d,0x0a,0x00,0x00
000060  5b455252          DCB      0x5b,0x45,0x52,0x52
000064  4f523a52          DCB      0x4f,0x52,0x3a,0x52
000068  41444152          DCB      0x41,0x44,0x41,0x52
00006c  5d205b25          DCB      0x5d,0x20,0x5b,0x25
000070  645d2020          DCB      0x64,0x5d,0x20,0x20
000074  2020636d          DCB      0x20,0x20,0x63,0x6d
000078  64206e6f          DCB      0x64,0x20,0x6e,0x6f
00007c  74206d61          DCB      0x74,0x20,0x6d,0x61
000080  7463682c          DCB      0x74,0x63,0x68,0x2c
000084  20686561          DCB      0x20,0x68,0x65,0x61
000088  64657269          DCB      0x64,0x65,0x72,0x69
00008c  6e646578          DCB      0x6e,0x64,0x65,0x78
000090  203d2025          DCB      0x20,0x3d,0x20,0x25
000094  642c7052          DCB      0x64,0x2c,0x70,0x52
000098  61646172          DCB      0x61,0x64,0x61,0x72
00009c  42756666          DCB      0x42,0x75,0x66,0x66
0000a0  65725b68          DCB      0x65,0x72,0x5b,0x68
0000a4  65616465          DCB      0x65,0x61,0x64,0x65
0000a8  72696e64          DCB      0x72,0x69,0x6e,0x64
0000ac  6578202b          DCB      0x65,0x78,0x20,0x2b
0000b0  20345d20          DCB      0x20,0x34,0x5d,0x20
0000b4  3d256420          DCB      0x3d,0x25,0x64,0x20
0000b8  2d2d0d0a          DCB      0x2d,0x2d,0x0d,0x0a
0000bc  00000000          DCB      0x00,0x00,0x00,0x00
0000c0  0d0a202d          DCB      0x0d,0x0a,0x20,0x2d
0000c4  2d2d205b          DCB      0x2d,0x2d,0x20,0x5b
0000c8  696e666f          DCB      0x69,0x6e,0x66,0x6f
0000cc  726d6174          DCB      0x72,0x6d,0x61,0x74
0000d0  696f6e3a          DCB      0x69,0x6f,0x6e,0x3a
0000d4  52414441          DCB      0x52,0x41,0x44,0x41
0000d8  525d2052          DCB      0x52,0x5d,0x20,0x52
0000dc  61646172          DCB      0x61,0x64,0x61,0x72
0000e0  43686563          DCB      0x43,0x68,0x65,0x63
0000e4  6b466561          DCB      0x6b,0x46,0x65,0x61
0000e8  74757265          DCB      0x74,0x75,0x72,0x65
0000ec  21215b25          DCB      0x21,0x21,0x5b,0x25
0000f0  645d2028          DCB      0x64,0x5d,0x20,0x28
0000f4  43686563          DCB      0x43,0x68,0x65,0x63
0000f8  6b446973          DCB      0x6b,0x44,0x69,0x73
0000fc  743a2825          DCB      0x74,0x3a,0x28,0x25
000100  642c2025          DCB      0x64,0x2c,0x20,0x25
000104  642c2025          DCB      0x64,0x2c,0x20,0x25
000108  64292c20          DCB      0x64,0x29,0x2c,0x20
00010c  4d696e50          DCB      0x4d,0x69,0x6e,0x50
000110  6f776572          DCB      0x6f,0x77,0x65,0x72
000114  3a25642c          DCB      0x3a,0x25,0x64,0x2c
000118  20537461          DCB      0x20,0x53,0x74,0x61
00011c  626c6552          DCB      0x62,0x6c,0x65,0x52
000120  616e6765          DCB      0x61,0x6e,0x67,0x65
000124  3a256420          DCB      0x3a,0x25,0x64,0x20
000128  2c537461          DCB      0x2c,0x53,0x74,0x61
00012c  626c6543          DCB      0x62,0x6c,0x65,0x43
000130  6f756e74          DCB      0x6f,0x75,0x6e,0x74
000134  65723a25          DCB      0x65,0x72,0x3a,0x25
000138  642c2056          DCB      0x64,0x2c,0x20,0x56
00013c  61637575          DCB      0x61,0x63,0x75,0x75
000140  6d436f75          DCB      0x6d,0x43,0x6f,0x75
000144  6e746572          DCB      0x6e,0x74,0x65,0x72
000148  3a25642c          DCB      0x3a,0x25,0x64,0x2c
00014c  20636f75          DCB      0x20,0x63,0x6f,0x75
000150  6e746572          DCB      0x6e,0x74,0x65,0x72
000154  3a256429          DCB      0x3a,0x25,0x64,0x29
000158  20454e54          DCB      0x20,0x45,0x4e,0x54
00015c  45522020          DCB      0x45,0x52,0x20,0x20
000160  2d2d2d2d          DCB      0x2d,0x2d,0x2d,0x2d
000164  0d0a0000          DCB      0x0d,0x0a,0x00,0x00
000168  0a0d202d          DCB      0x0a,0x0d,0x20,0x2d
00016c  2d2d2d2d          DCB      0x2d,0x2d,0x2d,0x2d
000170  2d2d2d2d          DCB      0x2d,0x2d,0x2d,0x2d
000174  2d203e5b          DCB      0x2d,0x20,0x3e,0x5b
000178  494e464f          DCB      0x49,0x4e,0x46,0x4f
00017c  3a524144          DCB      0x3a,0x52,0x41,0x44
000180  41525d2d          DCB      0x41,0x52,0x5d,0x2d
000184  25732d20          DCB      0x25,0x73,0x2d,0x20
000188  57414954          DCB      0x57,0x41,0x49,0x54
00018c  2e2e2e20          DCB      0x2e,0x2e,0x2e,0x20
000190  52414441          DCB      0x52,0x41,0x44,0x41
000194  525f5449          DCB      0x52,0x5f,0x54,0x49
000198  4d454f55          DCB      0x4d,0x45,0x4f,0x55
00019c  545f5449          DCB      0x54,0x5f,0x54,0x49
0001a0  4d45203d          DCB      0x4d,0x45,0x20,0x3d
0001a4  20256420          DCB      0x20,0x25,0x64,0x20
0001a8  2d2d0d0a          DCB      0x2d,0x2d,0x0d,0x0a
0001ac  00000000          DCB      0x00,0x00,0x00,0x00
0001b0  0a0d205b          DCB      0x0a,0x0d,0x20,0x5b
0001b4  4552524f          DCB      0x45,0x52,0x52,0x4f
0001b8  523a5241          DCB      0x52,0x3a,0x52,0x41
0001bc  4441525d          DCB      0x44,0x41,0x52,0x5d
0001c0  2d25732d          DCB      0x2d,0x25,0x73,0x2d
0001c4  20202020          DCB      0x20,0x20,0x20,0x20
0001c8  54494d45          DCB      0x54,0x49,0x4d,0x45
0001cc  4f555428          DCB      0x4f,0x55,0x54,0x28
0001d0  25642c20          DCB      0x25,0x64,0x2c,0x20
0001d4  2564292c          DCB      0x25,0x64,0x29,0x2c
0001d8  20524144          DCB      0x20,0x52,0x41,0x44
0001dc  41525f54          DCB      0x41,0x52,0x5f,0x54
0001e0  494d454f          DCB      0x49,0x4d,0x45,0x4f
0001e4  55545f54          DCB      0x55,0x54,0x5f,0x54
0001e8  494d4520          DCB      0x49,0x4d,0x45,0x20
0001ec  3d202564          DCB      0x3d,0x20,0x25,0x64
0001f0  202d2d0d          DCB      0x20,0x2d,0x2d,0x0d
0001f4  0a000000          DCB      0x0a,0x00,0x00,0x00
0001f8  0a0d205b          DCB      0x0a,0x0d,0x20,0x5b
0001fc  4552524f          DCB      0x45,0x52,0x52,0x4f
000200  523a5241          DCB      0x52,0x3a,0x52,0x41
000204  4441525d          DCB      0x44,0x41,0x52,0x5d
000208  2d25732d          DCB      0x2d,0x25,0x73,0x2d
00020c  20202020          DCB      0x20,0x20,0x20,0x20
000210  54494d45          DCB      0x54,0x49,0x4d,0x45
000214  4f555420          DCB      0x4f,0x55,0x54,0x20
000218  32282564          DCB      0x32,0x28,0x25,0x64
00021c  2c202564          DCB      0x2c,0x20,0x25,0x64
000220  292c2052          DCB      0x29,0x2c,0x20,0x52
000224  41444152          DCB      0x41,0x44,0x41,0x52
000228  5f54494d          DCB      0x5f,0x54,0x49,0x4d
00022c  454f5554          DCB      0x45,0x4f,0x55,0x54
000230  5f54494d          DCB      0x5f,0x54,0x49,0x4d
000234  45203d20          DCB      0x45,0x20,0x3d,0x20
000238  2564202d          DCB      0x25,0x64,0x20,0x2d
00023c  2d0d0a00          DCB      0x2d,0x0d,0x0a,0x00
000240  0d0a0d0a          DCB      0x0d,0x0a,0x0d,0x0a
000244  20202020          DCB      0x20,0x20,0x20,0x20
000248  205b2121          DCB      0x20,0x5b,0x21,0x21
00024c  2120494e          DCB      0x21,0x20,0x49,0x4e
000250  464f4d41          DCB      0x46,0x4f,0x4d,0x41
000254  54494f4e          DCB      0x54,0x49,0x4f,0x4e
000258  20212121          DCB      0x20,0x21,0x21,0x21
00025c  5d202d2d          DCB      0x5d,0x20,0x2d,0x2d
000260  2d3e205b          DCB      0x2d,0x3e,0x20,0x5b
000264  52414441          DCB      0x52,0x41,0x44,0x41
000268  52204341          DCB      0x52,0x20,0x43,0x41
00026c  4c494252          DCB      0x4c,0x49,0x42,0x52
000270  4154494f          DCB      0x41,0x54,0x49,0x4f
000274  4e202d25          DCB      0x4e,0x20,0x2d,0x25
000278  732d3e3e          DCB      0x73,0x2d,0x3e,0x3e
00027c  203c2076          DCB      0x20,0x3c,0x20,0x76
000280  616c7565          DCB      0x61,0x6c,0x75,0x65
000284  203d2025          DCB      0x20,0x3d,0x20,0x25
000288  64203e20          DCB      0x64,0x20,0x3e,0x20
00028c  202d2d20          DCB      0x20,0x2d,0x2d,0x20
000290  5b212121          DCB      0x5b,0x21,0x21,0x21
000294  20494e46          DCB      0x20,0x49,0x4e,0x46
000298  4f4d4154          DCB      0x4f,0x4d,0x41,0x54
00029c  494f4e20          DCB      0x49,0x4f,0x4e,0x20
0002a0  2121215d          DCB      0x21,0x21,0x21,0x5d
0002a4  0d0a0d0a          DCB      0x0d,0x0a,0x0d,0x0a
0002a8  00000000          DCB      0x00,0x00,0x00,0x00
0002ac  2d2d207b          DCB      0x2d,0x2d,0x20,0x7b
0002b0  494e464f          DCB      0x49,0x4e,0x46,0x4f
0002b4  524d4154          DCB      0x52,0x4d,0x41,0x54
0002b8  494f4e7d          DCB      0x49,0x4f,0x4e,0x7d
0002bc  2020207e          DCB      0x20,0x20,0x20,0x7e
0002c0  7e7e7e7e          DCB      0x7e,0x7e,0x7e,0x7e
0002c4  205b5741          DCB      0x20,0x5b,0x57,0x41
0002c8  524e494e          DCB      0x52,0x4e,0x49,0x4e
0002cc  473a5241          DCB      0x47,0x3a,0x52,0x41
0002d0  4441525d          DCB      0x44,0x41,0x52,0x5d
0002d4  4f25734f          DCB      0x4f,0x25,0x73,0x4f
0002d8  5b25645d          DCB      0x5b,0x25,0x64,0x5d
0002dc  20204368          DCB      0x20,0x20,0x43,0x68
0002e0  616e6765          DCB      0x61,0x6e,0x67,0x65
0002e4  20746f20          DCB      0x20,0x74,0x6f,0x20
0002e8  25732020          DCB      0x25,0x73,0x20,0x20
0002ec  28696e69          DCB      0x28,0x69,0x6e,0x69
0002f0  7429204f          DCB      0x74,0x29,0x20,0x4f
0002f4  4f0d0a00          DCB      0x4f,0x0d,0x0a,0x00
0002f8  2d2d207b          DCB      0x2d,0x2d,0x20,0x7b
0002fc  494e464f          DCB      0x49,0x4e,0x46,0x4f
000300  524d4154          DCB      0x52,0x4d,0x41,0x54
000304  494f4e7d          DCB      0x49,0x4f,0x4e,0x7d
000308  2020207e          DCB      0x20,0x20,0x20,0x7e
00030c  7e7e7e7e          DCB      0x7e,0x7e,0x7e,0x7e
000310  205b5741          DCB      0x20,0x5b,0x57,0x41
000314  524e494e          DCB      0x52,0x4e,0x49,0x4e
000318  473a5241          DCB      0x47,0x3a,0x52,0x41
00031c  4441525d          DCB      0x44,0x41,0x52,0x5d
000320  4f25734f          DCB      0x4f,0x25,0x73,0x4f
000324  5b25645d          DCB      0x5b,0x25,0x64,0x5d
000328  20204368          DCB      0x20,0x20,0x43,0x68
00032c  616e6765          DCB      0x61,0x6e,0x67,0x65
000330  20746f20          DCB      0x20,0x74,0x6f,0x20
000334  25732020          DCB      0x25,0x73,0x20,0x20
000338  4f4f0d0a          DCB      0x4f,0x4f,0x0d,0x0a
00033c  00000000          DCB      0x00,0x00,0x00,0x00
000340  2d2d207b          DCB      0x2d,0x2d,0x20,0x7b
000344  52414441          DCB      0x52,0x41,0x44,0x41
000348  5220636f          DCB      0x52,0x20,0x63,0x6f
00034c  756e7465          DCB      0x75,0x6e,0x74,0x65
000350  724e756d          DCB      0x72,0x4e,0x75,0x6d
000354  6265723a          DCB      0x62,0x65,0x72,0x3a
000358  2025642c          DCB      0x20,0x25,0x64,0x2c
00035c  2025642c          DCB      0x20,0x25,0x64,0x2c
000360  206c6173          DCB      0x20,0x6c,0x61,0x73
000364  74206469          DCB      0x74,0x20,0x64,0x69
000368  73743a28          DCB      0x73,0x74,0x3a,0x28
00036c  25642063          DCB      0x25,0x64,0x20,0x63
000370  6d2c2025          DCB      0x6d,0x2c,0x20,0x25
000374  6420636d          DCB      0x64,0x20,0x63,0x6d
000378  292c206c          DCB      0x29,0x2c,0x20,0x6c
00037c  61737420          DCB      0x61,0x73,0x74,0x20
000380  706f7765          DCB      0x70,0x6f,0x77,0x65
000384  723a2825          DCB      0x72,0x3a,0x28,0x25
000388  642c2025          DCB      0x64,0x2c,0x20,0x25
00038c  64292c20          DCB      0x64,0x29,0x2c,0x20
000390  74696d65          DCB      0x74,0x69,0x6d,0x65
000394  6f757443          DCB      0x6f,0x75,0x74,0x43
000398  6f756e74          DCB      0x6f,0x75,0x6e,0x74
00039c  65723a28          DCB      0x65,0x72,0x3a,0x28
0003a0  5b25642c          DCB      0x5b,0x25,0x64,0x2c
0003a4  2025645d          DCB      0x20,0x25,0x64,0x5d
0003a8  205b2564          DCB      0x20,0x5b,0x25,0x64
0003ac  2c202564          DCB      0x2c,0x20,0x25,0x64
0003b0  5d205b25          DCB      0x5d,0x20,0x5b,0x25
0003b4  642c2025          DCB      0x64,0x2c,0x20,0x25
0003b8  645d292c          DCB      0x64,0x5d,0x29,0x2c
0003bc  207a6572          DCB      0x20,0x7a,0x65,0x72
0003c0  6f436f75          DCB      0x6f,0x43,0x6f,0x75
0003c4  6e746572          DCB      0x6e,0x74,0x65,0x72
0003c8  3a5b2564          DCB      0x3a,0x5b,0x25,0x64
0003cc  2c202564          DCB      0x2c,0x20,0x25,0x64
0003d0  5d2c2043          DCB      0x5d,0x2c,0x20,0x43
0003d4  6865636b          DCB      0x68,0x65,0x63,0x6b
0003d8  44697374          DCB      0x44,0x69,0x73,0x74
0003dc  3a282564          DCB      0x3a,0x28,0x25,0x64
0003e0  2c202564          DCB      0x2c,0x20,0x25,0x64
0003e4  2c202564          DCB      0x2c,0x20,0x25,0x64
0003e8  292c2028          DCB      0x29,0x2c,0x20,0x28
0003ec  25642c20          DCB      0x25,0x64,0x2c,0x20
0003f0  25642c20          DCB      0x25,0x64,0x2c,0x20
0003f4  2564292c          DCB      0x25,0x64,0x29,0x2c
0003f8  204d696e          DCB      0x20,0x4d,0x69,0x6e
0003fc  506f7765          DCB      0x50,0x6f,0x77,0x65
000400  723a2564          DCB      0x72,0x3a,0x25,0x64
000404  2c202564          DCB      0x2c,0x20,0x25,0x64
000408  2c205374          DCB      0x2c,0x20,0x53,0x74
00040c  61626c65          DCB      0x61,0x62,0x6c,0x65
000410  52616e67          DCB      0x52,0x61,0x6e,0x67
000414  653a2564          DCB      0x65,0x3a,0x25,0x64
000418  2c202564          DCB      0x2c,0x20,0x25,0x64
00041c  202c436f          DCB      0x20,0x2c,0x43,0x6f
000420  6e666972          DCB      0x6e,0x66,0x69,0x72
000424  6d4e756d          DCB      0x6d,0x4e,0x75,0x6d
000428  3a282564          DCB      0x3a,0x28,0x25,0x64
00042c  2c202564          DCB      0x2c,0x20,0x25,0x64
000430  292c2028          DCB      0x29,0x2c,0x20,0x28
000434  25642c20          DCB      0x25,0x64,0x2c,0x20
000438  2564297d          DCB      0x25,0x64,0x29,0x7d
00043c  202d2d0d          DCB      0x20,0x2d,0x2d,0x0d
000440  0a000000          DCB      0x0a,0x00,0x00,0x00
000444  20203d53          DCB      0x20,0x20,0x3d,0x53
000448  45543d20          DCB      0x45,0x54,0x3d,0x20
00044c  5b526164          DCB      0x5b,0x52,0x61,0x64
000450  61725365          DCB      0x61,0x72,0x53,0x65
000454  74436865          DCB      0x74,0x43,0x68,0x65
000458  636b4469          DCB      0x63,0x6b,0x44,0x69
00045c  73744578          DCB      0x73,0x74,0x45,0x78
000460  63656564          DCB      0x63,0x65,0x65,0x64
000464  4d61784d          DCB      0x4d,0x61,0x78,0x4d
000468  696e5b25          DCB      0x69,0x6e,0x5b,0x25
00046c  645d5d3e          DCB      0x64,0x5d,0x5d,0x3e
000470  20286578          DCB      0x20,0x28,0x65,0x78
000474  63656564          DCB      0x63,0x65,0x65,0x64
000478  3a25642c          DCB      0x3a,0x25,0x64,0x2c
00047c  206d6178          DCB      0x20,0x6d,0x61,0x78
000480  3a25642c          DCB      0x3a,0x25,0x64,0x2c
000484  206d696e          DCB      0x20,0x6d,0x69,0x6e
000488  3a256429          DCB      0x3a,0x25,0x64,0x29
00048c  202d2d0d          DCB      0x20,0x2d,0x2d,0x0d
000490  0a000000          DCB      0x0a,0x00,0x00,0x00
000494  20203d53          DCB      0x20,0x20,0x3d,0x53
000498  45543d20          DCB      0x45,0x54,0x3d,0x20
00049c  5b526164          DCB      0x5b,0x52,0x61,0x64
0004a0  61725365          DCB      0x61,0x72,0x53,0x65
0004a4  744c6f77          DCB      0x74,0x4c,0x6f,0x77
0004a8  506f7765          DCB      0x50,0x6f,0x77,0x65
0004ac  72537461          DCB      0x72,0x53,0x74,0x61
0004b0  626c6543          DCB      0x62,0x6c,0x65,0x43
0004b4  6f756e74          DCB      0x6f,0x75,0x6e,0x74
0004b8  65725b25          DCB      0x65,0x72,0x5b,0x25
0004bc  645d5d3e          DCB      0x64,0x5d,0x5d,0x3e
0004c0  20286368          DCB      0x20,0x28,0x63,0x68
0004c4  65636b43          DCB      0x65,0x63,0x6b,0x43
0004c8  6f756e74          DCB      0x6f,0x75,0x6e,0x74
0004cc  65723a25          DCB      0x65,0x72,0x3a,0x25
0004d0  6429202d          DCB      0x64,0x29,0x20,0x2d
0004d4  2d0d0a00          DCB      0x2d,0x0d,0x0a,0x00

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=0

000000  205b4c5d          DCB      " [L] ",0
000004  2000    
000006  205b525d          DCB      " [R] ",0
00000a  2000    

                          AREA ||.data||, DATA, ALIGN=2

                  pUartInterface
                          DCD      0x00000000
                          DCD      0x00000000
                  uartInterface
                          DCD      0x00000002
                          DCD      0x00000004
                  prevFeature
                          DCD      0x00000005
                          DCD      0x00000005
                  counterNumber
                          DCD      0x00000000
                          DCD      0x00000000
                  checkExceedDist
                          DCD      0x00000190
                          DCD      0x00000190
                  checkMaxDist
                          DCD      0x0000012c
                          DCD      0x0000012c
                  checkMinDist
                          DCD      0x0000001e
                          DCD      0x0000001e
                  checkMinPower
                          DCD      0x0000002d
                          DCD      0x0000002d
                  checkStableDistRange
                          DCD      0x00000005
                          DCD      0x00000005
                  checkStablePowerRange
                          DCD      0x00000005
                          DCD      0x00000005
                  checkStableCounter
                          DCD      0x00000003
                          DCD      0x00000003
                  checkLowPowerStableCounter
                          DCD      0x00000002
                          DCD      0x00000002
                  checkVacuumCounter
                          DCD      0x00000002
                          DCD      0x00000002
                  lastDist
                          DCD      0x00000000
                          DCD      0x00000000
                  lastPower
                          DCD      0x00000000
                          DCD      0x00000000
                  timeoutCounter
                          DCD      0x00000000
                          DCD      0x00000000
                  timeoutCounter2
                          DCD      0x00000000
                          DCD      0x00000000
                  timeoutCounter3
                          DCD      0x00000000
                          DCD      0x00000000
                  zeroCounter
                          DCD      0x00000000
                          DCD      0x00000000
                  vacuumCounter
                          DCD      0x00000000
                          DCD      0x00000000
                  occupiedCounter
                          DCD      0x00000000
                          DCD      0x00000000
                  lowPowerCounter
                          DCD      0x00000000
                          DCD      0x00000000
                  stableFlag
0000b0  0000              DCB      0x00,0x00
                  powerStatus
0000b2  0000              DCB      0x00,0x00
                  calibrationFlag
0000b4  0000              DCB      0x00,0x00
                  queryversionFlag
0000b6  0000              DCB      0x00,0x00
                  lidarRecentDist
0000b8  00000000          DCW      0x0000,0x0000
                  ridarRecentDist
0000bc  00000000          DCW      0x0000,0x0000
                  NewValueFlag
0000c0  00000000          DCB      0x00,0x00,0x00,0x00
                  lidarCalibrateStatusFlag
                          DCD      0x00000000
                          DCD      0x00000000
                  lidarCalibrateDistValue
                          DCD      0x00000000
                          DCD      0x00000000
                  waitTimeoutTick
                          DCD      0x000001f4
                          DCD      0x000001f4
                  freqCmd
0000dc  5a060303          DCB      0x5a,0x06,0x03,0x03
0000e0  0066              DCB      0x00,0x66
                  outputOnCmd
0000e2  7aa7              DCB      0x7a,0xa7
0000e4  00090200          DCB      0x00,0x09,0x02,0x00
0000e8  0bd33d            DCB      0x0b,0xd3,0x3d
                  calibrationCmd
0000eb  7a                DCB      0x7a
0000ec  a7000b07          DCB      0xa7,0x00,0x0b,0x07
0000f0  00460058          DCB      0x00,0x46,0x00,0x58
0000f4  d33d              DCB      0xd3,0x3d
                  versionCmd
0000f6  7aa7              DCB      0x7a,0xa7
0000f8  00090000          DCB      0x00,0x09,0x00,0x00
0000fc  09d33d            DCB      0x09,0xd3,0x3d
                  powerCmd
0000ff  5a                DCB      0x5a
000100  05220081          DCB      0x05,0x22,0x00,0x81
                  powerSaveCmd
000104  5a04116f          DCB      0x5a,0x04,0x11,0x6f
                  output0Cmd
000108  7aa7000a          DCB      0x7a,0xa7,0x00,0x0a
00010c  3001003b          DCB      0x30,0x01,0x00,0x3b
000110  d33d              DCB      0xd3,0x3d
                  output1Cmd
000112  7aa7              DCB      0x7a,0xa7
000114  000a3002          DCB      0x00,0x0a,0x30,0x02
000118  003cd33d          DCB      0x00,0x3c,0xd3,0x3d
                  firstcmdTakeAck
00011c  7aa70009          DCB      0x7a,0xa7,0x00,0x09
000120  15001ed3          DCB      0x15,0x00,0x1e,0xd3
000124  3d                DCB      0x3d
                  cmdTakeAck
000125  7aa700            DCB      0x7a,0xa7,0x00
000128  0b160000          DCB      0x0b,0x16,0x00,0x00
00012c  0000d33d          DCB      0x00,0x00,0xd3,0x3d
                  receiveDataIndex
                          DCD      0x00000000
                  firstCmd
000134  7aa7000d          DCB      0x7a,0xa7,0x00,0x0d
000138  05000000          DCB      0x05,0x00,0x00,0x00
00013c  010013d3          DCB      0x01,0x00,0x13,0xd3
000140  3d000000          DCB      0x3d,0x00,0x00,0x00
                  threadWaitTime
                          DCD      0xffffffff
                  xHandle
                          DCD      0x00000000
                  RadarPoolingFlag
00014c  00000000          DCB      0x00,0x00,0x00,0x00
                  radarBufferIndex
                          %        8
                  RingFifoPtr
                          %        8
                  targetPacketIndex
                          %        8
                  checkStableDistIndex
                          %        8
                  checkStablePowerIndex
                          %        8
                  ||Cmd||
                          DCD      0x00000000
                  xSemaphore
                          DCD      0x00000000
