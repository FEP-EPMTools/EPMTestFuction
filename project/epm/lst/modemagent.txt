; generated by ARM C/C++ Compiler, 5.03 [Build 76]
; commandline ArmCC [--c99 --list --debug -c --asm --interleave -o.\obj\modemagent.o --asm_dir=.\lst\ --list_dir=.\lst\ --depend=.\obj\modemagent.d --cpu=ARM926EJ-S --apcs=interwork -O0 -I.\src -I..\..\common\src\BSP\Driver\Include -I..\..\common\src\FreeRTOS -I..\..\common\src\FreeRTOS\Source\include -I..\..\common\src\FreeRTOS\Source\portable\RVDS\ARM926EJ-S -I..\..\common\src\BSP\ThirdParty\FATFS\src -I.\src\userdrv -I.\src\syshal -I.\src\user -I.\src\userdrv\vl53l0x\core\inc -I.\src\userdrv\vl53l0x\platform\inc -I.\src\syshal\json -I.\src\syshal\modemlib -I..\..\common\src\BSP\ThirdParty\yaffs2 -I..\..\common\src\BSP\ThirdParty\yaffs2\include -I..\..\common\src\BSP\ThirdParty\yaffs2\include\asm -I..\..\common\src\BSP\ThirdParty\yaffs2\include\linux -I.\src\syshal\yaffs2 -I..\..\common\src\BSP\Library\SmartcardLib\Include -I.\src\syshal\cardlib -I.\src\syshal\cardlog -I.\src\syshal\blk -I..\..\common\src\BSP\Library\USB_HOST\Inc -I..\..\common\src\BSP\Library\USB_HOST\Inc\usb_uvc -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\Toshiba -DEPM_PROJECT -DCONFIG_YAFFS_DIRECT -DCONFIG_YAFFS_SHORT_NAMES_IN_RAM -DCONFIG_YAFFS_YAFFS2 -DNO_Y_INLINE -DCONFIG_YAFFS_PROVIDE_DEFS -DCONFIG_YAFFSFS_PROVIDE_VALUES --omf_browse=.\obj\modemagent.crf src\syshal\modemagent.c]
                          ARM

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  ModemAgentPreOffCallback PROC
;;;85     
;;;86     static BOOL ModemAgentPreOffCallback(int flag)
000000  e1a01000          MOV      r1,r0
;;;87     {
;;;88         BOOL reVal = TRUE;
000004  e3a00001          MOV      r0,#1
;;;89         //sysprintf("### ModemAgent OFF Callback [%s] ###\r\n", modemAgentPowerCallabck.drvName);   
;;;90         modemAgentPowerStatusFlag = TRUE;
000008  e3a02001          MOV      r2,#1
00000c  e59f3294          LDR      r3,|L1.680|
000010  e5c32000          STRB     r2,[r3,#0]  ; modemAgentPowerStatusFlag
;;;91         return reVal;    
;;;92     }
000014  e12fff1e          BX       lr
;;;93     static BOOL ModemAgentOffCallback(int flag)
                          ENDP

                  ModemAgentOffCallback PROC
000018  e92d4070          PUSH     {r4-r6,lr}
;;;94     {
00001c  e1a04000          MOV      r4,r0
;;;95         if(flag)
000020  e3540000          CMP      r4,#0
000024  1a000011          BNE      |L1.112|
;;;96         {
;;;97         }
;;;98         else
;;;99         {
;;;100            int timers = 2000/10;
000028  e3a050c8          MOV      r5,#0xc8
;;;101            while(!modemAgentPowerStatus)
00002c  ea00000a          B        |L1.92|
                  |L1.48|
;;;102            {
;;;103                sysprintf("[mo]");
000030  e28f0f9d          ADR      r0,|L1.684|
000034  ebfffffe          BL       sysprintf
;;;104                if(timers-- == 0)
000038  e1b00005          MOVS     r0,r5
00003c  e2455001          SUB      r5,r5,#1
000040  1a000003          BNE      |L1.84|
;;;105                {
;;;106                    sysprintf("\r\n ####  [ModemAgentOffCallback FALSE]  ####  \r\n");
000044  e28f0f9a          ADR      r0,|L1.692|
000048  ebfffffe          BL       sysprintf
;;;107                    return FALSE;
00004c  e3a00000          MOV      r0,#0
                  |L1.80|
;;;108                }
;;;109                vTaskDelay(10/portTICK_RATE_MS); 
;;;110            }
;;;111        }
;;;112        return TRUE;    
;;;113    }
000050  e8bd8070          POP      {r4-r6,pc}
                  |L1.84|
000054  e3a00001          MOV      r0,#1                 ;109
000058  ebfffffe          BL       vTaskDelay
                  |L1.92|
00005c  e59f0284          LDR      r0,|L1.744|
000060  e5d00000          LDRB     r0,[r0,#0]            ;101  ; modemAgentPowerStatus
000064  e3500000          CMP      r0,#0                 ;101
000068  0afffff0          BEQ      |L1.48|
00006c  e1a00000          MOV      r0,r0                 ;111
                  |L1.112|
000070  e3a00001          MOV      r0,#1                 ;112
000074  eafffff5          B        |L1.80|
;;;114    static BOOL ModemAgentOnCallback(int flag)
                          ENDP

                  ModemAgentOnCallback PROC
000078  e92d4070          PUSH     {r4-r6,lr}
;;;115    {
00007c  e1a05000          MOV      r5,r0
;;;116        BOOL reVal = TRUE;
000080  e3a04001          MOV      r4,#1
;;;117        xSemaphoreGive(xModemRoutineSemaphore); 
000084  e3a03000          MOV      r3,#0
000088  e1a02003          MOV      r2,r3
00008c  e1a01003          MOV      r1,r3
000090  e59f0254          LDR      r0,|L1.748|
000094  e5900000          LDR      r0,[r0,#0]  ; xModemRoutineSemaphore
000098  ebfffffe          BL       xQueueGenericSend
;;;118        modemAgentPowerStatusFlag = FALSE;
00009c  e3a00000          MOV      r0,#0
0000a0  e59f1200          LDR      r1,|L1.680|
0000a4  e5c10000          STRB     r0,[r1,#0]  ; modemAgentPowerStatusFlag
;;;119        return reVal;    
0000a8  e1a00004          MOV      r0,r4
;;;120    }
0000ac  e8bd8070          POP      {r4-r6,pc}
;;;121    static BOOL ModemAgentCheckStatus(int flag)
                          ENDP

                  ModemAgentCheckStatus PROC
0000b0  e1a01000          MOV      r1,r0
;;;122    {
;;;123        //BOOL reVal = TRUE;
;;;124        //sysprintf("### modemAgent STATUS Callback [%s] ###\r\n", modemAgentPowerCallabck.drvName); 
;;;125        if(flag)
0000b4  e3510000          CMP      r1,#0
0000b8  0a000001          BEQ      |L1.196|
;;;126        {        
;;;127            return TRUE;
0000bc  e3a00001          MOV      r0,#1
                  |L1.192|
;;;128        }
;;;129        else
;;;130        {
;;;131            return modemAgentPowerStatus;  
;;;132        }        
;;;133    }
0000c0  e12fff1e          BX       lr
                  |L1.196|
0000c4  e59f021c          LDR      r0,|L1.744|
0000c8  e5d00000          LDRB     r0,[r0,#0]            ;131  ; modemAgentPowerStatus
0000cc  eafffffb          B        |L1.192|
;;;134    
                          ENDP

                  vModemAgentTask PROC
;;;135    static void vModemAgentTask( void *pvParameters )
0000d0  e24dde13          SUB      sp,sp,#0x130
;;;136    {
;;;137        RTC_TIME_DATA_T pt;
;;;138        uint32_t currentTime;
;;;139        BOOL retryFlag = FALSE;
0000d4  e3a06000          MOV      r6,#0
;;;140        int reRetryTimes = RE_EXECUTE_TIMES;
0000d8  e3a04003          MOV      r4,#3
;;;141        sysprintf("vModemAgentTask Going...\r\n");      
0000dc  e28f0f83          ADR      r0,|L1.752|
0000e0  ebfffffe          BL       sysprintf
;;;142        //threadModemAgentWaitTime = 0;  
;;;143        vTaskDelay(2000/portTICK_RATE_MS);
0000e4  e3a000c8          MOV      r0,#0xc8
0000e8  ebfffffe          BL       vTaskDelay
;;;144        for(;;)
0000ec  e1a00000          MOV      r0,r0
                  |L1.240|
;;;145        {        
;;;146            //sysprintf("\r\n**! INFORMATION !** vModemAgentTask Waiting ...\r\n");
;;;147            modemAgentPowerStatus = TRUE;
0000f0  e3a00001          MOV      r0,#1
0000f4  e59f11ec          LDR      r1,|L1.744|
0000f8  e5c10000          STRB     r0,[r1,#0]  ; modemAgentPowerStatus
;;;148            BaseType_t reval = xSemaphoreTake(xModemAgentSemaphore, threadModemAgentWaitTime/*portMAX_DELAY*/);
0000fc  e3a03000          MOV      r3,#0
000100  e59f0204          LDR      r0,|L1.780|
000104  e1a01003          MOV      r1,r3
000108  e5902000          LDR      r2,[r0,#0]  ; threadModemAgentWaitTime
00010c  e59f01fc          LDR      r0,|L1.784|
000110  e5900000          LDR      r0,[r0,#0]  ; xModemAgentSemaphore
000114  ebfffffe          BL       xQueueGenericReceive
000118  e1a07000          MOV      r7,r0
;;;149            
;;;150            if(modemAgentPowerStatusFlag == FALSE)
00011c  e59f0184          LDR      r0,|L1.680|
000120  e5d00000          LDRB     r0,[r0,#0]  ; modemAgentPowerStatusFlag
000124  e3500000          CMP      r0,#0
000128  1a0000c2          BNE      |L1.1080|
;;;151            {
;;;152                modemAgentPowerStatus = FALSE;
00012c  e3a00000          MOV      r0,#0
000130  e59f11b0          LDR      r1,|L1.744|
000134  e5c10000          STRB     r0,[r1,#0]  ; modemAgentPowerStatus
;;;153                if(E_RTC_SUCCESS == RTC_Read(RTC_CURRENT_TIME, &pt))
000138  e28d1c01          ADD      r1,sp,#0x100
00013c  ebfffffe          BL       RTC_Read
000140  e3500000          CMP      r0,#0
000144  1a0000bb          BNE      |L1.1080|
;;;154                {
;;;155                    DataSendType sendType;
;;;156                    currentTime = RTC2Time(&pt);
000148  e28d0c01          ADD      r0,sp,#0x100
00014c  ebfffffe          BL       RTC2Time
000150  e1a08000          MOV      r8,r0
;;;157                    sendType = DataProcessCheckExecute(currentTime);
000154  e1a00008          MOV      r0,r8
000158  ebfffffe          BL       DataProcessCheckExecute
00015c  e1a05000          MOV      r5,r0
;;;158                    if(sendType != DATA_SEND_TYPE_NONE)
000160  e3550000          CMP      r5,#0
000164  0a0000b0          BEQ      |L1.1068|
;;;159                    {
;;;160                        #if(ENABLE_LOG_FUNCTION)
;;;161                        {
;;;162                            char str[256];
;;;163                            sprintf(str, "**! INFORMATION !** vModemAgentTask GO  ...\r\n");
000168  e28f1f69          ADR      r1,|L1.788|
00016c  e1a0000d          MOV      r0,sp
000170  ebfffffe          BL       __2sprintf
;;;164                            LoglibPrintf(LOG_TYPE_INFO, str);
000174  e1a0100d          MOV      r1,sp
000178  e3a00000          MOV      r0,#0
00017c  ebfffffe          BL       LoglibPrintf
;;;165                        }
;;;166                        #else
;;;167                        sysprintf("\r\n**! INFORMATION !** vModemAgentTask GO ...\r\n");
;;;168                        #endif
;;;169                        
;;;170                        reRetryTimes = 0;     
000180  e3a04000          MOV      r4,#0
;;;171                        retryFlag = FALSE;   
000184  e3a06000          MOV      r6,#0
;;;172                        MeterUpdateModemAgentLastTime();
000188  ebfffffe          BL       MeterUpdateModemAgentLastTime
;;;173                        while((reRetryTimes < RE_EXECUTE_TIMES) && (retryFlag == FALSE)) //­«§@3¦¸
00018c  ea0000a1          B        |L1.1048|
                  |L1.400|
;;;174                        {
;;;175                            retryFlag = TRUE;
000190  e3a06001          MOV      r6,#1
;;;176      
;;;177                            QModemDialupStart();
000194  ebfffffe          BL       QModemDialupStart
;;;178                            if(QModemDialupProcess() == TRUE)
000198  ebfffffe          BL       QModemDialupProcess
00019c  e3500001          CMP      r0,#1
0001a0  1a00002e          BNE      |L1.608|
;;;179                            {
;;;180                                #if(ENABLE_LOG_FUNCTION)
;;;181                                {
;;;182                                    char str[256];
;;;183                                    sprintf(str, " !!!!!! ~~~~~~ Dialup SUCCESS [RSSI:%s] ...\r\n", FtpQueryCsq());
0001a4  ebfffffe          BL       FtpQueryCsq
0001a8  e1a09000          MOV      r9,r0
0001ac  e1a02009          MOV      r2,r9
0001b0  e28f1f63          ADR      r1,|L1.836|
0001b4  e1a0000d          MOV      r0,sp
0001b8  ebfffffe          BL       __2sprintf
;;;184                                    LoglibPrintf(LOG_TYPE_INFO, str);
0001bc  e1a0100d          MOV      r1,sp
0001c0  e3a00000          MOV      r0,#0
0001c4  ebfffffe          BL       LoglibPrintf
;;;185                                }
;;;186                                #else
;;;187                                sysprintf(" !!!!!! ~~~~~~ Dialup SUCCESS ~~~~~~ [RSSI:%s] ...\r\n", FtpQueryCsq());
;;;188                                #endif
;;;189                                if(DataProcessExecute(currentTime, DATA_SEND_TYPE_WEB_POST))
0001c8  e3a01001          MOV      r1,#1
0001cc  e1a00008          MOV      r0,r8
0001d0  ebfffffe          BL       DataProcessExecute
0001d4  e3500000          CMP      r0,#0
0001d8  1a000005          BNE      |L1.500|
;;;190                                {
;;;191                                    
;;;192                                }
;;;193                                else
;;;194                                {
;;;195                                    errortimes++;
0001dc  e59f0190          LDR      r0,|L1.884|
0001e0  e5900000          LDR      r0,[r0,#0]  ; errortimes
0001e4  e2800001          ADD      r0,r0,#1
0001e8  e59f1184          LDR      r1,|L1.884|
0001ec  e5810000          STR      r0,[r1,#0]  ; errortimes
;;;196                                    retryFlag = FALSE;
0001f0  e3a06000          MOV      r6,#0
                  |L1.500|
;;;197                                }
;;;198                                if((sendType & DATA_SEND_TYPE_FTP)||(sendType & DATA_SEND_TYPE_FTP_GET))
0001f4  e3150002          TST      r5,#2
0001f8  1a000001          BNE      |L1.516|
0001fc  e3150004          TST      r5,#4
000200  0a00001d          BEQ      |L1.636|
                  |L1.516|
;;;199                                {
;;;200                                    //QModemFtpClientStart();
;;;201                                    //if(QModemFtpClientProcess() == TRUE)
;;;202                                    {
;;;203                                        //#if(ENABLE_LOG_FUNCTION)
;;;204                                        //{
;;;205                                        //    char str[512];
;;;206                                        //    sprintf(str, " !!!!!! ~ FTP_CONNECT SUCCESS ~!!!!!!\r\n");
;;;207                                        //    LoglibPrintf(LOG_TYPE_INFO, str);
;;;208                                        //}
;;;209                                        //#endif
;;;210                                        if(DataProcessExecute(currentTime, DATA_SEND_TYPE_FTP_GET))
000204  e3a01004          MOV      r1,#4
000208  e1a00008          MOV      r0,r8
00020c  ebfffffe          BL       DataProcessExecute
000210  e3500000          CMP      r0,#0
000214  1a000005          BNE      |L1.560|
;;;211                                        {
;;;212    
;;;213                                        }
;;;214                                        else
;;;215                                        {
;;;216                                            errortimes++;
000218  e59f0154          LDR      r0,|L1.884|
00021c  e5900000          LDR      r0,[r0,#0]  ; errortimes
000220  e2800001          ADD      r0,r0,#1
000224  e59f1148          LDR      r1,|L1.884|
000228  e5810000          STR      r0,[r1,#0]  ; errortimes
;;;217                                            retryFlag = FALSE;
00022c  e3a06000          MOV      r6,#0
                  |L1.560|
;;;218                                        }
;;;219                                        if(DataProcessExecute(currentTime, DATA_SEND_TYPE_FTP))
000230  e3a01002          MOV      r1,#2
000234  e1a00008          MOV      r0,r8
000238  ebfffffe          BL       DataProcessExecute
00023c  e3500000          CMP      r0,#0
000240  1a00000d          BNE      |L1.636|
;;;220                                        {
;;;221    
;;;222                                        }
;;;223                                        else
;;;224                                        {
;;;225                                            errortimes++;
000244  e59f0128          LDR      r0,|L1.884|
000248  e5900000          LDR      r0,[r0,#0]  ; errortimes
00024c  e2800001          ADD      r0,r0,#1
000250  e59f111c          LDR      r1,|L1.884|
000254  e5810000          STR      r0,[r1,#0]  ; errortimes
;;;226                                            retryFlag = FALSE;
000258  e3a06000          MOV      r6,#0
00025c  ea000006          B        |L1.636|
                  |L1.608|
;;;227                                        }
;;;228                                        #if(0)
;;;229                                        if(FtpClientClose())
;;;230                                        {
;;;231                                            #if(ENABLE_LOG_FUNCTION)
;;;232                                            {
;;;233                                                char str[512];
;;;234                                                sprintf(str, " !!!!!! ~ FTP_CLOSE SUCCESS ~!!!!!!\r\n");
;;;235                                                LoglibPrintf(LOG_TYPE_INFO, str);
;;;236                                            }
;;;237                                            #endif
;;;238                                        }
;;;239                                        else
;;;240                                        {
;;;241                                            #if(ENABLE_LOG_FUNCTION)
;;;242                                            {
;;;243                                                char str[512];
;;;244                                                sprintf(str, " !!!!!! ~ FTP_CLOSE ERROR ~!!!!!!\r\n");
;;;245                                                LoglibPrintf(LOG_TYPE_INFO, str);
;;;246                                            }
;;;247                                            #endif
;;;248                                        }
;;;249                                        #endif
;;;250                                    }
;;;251                                    //else
;;;252                                    //{
;;;253                                    //    errortimes++;
;;;254                                    //    retryFlag = FALSE;
;;;255    
;;;256                                    //}
;;;257                                }                        
;;;258                            }
;;;259                            else
;;;260                            {
;;;261                                #if(ENABLE_LOG_FUNCTION)
;;;262                                {
;;;263                                    char str[256];
;;;264                                    sprintf(str, " !!!!!! ~~~~~~ Dialup ERROR ~~~~~~ !!!!!!\r\n");
000260  e28f1e11          ADR      r1,|L1.888|
000264  e1a0000d          MOV      r0,sp
000268  ebfffffe          BL       __2sprintf
;;;265                                    LoglibPrintf(LOG_TYPE_ERROR, str);
00026c  e1a0100d          MOV      r1,sp
000270  e3a00002          MOV      r0,#2
000274  ebfffffe          BL       LoglibPrintf
;;;266                                }
;;;267                                #else
;;;268                                sysprintf(" !!!!!! ~~~~~~ Dialup ERROR ~~~~~~ !!!!!!\r\n");
;;;269                                #endif
;;;270                                retryFlag = FALSE;
000278  e3a06000          MOV      r6,#0
                  |L1.636|
;;;271                            }
;;;272                            QModemTotalStop(); 
00027c  ebfffffe          BL       QModemTotalStop
;;;273                            #if(ENABLE_LOG_FUNCTION)                        
;;;274                            if(retryFlag)
000280  e3560000          CMP      r6,#0
000284  0a000051          BEQ      |L1.976|
;;;275                            {
;;;276                                char str[256];
;;;277                                sprintf(str, "*** vModemAgentTask [%d times] Success...\r\n", reRetryTimes+1);
000288  e2842001          ADD      r2,r4,#1
00028c  e28f1e11          ADR      r1,|L1.932|
000290  e1a0000d          MOV      r0,sp
000294  ebfffffe          BL       __2sprintf
;;;278                                LoglibPrintf(LOG_TYPE_INFO, str);
000298  e1a0100d          MOV      r1,sp
00029c  e3a00000          MOV      r0,#0
0002a0  ebfffffe          BL       LoglibPrintf
;;;279                            }
0002a4  ea000051          B        |L1.1008|
                  |L1.680|
                          DCD      modemAgentPowerStatusFlag
                  |L1.684|
0002ac  5b6d6f5d          DCB      "[mo]",0
0002b0  00      
0002b1  00                DCB      0
0002b2  00                DCB      0
0002b3  00                DCB      0
                  |L1.692|
0002b4  0d0a2023          DCB      "\r\n ####  [ModemAgentOffCallback FALSE]  ####  \r\n",0
0002b8  23232320
0002bc  205b4d6f
0002c0  64656d41
0002c4  67656e74
0002c8  4f666643
0002cc  616c6c62
0002d0  61636b20
0002d4  46414c53
0002d8  455d2020
0002dc  23232323
0002e0  20200d0a
0002e4  00      
0002e5  00                DCB      0
0002e6  00                DCB      0
0002e7  00                DCB      0
                  |L1.744|
                          DCD      modemAgentPowerStatus
                  |L1.748|
                          DCD      xModemRoutineSemaphore
                  |L1.752|
0002f0  764d6f64          DCB      "vModemAgentTask Going...\r\n",0
0002f4  656d4167
0002f8  656e7454
0002fc  61736b20
000300  476f696e
000304  672e2e2e
000308  0d0a00  
00030b  00                DCB      0
                  |L1.780|
                          DCD      threadModemAgentWaitTime
                  |L1.784|
                          DCD      xModemAgentSemaphore
                  |L1.788|
000314  2a2a2120          DCB      "**! INFORMATION !** vModemAgentTask GO  ...\r\n",0
000318  494e464f
00031c  524d4154
000320  494f4e20
000324  212a2a20
000328  764d6f64
00032c  656d4167
000330  656e7454
000334  61736b20
000338  474f2020
00033c  2e2e2e0d
000340  0a00    
000342  00                DCB      0
000343  00                DCB      0
                  |L1.836|
000344  20212121          DCB      " !!!!!! ~~~~~~ Dialup SUCCESS [RSSI:%s] ...\r\n",0
000348  21212120
00034c  7e7e7e7e
000350  7e7e2044
000354  69616c75
000358  70205355
00035c  43434553
000360  53205b52
000364  5353493a
000368  25735d20
00036c  2e2e2e0d
000370  0a00    
000372  00                DCB      0
000373  00                DCB      0
                  |L1.884|
                          DCD      errortimes
                  |L1.888|
000378  20212121          DCB      " !!!!!! ~~~~~~ Dialup ERROR ~~~~~~ !!!!!!\r\n",0
00037c  21212120
000380  7e7e7e7e
000384  7e7e2044
000388  69616c75
00038c  70204552
000390  524f5220
000394  7e7e7e7e
000398  7e7e2021
00039c  21212121
0003a0  210d0a00
                  |L1.932|
0003a4  2a2a2a20          DCB      "*** vModemAgentTask [%d times] Success...\r\n",0
0003a8  764d6f64
0003ac  656d4167
0003b0  656e7454
0003b4  61736b20
0003b8  5b256420
0003bc  74696d65
0003c0  735d2053
0003c4  75636365
0003c8  73732e2e
0003cc  2e0d0a00
                  |L1.976|
;;;280                            else
;;;281                            {
;;;282                                char str[256];
;;;283                                sprintf(str, "*** vModemAgentTask [%d times] Error...\r\n", reRetryTimes+1);
0003d0  e2842001          ADD      r2,r4,#1
0003d4  e28f1fda          ADR      r1,|L1.1860|
0003d8  e1a0000d          MOV      r0,sp
0003dc  ebfffffe          BL       __2sprintf
;;;284                                LoglibPrintf(LOG_TYPE_ERROR, str);
0003e0  e1a0100d          MOV      r1,sp
0003e4  e3a00002          MOV      r0,#2
0003e8  ebfffffe          BL       LoglibPrintf
;;;285                            }
0003ec  e1a00000          MOV      r0,r0
                  |L1.1008|
;;;286                            #else
;;;287                            if(retryFlag)
;;;288                            {
;;;289                                sysprintf("*** vModemAgentTask [%d times] Success...\r\n", reRetryTimes+1);
;;;290                            }
;;;291                            else
;;;292                            {
;;;293                                sysprintf("*** vModemAgentTask [%d times] Error...\r\n", reRetryTimes+1);
;;;294                            }
;;;295                            #endif
;;;296                            if(!BatteryCheckPowerDownCondition())
0003f0  ebfffffe          BL       BatteryCheckPowerDownCondition
0003f4  e3500000          CMP      r0,#0
0003f8  1a000005          BNE      |L1.1044|
;;;297                            {
;;;298                                FileAgentFatfsListFile("1:", "*.*");
0003fc  e28f1fdb          ADR      r1,|L1.1904|
000400  e28f0fdb          ADR      r0,|L1.1908|
000404  ebfffffe          BL       FileAgentFatfsListFile
;;;299                                FileAgentFatfsListFile("2:", "*.*");
000408  e28f1e36          ADR      r1,|L1.1904|
00040c  e28f0fd9          ADR      r0,|L1.1912|
000410  ebfffffe          BL       FileAgentFatfsListFile
                  |L1.1044|
;;;300                            }
;;;301                            reRetryTimes++;
000414  e2844001          ADD      r4,r4,#1
                  |L1.1048|
000418  e3540003          CMP      r4,#3                 ;173
00041c  aa000004          BGE      |L1.1076|
000420  e3560000          CMP      r6,#0                 ;173
000424  0affff59          BEQ      |L1.400|
000428  ea000001          B        |L1.1076|
                  |L1.1068|
;;;302                        }
;;;303                            
;;;304                    }
;;;305                    else
;;;306                    {
;;;307                        //sysprintf("\r\n**! INFORMATION !** vModemAgentTask Ignore Send...\r\n");
;;;308                        sysprintf("&");
00042c  e28f0fd2          ADR      r0,|L1.1916|
000430  ebfffffe          BL       sysprintf
                  |L1.1076|
;;;309                    }
;;;310                   
;;;311                }
000434  e1a00000          MOV      r0,r0
                  |L1.1080|
;;;312            }
;;;313            
;;;314           
;;;315        }
000438  eaffff2c          B        |L1.240|
;;;316    }
;;;317    
                          ENDP

                  vModemTestTask PROC
;;;320    #define FTP_BURNIN_TEST_LOG_PATH    "test/burntestlog/"  //"test2/burntestlog/"
;;;321    static void vModemTestTask(void *pvParameters)
00043c  e24ddd5e          SUB      sp,sp,#0x1780
;;;322    {
;;;323        time_t lastATTime = GetCurrentUTCTime();
000440  ebfffffe          BL       GetCurrentUTCTime
000444  e28d1a01          ADD      r1,sp,#0x1000
000448  e581077c          STR      r0,[r1,#0x77c]
;;;324        time_t lastFTPTime = lastATTime;
00044c  e28d1a01          ADD      r1,sp,#0x1000
000450  e591077c          LDR      r0,[r1,#0x77c]
000454  e5810778          STR      r0,[r1,#0x778]
;;;325        time_t currentTime;
;;;326        BOOL testLoop = FALSE;
000458  e3a00000          MOV      r0,#0
00045c  e28d1a01          ADD      r1,sp,#0x1000
000460  e5810770          STR      r0,[r1,#0x770]
;;;327        BOOL ftpLoop = FALSE;
000464  e28d1a01          ADD      r1,sp,#0x1000
000468  e581076c          STR      r0,[r1,#0x76c]
;;;328        BOOL status;
;;;329        BOOL lasterrorflag = FALSE;
00046c  e1a00000          MOV      r0,r0
;;;330        BOOL FTPdeleteflag = FALSE;
000470  e28d1a01          ADD      r1,sp,#0x1000
000474  e5810764          STR      r0,[r1,#0x764]
;;;331        //BOOL needFree = FALSE;
;;;332        int reRetryTimes;
;;;333        //char *filename;
;;;334        char filenameBuffer[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;335        char logpathBuffer[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;336        
;;;337        char lastfilenameBuffer[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;338        char lastlogpathBuffer[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;339        
;;;340        char paraFilePathTmp[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;341        char targetFilePathTmp[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;342        char ipAddress[20];
;;;343        //FileAgentReturn reVal;
;;;344        //uint8_t* fileDataBuffer;
;;;345        char *reportBuffer;
;;;346        //size_t fileDataLength;
;;;347        RTC_TIME_DATA_T pt;
;;;348        char errorMsgBuffer[256];
;;;349        int FTPErrorCode1 = 0; 
000478  e28d1a01          ADD      r1,sp,#0x1000
00047c  e5810494          STR      r0,[r1,#0x494]
;;;350        int FTPErrorCode2 = 0; 
000480  e28d1a01          ADD      r1,sp,#0x1000
000484  e5810490          STR      r0,[r1,#0x490]
;;;351        int FTPretryTimes = 3;
000488  e3a00003          MOV      r0,#3
00048c  e28d1a01          ADD      r1,sp,#0x1000
000490  e581048c          STR      r0,[r1,#0x48c]
;;;352        
;;;353        //size_t readSDtempSize;
;;;354        //BOOL needFreeFlag;
;;;355        char ErrorFlagStr[5];
;;;356        char FTPOccupiedFlagStr[5];
;;;357        char RecentFilenameStr[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;358        char RecentLogpathStr[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;359        char LastFilenameStr[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;360        char LastLogpathStr[BURNIN_LOG_FILENAME_BUFFER_LENGTH];
;;;361        
;;;362        char ErrorFlagPath[BURNIN_LOG_FILENAME_BUFFER_LENGTH*2];
;;;363        char FTPOccupiedPath[BURNIN_LOG_FILENAME_BUFFER_LENGTH*2];
;;;364        char RecentFilenamePath[BURNIN_LOG_FILENAME_BUFFER_LENGTH*2];
;;;365        char RecentLogPath[BURNIN_LOG_FILENAME_BUFFER_LENGTH*2];
;;;366        char LastFilenamePath[BURNIN_LOG_FILENAME_BUFFER_LENGTH*2];
;;;367        char LastLogPath[BURNIN_LOG_FILENAME_BUFFER_LENGTH*2];
;;;368        FIL file;
;;;369        UINT br;
;;;370        /*
;;;371        FTPErrorCode1
;;;372        1. FtpClientSendFile return false len = 0
;;;373        2. AT+QFTPCWD return MODEM_RETURN_BREAK
;;;374        3. AT+QFTPMKDIR return MODEM_RETURN_ERROR
;;;375        4. AT+QFTPMKDIR return MODEM_RETURN_BREAK
;;;376        5. AT+QFTPMKDIR again return MODEM_RETURN_ERROR
;;;377        6. AT+QFTPMKDIR again return MODEM_RETURN_BREAK
;;;378        7. AT+QFTPCWD return MODEM_RETURN_ERROR
;;;379        8. AT+QFTPCWD return MODEM_RETURN_BREAK
;;;380        9. AT+QFTPPUT return MODEM_RETURN_ERROR
;;;381        10.AT+QFTPPUT return MODEM_RETURN_BREAK
;;;382        11.AT+QFTPPUT return cmdActionBreakFlag
;;;383        12.AT+QFTPPUT return Ftp Client write error
;;;384        13.AT+QFTPPUT return cmdActionBreakFlag2
;;;385        14.AT+QFTPPUT return Ftp Client write error2
;;;386        15.NULL return MODEM_RETURN_ERROR
;;;387        16.NULL return MODEM_RETURN_BREAK
;;;388    
;;;389        FTPErrorCode2
;;;390        1. FTP feedback datasize ERROR
;;;391        2. FTP feedback cmd ERROR
;;;392        */
;;;393    
;;;394        terninalPrintf("vModemTestTask Going...\r\n");
000494  e28f0fb9          ADR      r0,|L1.1920|
000498  ebfffffe          BL       terninalPrintf
;;;395        //QueryNTPfun();
;;;396        //ResetRuntimefun();
;;;397        /*
;;;398        setPrintfFlag(FALSE);
;;;399        __SHOW_FREE_HEAP_SIZE__
;;;400        setPrintfFlag(TRUE);
;;;401        */
;;;402        while (TRUE)
00049c  ea000015          B        |L1.1272|
                  |L1.1184|
;;;403        {
;;;404            if (GetDeviceID() != 0)
0004a0  ebfffffe          BL       GetDeviceID
0004a4  e3500000          CMP      r0,#0
0004a8  0a000010          BEQ      |L1.1264|
;;;405            {
;;;406                terninalPrintf("Already GetDeviceID.\r\n");
0004ac  e28f0fba          ADR      r0,|L1.1948|
0004b0  ebfffffe          BL       terninalPrintf
;;;407                sprintf(targetFilePathTmp, "0:\\%08d\\TestReport", GetDeviceID());
0004b4  ebfffffe          BL       GetDeviceID
0004b8  e58d0050          STR      r0,[sp,#0x50]
0004bc  e1a02000          MOV      r2,r0
0004c0  e28f1fbb          ADR      r1,|L1.1972|
0004c4  e28d0a01          ADD      r0,sp,#0x1000
0004c8  e2800e5e          ADD      r0,r0,#0x5e0
0004cc  ebfffffe          BL       __2sprintf
;;;408                sprintf(paraFilePathTmp, "0:\\%08d\\Parameter", GetDeviceID());
0004d0  ebfffffe          BL       GetDeviceID
0004d4  e58d0050          STR      r0,[sp,#0x50]
0004d8  e1a02000          MOV      r2,r0
0004dc  e28f1fb9          ADR      r1,|L1.1992|
0004e0  e28d0a01          ADD      r0,sp,#0x1000
0004e4  e2800e62          ADD      r0,r0,#0x620
0004e8  ebfffffe          BL       __2sprintf
;;;409                break;
0004ec  ea000002          B        |L1.1276|
                  |L1.1264|
;;;410            }
;;;411            vTaskDelay(200 / portTICK_RATE_MS);
0004f0  e3a00014          MOV      r0,#0x14
0004f4  ebfffffe          BL       vTaskDelay
                  |L1.1272|
0004f8  eaffffe8          B        |L1.1184|
                  |L1.1276|
0004fc  e1a00000          MOV      r0,r0                 ;409
;;;412        }
;;;413        
;;;414        while (TRUE)
000500  ea000377          B        |L1.4836|
                  |L1.1284|
;;;415        {
;;;416            /*
;;;417            if(FTPretryTimes <= 0)
;;;418            {
;;;419                //Reset pin GPG8
;;;420                outpw(REG_SYS_GPG_MFPH,(inpw(REG_SYS_GPG_MFPH) & ~(0xFu<<0)) | (0x0u<<0));
;;;421                GPIO_OpenBit(GPIOG, BIT8, DIR_OUTPUT, NO_PULL_UP);
;;;422                GPIO_ClrBit(GPIOG, BIT8);
;;;423                vTaskDelay(1000/portTICK_RATE_MS);
;;;424                GPIO_SetBit(GPIOG, BIT8);
;;;425            }
;;;426            */
;;;427            //if( (FTPretryTimes < 3) && (FTPretryTimes > 0) )
;;;428            
;;;429            if(((FTPretryTimes < 3) && (FTPretryTimes > 0)) || FTPdeleteflag )
000504  e28d0a01          ADD      r0,sp,#0x1000
000508  e590048c          LDR      r0,[r0,#0x48c]
00050c  e3500003          CMP      r0,#3
000510  aa000003          BGE      |L1.1316|
000514  e28d0a01          ADD      r0,sp,#0x1000
000518  e590048c          LDR      r0,[r0,#0x48c]
00051c  e3500000          CMP      r0,#0
000520  ca000003          BGT      |L1.1332|
                  |L1.1316|
000524  e28d0a01          ADD      r0,sp,#0x1000
000528  e5900764          LDR      r0,[r0,#0x764]
00052c  e3500000          CMP      r0,#0
000530  0a000003          BEQ      |L1.1348|
                  |L1.1332|
;;;430            {
;;;431                
;;;432                /*
;;;433                QModemTotalStop();
;;;434                vTaskDelay(1000/portTICK_RATE_MS);
;;;435                QModemLibInit(921600);
;;;436                */
;;;437                ftpLoop = TRUE;
000534  e3a00001          MOV      r0,#1
000538  e28d1a01          ADD      r1,sp,#0x1000
00053c  e581076c          STR      r0,[r1,#0x76c]
000540  ea00001f          B        |L1.1476|
                  |L1.1348|
;;;438            }
;;;439            else
;;;440            {
;;;441                currentTime = GetCurrentUTCTime();
000544  ebfffffe          BL       GetCurrentUTCTime
000548  e28d1a01          ADD      r1,sp,#0x1000
00054c  e5810774          STR      r0,[r1,#0x774]
;;;442                if ((currentTime - lastFTPTime) > BURNIN_MODEM_FTP_INTERVAL)
000550  e28d0a01          ADD      r0,sp,#0x1000
000554  e5900774          LDR      r0,[r0,#0x774]
000558  e28d1a01          ADD      r1,sp,#0x1000
00055c  e5911778          LDR      r1,[r1,#0x778]
000560  e0400001          SUB      r0,r0,r1
000564  e3500f4b          CMP      r0,#0x12c
000568  9a000009          BLS      |L1.1428|
;;;443                {
;;;444                    //terninalPrintf("vModemTestTaskFTP %d.\r\n",currentTime);
;;;445                    lastFTPTime = currentTime;
00056c  e28d0a01          ADD      r0,sp,#0x1000
000570  e5901774          LDR      r1,[r0,#0x774]
000574  e5801778          STR      r1,[r0,#0x778]
;;;446                    ftpLoop = TRUE;     //Enabled Dialup & FTP Testing
000578  e3a01001          MOV      r1,#1
00057c  e28d0a01          ADD      r0,sp,#0x1000
000580  e580176c          STR      r1,[r0,#0x76c]
;;;447                    //ftpLoop = FALSE;    //Disabled Dialup & FTP Testing
;;;448                    
;;;449                    FTPretryTimes = 3;
000584  e3a01003          MOV      r1,#3
000588  e28d0a01          ADD      r0,sp,#0x1000
00058c  e580148c          STR      r1,[r0,#0x48c]
000590  ea00000b          B        |L1.1476|
                  |L1.1428|
;;;450                }
;;;451                else if ((currentTime - lastATTime) > BURNIN_MODEM_AT_INTERVAL)
000594  e28d1a01          ADD      r1,sp,#0x1000
000598  e5910774          LDR      r0,[r1,#0x774]
00059c  e591177c          LDR      r1,[r1,#0x77c]
0005a0  e0400001          SUB      r0,r0,r1
0005a4  e3500005          CMP      r0,#5
0005a8  9a000005          BLS      |L1.1476|
;;;452                {
;;;453                    //terninalPrintf("vModemTestTaskAT %d.\r\n",currentTime);
;;;454                    lastATTime = currentTime;
0005ac  e28d0a01          ADD      r0,sp,#0x1000
0005b0  e5901774          LDR      r1,[r0,#0x774]
0005b4  e580177c          STR      r1,[r0,#0x77c]
;;;455                    testLoop = TRUE;    //Enabled AT Command Testing
0005b8  e3a01001          MOV      r1,#1
0005bc  e28d0a01          ADD      r0,sp,#0x1000
0005c0  e5801770          STR      r1,[r0,#0x770]
                  |L1.1476|
;;;456                    //testLoop = FALSE;   //Disabled AT Command Testing
;;;457                }
;;;458            }
;;;459            
;;;460            if (ftpLoop)
0005c4  e28d0a01          ADD      r0,sp,#0x1000
0005c8  e590076c          LDR      r0,[r0,#0x76c]
0005cc  e3500000          CMP      r0,#0
0005d0  0a000325          BEQ      |L1.4716|
;;;461            {
;;;462                ftpLoop = FALSE;
0005d4  e3a01000          MOV      r1,#0
0005d8  e28d0a01          ADD      r0,sp,#0x1000
0005dc  e580176c          STR      r1,[r0,#0x76c]
;;;463                
;;;464                //if( (FTPretryTimes < 3) && (FTPretryTimes > 0) )
;;;465                if(((FTPretryTimes < 3) && (FTPretryTimes > 0)) || FTPdeleteflag )
0005e0  e28d0a01          ADD      r0,sp,#0x1000
0005e4  e590048c          LDR      r0,[r0,#0x48c]
0005e8  e3500003          CMP      r0,#3
0005ec  aa000003          BGE      |L1.1536|
0005f0  e28d0a01          ADD      r0,sp,#0x1000
0005f4  e590048c          LDR      r0,[r0,#0x48c]
0005f8  e3500000          CMP      r0,#0
0005fc  ca000041          BGT      |L1.1800|
                  |L1.1536|
000600  e28d0a01          ADD      r0,sp,#0x1000
000604  e5900764          LDR      r0,[r0,#0x764]
000608  e3500000          CMP      r0,#0
00060c  1a00003d          BNE      |L1.1800|
;;;466                {}
;;;467                else
;;;468                {
;;;469                
;;;470                    //Write Test Report to File (SD Card)
;;;471                    RTC_Read(RTC_CURRENT_TIME, &pt);
000610  e28d1b05          ADD      r1,sp,#0x1400
000614  e2811f66          ADD      r1,r1,#0x198
000618  e3a00000          MOV      r0,#0
00061c  ebfffffe          BL       RTC_Read
;;;472                    sprintf(filenameBuffer, "Burnin_%08d_%04d%02d%02d%02d%02d%02d.log", GetDeviceID(), pt.u32Year, pt.u32cMonth, pt.u32cDay, pt.u32cHour, pt.u32cMinute, pt.u32cSecond);
000620  ebfffffe          BL       GetDeviceID
000624  e58d0050          STR      r0,[sp,#0x50]
000628  e28d0a01          ADD      r0,sp,#0x1000
00062c  e2803b01          ADD      r3,r0,#0x400
000630  e2833f67          ADD      r3,r3,#0x19c
000634  e893000e          LDM      r3,{r1-r3}
000638  e59005ac          LDR      r0,[r0,#0x5ac]
00063c  e98d0009          STMIB    sp,{r0,r3}
000640  e58d1010          STR      r1,[sp,#0x10]
000644  e58d200c          STR      r2,[sp,#0xc]
000648  e28d0a01          ADD      r0,sp,#0x1000
00064c  e59005b0          LDR      r0,[r0,#0x5b0]
000650  e58d0000          STR      r0,[sp,#0]
000654  e28d0a01          ADD      r0,sp,#0x1000
000658  e59015b4          LDR      r1,[r0,#0x5b4]
00065c  e58d104c          STR      r1,[sp,#0x4c]
000660  e1a03001          MOV      r3,r1
000664  e28f1e17          ADR      r1,|L1.2012|
000668  e59d2050          LDR      r2,[sp,#0x50]
00066c  e28d0a01          ADD      r0,sp,#0x1000
000670  e2800e72          ADD      r0,r0,#0x720
000674  ebfffffe          BL       __2sprintf
;;;473                    reportBuffer = BuildBurninTestReport(&pt);
000678  e28d0b05          ADD      r0,sp,#0x1400
00067c  e2800f66          ADD      r0,r0,#0x198
000680  ebfffffe          BL       BuildBurninTestReport
000684  e28d1a01          ADD      r1,sp,#0x1000
000688  e58105c8          STR      r0,[r1,#0x5c8]
;;;474                    if (FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, targetFilePathTmp, filenameBuffer, (uint8_t *)reportBuffer, strlen(reportBuffer), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE) == FILE_AGENT_RETURN_ERROR)
00068c  e28d1a01          ADD      r1,sp,#0x1000
000690  e59105c8          LDR      r0,[r1,#0x5c8]
000694  ebfffffe          BL       strlen
000698  e58d0050          STR      r0,[sp,#0x50]
00069c  e3a00000          MOV      r0,#0
0006a0  e3a01001          MOV      r1,#1
0006a4  e58d0004          STR      r0,[sp,#4]
0006a8  e1cd00f8          STRD     r0,r1,[sp,#8]
0006ac  e58d0010          STR      r0,[sp,#0x10]
0006b0  e59d0050          LDR      r0,[sp,#0x50]
0006b4  e58d0000          STR      r0,[sp,#0]
0006b8  e28d1a01          ADD      r1,sp,#0x1000
0006bc  e28d2a01          ADD      r2,sp,#0x1000
0006c0  e2822e72          ADD      r2,r2,#0x720
0006c4  e59135c8          LDR      r3,[r1,#0x5c8]
0006c8  e28d1a01          ADD      r1,sp,#0x1000
0006cc  e2811e5e          ADD      r1,r1,#0x5e0
0006d0  e3a00002          MOV      r0,#2
0006d4  ebfffffe          BL       FileAgentAddData
0006d8  e3500000          CMP      r0,#0
0006dc  1a000004          BNE      |L1.1780|
;;;475                    {
;;;476                        sdCardBurninErrorCounter++;
0006e0  e59f0120          LDR      r0,|L1.2056|
0006e4  e5900000          LDR      r0,[r0,#0]  ; sdCardBurninErrorCounter
0006e8  e2800001          ADD      r0,r0,#1
0006ec  e59f1114          LDR      r1,|L1.2056|
0006f0  e5810000          STR      r0,[r1,#0]  ; sdCardBurninErrorCounter
                  |L1.1780|
;;;477                    }
;;;478                    sdCardBurninCounter++;
0006f4  e59f0110          LDR      r0,|L1.2060|
0006f8  e5900000          LDR      r0,[r0,#0]  ; sdCardBurninCounter
0006fc  e2800001          ADD      r0,r0,#1
000700  e59f1104          LDR      r1,|L1.2060|
000704  e5810000          STR      r0,[r1,#0]  ; sdCardBurninCounter
                  |L1.1800|
;;;479                
;;;480                }
;;;481                
;;;482                if (GetPrepareStopBurninFlag())
000708  ebfffffe          BL       GetPrepareStopBurninFlag
00070c  e3500000          CMP      r0,#0
000710  0a000000          BEQ      |L1.1816|
;;;483                {
;;;484                    NoticeSDReportDone();
000714  ebfffffe          BL       NoticeSDReportDone
                  |L1.1816|
;;;485                }
;;;486                
;;;487                modemFTPBurninCounter++;
000718  e59f00f0          LDR      r0,|L1.2064|
00071c  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninCounter
000720  e2800001          ADD      r0,r0,#1
000724  e59f10e4          LDR      r1,|L1.2064|
000728  e5810000          STR      r0,[r1,#0]  ; modemFTPBurninCounter
;;;488                //Get Filename of Last Test Report
;;;489                //filename = GetLastBurninLogFilename();
;;;490                //if (filename == NULL)
;;;491                //{
;;;492                //    modemFTPBurninErrorCounter_GetFile++;
;;;493                //    lastFTPTime = GetCurrentUTCTime();
;;;494                //    continue;
;;;495                //}
;;;496                //memcpy(filenameBuffer, filename, BURNIN_LOG_FILENAME_BUFFER_LENGTH);
;;;497                
;;;498                //Read File of Last Test Report
;;;499                //reVal = FileAgentGetData(FILE_AGENT_STORAGE_TYPE_FATFS, "0:", filenameBuffer, &fileDataBuffer, &fileDataLength, &needFree, FALSE);
;;;500                //if ((reVal == FILE_AGENT_RETURN_ERROR) || (fileDataLength == 0))
;;;501                //{
;;;502                //    modemFTPBurninErrorCounter_GetFile++;
;;;503                //    continue;
;;;504                //}
;;;505                //terninalPrintf("QModemFTPCmdTest ==> FileAgentGetData OK [%s]!!!\r\n", filenameBuffer);
;;;506                
;;;507                //Modem Dialup Process
;;;508                modemGoingFTP = TRUE;
00072c  e3a00001          MOV      r0,#1
000730  e59f10dc          LDR      r1,|L1.2068|
000734  e5c10000          STRB     r0,[r1,#0]  ; modemGoingFTP
;;;509                reRetryTimes = 1;//RE_EXECUTE_TIMES;
000738  e28d1a01          ADD      r1,sp,#0x1000
00073c  e5810760          STR      r0,[r1,#0x760]
;;;510                while (reRetryTimes > 0)
000740  ea000047          B        |L1.2148|
                  |L1.1860|
000744  2a2a2a20          DCB      "*** vModemAgentTask [%d times] Error...\r\n",0
000748  764d6f64
00074c  656d4167
000750  656e7454
000754  61736b20
000758  5b256420
00075c  74696d65
000760  735d2045
000764  72726f72
000768  2e2e2e0d
00076c  0a00    
00076e  00                DCB      0
00076f  00                DCB      0
                  |L1.1904|
000770  2a2e2a00          DCB      "*.*",0
                  |L1.1908|
000774  313a00            DCB      "1:",0
000777  00                DCB      0
                  |L1.1912|
000778  323a00            DCB      "2:",0
00077b  00                DCB      0
                  |L1.1916|
00077c  2600              DCB      "&",0
00077e  00                DCB      0
00077f  00                DCB      0
                  |L1.1920|
000780  764d6f64          DCB      "vModemTestTask Going...\r\n",0
000784  656d5465
000788  73745461
00078c  736b2047
000790  6f696e67
000794  2e2e2e0d
000798  0a00    
00079a  00                DCB      0
00079b  00                DCB      0
                  |L1.1948|
00079c  416c7265          DCB      "Already GetDeviceID.\r\n",0
0007a0  61647920
0007a4  47657444
0007a8  65766963
0007ac  6549442e
0007b0  0d0a00  
0007b3  00                DCB      0
                  |L1.1972|
0007b4  303a5c25          DCB      "0:\\%08d\\TestReport",0
0007b8  3038645c
0007bc  54657374
0007c0  5265706f
0007c4  727400  
0007c7  00                DCB      0
                  |L1.1992|
0007c8  303a5c25          DCB      "0:\\%08d\\Parameter",0
0007cc  3038645c
0007d0  50617261
0007d4  6d657465
0007d8  7200    
0007da  00                DCB      0
0007db  00                DCB      0
                  |L1.2012|
0007dc  4275726e          DCB      "Burnin_%08d_%04d%02d%02d%02d%02d%02d.log",0
0007e0  696e5f25
0007e4  3038645f
0007e8  25303464
0007ec  25303264
0007f0  25303264
0007f4  25303264
0007f8  25303264
0007fc  25303264
000800  2e6c6f67
000804  00      
000805  00                DCB      0
000806  00                DCB      0
000807  00                DCB      0
                  |L1.2056|
                          DCD      sdCardBurninErrorCounter
                  |L1.2060|
                          DCD      sdCardBurninCounter
                  |L1.2064|
                          DCD      modemFTPBurninCounter
                  |L1.2068|
                          DCD      modemGoingFTP
                  |L1.2072|
;;;511                {
;;;512                    QModemDialupStart();
000818  ebfffffe          BL       QModemDialupStart
;;;513                    if (QModemDialupProcess() == TRUE)
00081c  ebfffffe          BL       QModemDialupProcess
000820  e3500001          CMP      r0,#1
000824  1a000007          BNE      |L1.2120|
;;;514                    {
;;;515                        memset(ipAddress, 0x00, sizeof(ipAddress));
000828  e3a01014          MOV      r1,#0x14
00082c  e28d0b05          ADD      r0,sp,#0x1400
000830  e2800f73          ADD      r0,r0,#0x1cc
000834  ebfffffe          BL       __aeabi_memclr4
;;;516                        QModemQueryIPAddress(ipAddress);
000838  e28d0b05          ADD      r0,sp,#0x1400
00083c  e2800f73          ADD      r0,r0,#0x1cc
000840  ebfffffe          BL       QModemQueryIPAddress
;;;517                        //terninalPrintf("QModemFTPCmdTest ==> IP Address [%s]!!!\r\n", ipAddress);
;;;518                        break;
000844  ea00000a          B        |L1.2164|
                  |L1.2120|
;;;519                    }
;;;520                    vTaskDelay(500 / portTICK_RATE_MS);
000848  e3a00032          MOV      r0,#0x32
00084c  ebfffffe          BL       vTaskDelay
;;;521                    reRetryTimes--;
000850  e28d0a01          ADD      r0,sp,#0x1000
000854  e5900760          LDR      r0,[r0,#0x760]
000858  e2401001          SUB      r1,r0,#1
00085c  e28d0a01          ADD      r0,sp,#0x1000
000860  e5801760          STR      r1,[r0,#0x760]
                  |L1.2148|
000864  e28d0a01          ADD      r0,sp,#0x1000         ;510
000868  e5900760          LDR      r0,[r0,#0x760]        ;510
00086c  e3500000          CMP      r0,#0                 ;510
000870  caffffe8          BGT      |L1.2072|
                  |L1.2164|
000874  e1a00000          MOV      r0,r0                 ;518
;;;522                }
;;;523                if (reRetryTimes <= 0)
000878  e28d0a01          ADD      r0,sp,#0x1000
00087c  e5900760          LDR      r0,[r0,#0x760]
000880  e3500000          CMP      r0,#0
000884  ca000017          BGT      |L1.2280|
;;;524                {
;;;525                    modemFTPBurninErrorCounter_Dialup++;
000888  e59f0378          LDR      r0,|L1.3080|
00088c  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninErrorCounter_Dialup
000890  e2800001          ADD      r0,r0,#1
000894  e59f136c          LDR      r1,|L1.3080|
000898  e5810000          STR      r0,[r1,#0]  ; modemFTPBurninErrorCounter_Dialup
;;;526                    sprintf(errorMsgBuffer, "QModemFTPCmdTest ==> Dialup Error !!\r\n");
00089c  e28f1fda          ADR      r1,|L1.3084|
0008a0  e28d0b05          ADD      r0,sp,#0x1400
0008a4  e2800098          ADD      r0,r0,#0x98
0008a8  ebfffffe          BL       __2sprintf
;;;527                    AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
0008ac  e28d0b05          ADD      r0,sp,#0x1400
0008b0  e2800098          ADD      r0,r0,#0x98
0008b4  ebfffffe          BL       strlen
0008b8  e58d0050          STR      r0,[sp,#0x50]
0008bc  e1a01000          MOV      r1,r0
0008c0  e28d0b05          ADD      r0,sp,#0x1400
0008c4  e2800098          ADD      r0,r0,#0x98
0008c8  ebfffffe          BL       AppendBurninErrorLog
;;;528                    terninalPrintf(errorMsgBuffer);
0008cc  e28d0b05          ADD      r0,sp,#0x1400
0008d0  e2800098          ADD      r0,r0,#0x98
0008d4  ebfffffe          BL       terninalPrintf
;;;529                    
;;;530                    FTPretryTimes = 0;
0008d8  e3a01000          MOV      r1,#0
0008dc  e28d0a01          ADD      r0,sp,#0x1000
0008e0  e580148c          STR      r1,[r0,#0x48c]
0008e4  ea000254          B        |L1.4668|
                  |L1.2280|
;;;531                }
;;;532                //Modem FTP Send File Process
;;;533                else
;;;534                {
;;;535                    reRetryTimes = 1;
0008e8  e3a00001          MOV      r0,#1
0008ec  e28d1a01          ADD      r1,sp,#0x1000
0008f0  e5810760          STR      r0,[r1,#0x760]
;;;536                    while (reRetryTimes > 0)
0008f4  ea00023e          B        |L1.4596|
                  |L1.2296|
;;;537                    {
;;;538                        QModemFtpClientStart();
0008f8  ebfffffe          BL       QModemFtpClientStart
;;;539                        status = QModemFtpClientProcess();
0008fc  ebfffffe          BL       QModemFtpClientProcess
000900  e28d1a01          ADD      r1,sp,#0x1000
000904  e5810768          STR      r0,[r1,#0x768]
;;;540                        //terninalPrintf("QModemFTPCmdTest ==> Connect Status=%d\r\n", status);
;;;541                        if (status)
000908  e28d1a01          ADD      r1,sp,#0x1000
00090c  e5910768          LDR      r0,[r1,#0x768]
000910  e3500000          CMP      r0,#0
000914  0a00021d          BEQ      |L1.4496|
;;;542                        {
;;;543                            FTPErrorCode1 = 0; 
000918  e3a01000          MOV      r1,#0
00091c  e28d0a01          ADD      r0,sp,#0x1000
000920  e5801494          STR      r1,[r0,#0x494]
;;;544                            FTPErrorCode2 = 0; 
000924  e28d0a01          ADD      r0,sp,#0x1000
000928  e5801490          STR      r1,[r0,#0x490]
;;;545                            
;;;546                            
;;;547                            memset(ErrorFlagStr,0x00,sizeof(ErrorFlagStr));
00092c  e28d0a01          ADD      r0,sp,#0x1000
000930  e5801484          STR      r1,[r0,#0x484]
000934  e5801488          STR      r1,[r0,#0x488]
;;;548                            sprintf(ErrorFlagPath, "%s\\ErrorFlag.txt", paraFilePathTmp);
000938  e28d2a01          ADD      r2,sp,#0x1000
00093c  e2822e62          ADD      r2,r2,#0x620
000940  e28f1fbb          ADR      r1,|L1.3124|
000944  e28d0a01          ADD      r0,sp,#0x1000
000948  e2800fbf          ADD      r0,r0,#0x2fc
00094c  ebfffffe          BL       __2sprintf
;;;549                            f_open(&file, ErrorFlagPath, FA_OPEN_EXISTING |FA_READ);
000950  e3a02001          MOV      r2,#1
000954  e28d1a01          ADD      r1,sp,#0x1000
000958  e2811fbf          ADD      r1,r1,#0x2fc
00095c  e28d0058          ADD      r0,sp,#0x58
000960  ebfffffe          BL       f_open
;;;550                            f_read(&file, ErrorFlagStr, 1, &br);
000964  e28d3054          ADD      r3,sp,#0x54
000968  e3a02001          MOV      r2,#1
00096c  e28d1b05          ADD      r1,sp,#0x1400
000970  e2811084          ADD      r1,r1,#0x84
000974  e28d0058          ADD      r0,sp,#0x58
000978  ebfffffe          BL       f_read
;;;551                            //terninalPrintf("ErrorFlagStr = %s\r\n", ErrorFlagStr);
;;;552                            //terninalPrintf("atoi(ErrorFlagStr) = %d\r\n", atoi(ErrorFlagStr));
;;;553                            //if(lasterrorflag)
;;;554                            if(atoi(ErrorFlagStr) == 1)
00097c  e28d0b05          ADD      r0,sp,#0x1400
000980  e2800084          ADD      r0,r0,#0x84
000984  ebfffffe          BL       atoi
000988  e3500001          CMP      r0,#1
00098c  1a000041          BNE      |L1.2712|
;;;555                            {
;;;556                                //lasterrorflag = FALSE;
;;;557    
;;;558                                
;;;559                                memset(LastFilenameStr,0x00,sizeof(LastFilenameStr));
000990  e3a01040          MOV      r1,#0x40
000994  e28d0a01          ADD      r0,sp,#0x1000
000998  e2800fef          ADD      r0,r0,#0x3bc
00099c  ebfffffe          BL       __aeabi_memclr4
;;;560                                sprintf(LastFilenamePath, "%s\\LastErrFileName.txt", paraFilePathTmp);
0009a0  e28d2a01          ADD      r2,sp,#0x1000
0009a4  e2822e62          ADD      r2,r2,#0x620
0009a8  e28f1fa6          ADR      r1,|L1.3144|
0009ac  e28d0a01          ADD      r0,sp,#0x1000
0009b0  e28000fc          ADD      r0,r0,#0xfc
0009b4  ebfffffe          BL       __2sprintf
;;;561                                f_open(&file, LastFilenamePath, FA_OPEN_EXISTING |FA_READ);
0009b8  e3a02001          MOV      r2,#1
0009bc  e28d1a01          ADD      r1,sp,#0x1000
0009c0  e28110fc          ADD      r1,r1,#0xfc
0009c4  e28d0058          ADD      r0,sp,#0x58
0009c8  ebfffffe          BL       f_open
;;;562                                f_read(&file, LastFilenameStr, sizeof(LastFilenameStr), &br);
0009cc  e28d3054          ADD      r3,sp,#0x54
0009d0  e3a02040          MOV      r2,#0x40
0009d4  e28d1a01          ADD      r1,sp,#0x1000
0009d8  e2811fef          ADD      r1,r1,#0x3bc
0009dc  e28d0058          ADD      r0,sp,#0x58
0009e0  ebfffffe          BL       f_read
;;;563                                //terninalPrintf("LastFilenameStr = %s\r\n", LastFilenameStr);
;;;564                                
;;;565                                memset(LastLogpathStr,0x00,sizeof(LastLogpathStr));
0009e4  e3a01040          MOV      r1,#0x40
0009e8  e28d0a01          ADD      r0,sp,#0x1000
0009ec  e2800fdf          ADD      r0,r0,#0x37c
0009f0  ebfffffe          BL       __aeabi_memclr4
;;;566                                sprintf(LastLogPath, "%s\\LastErrLogpathBuffer.txt", paraFilePathTmp);
0009f4  e28d2a01          ADD      r2,sp,#0x1000
0009f8  e2822e62          ADD      r2,r2,#0x620
0009fc  e28f1f97          ADR      r1,|L1.3168|
000a00  e28d0a01          ADD      r0,sp,#0x1000
000a04  e280007c          ADD      r0,r0,#0x7c
000a08  ebfffffe          BL       __2sprintf
;;;567                                f_open(&file, LastLogPath, FA_OPEN_EXISTING |FA_READ);
000a0c  e3a02001          MOV      r2,#1
000a10  e28d1a01          ADD      r1,sp,#0x1000
000a14  e281107c          ADD      r1,r1,#0x7c
000a18  e28d0058          ADD      r0,sp,#0x58
000a1c  ebfffffe          BL       f_open
;;;568                                f_read(&file, LastLogpathStr, sizeof(LastLogpathStr), &br);
000a20  e28d3054          ADD      r3,sp,#0x54
000a24  e3a02040          MOV      r2,#0x40
000a28  e28d1a01          ADD      r1,sp,#0x1000
000a2c  e2811fdf          ADD      r1,r1,#0x37c
000a30  e28d0058          ADD      r0,sp,#0x58
000a34  ebfffffe          BL       f_read
;;;569                                //terninalPrintf("LastLogpathStr = %s\r\n", LastLogpathStr);
;;;570                                
;;;571                                //FtpClientDeleteFile(TRUE, FTP_PRE_PATH, lastlogpathBuffer, lastfilenameBuffer);
;;;572                                
;;;573                                FtpClientDeleteFile(TRUE, FTP_PRE_PATH, LastLogpathStr, LastFilenameStr);
000a38  e28d3a01          ADD      r3,sp,#0x1000
000a3c  e2833fef          ADD      r3,r3,#0x3bc
000a40  e28d2a01          ADD      r2,sp,#0x1000
000a44  e2822fdf          ADD      r2,r2,#0x37c
000a48  e28f1f8b          ADR      r1,|L1.3196|
000a4c  e3a00001          MOV      r0,#1
000a50  ebfffffe          BL       FtpClientDeleteFile
;;;574                                
;;;575                                FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "ErrorFlag.txt", (uint8_t *)"0", strlen("0"), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000a54  e3a00000          MOV      r0,#0
000a58  e3a01001          MOV      r1,#1
000a5c  e58d0004          STR      r0,[sp,#4]
000a60  e1cd00f8          STRD     r0,r1,[sp,#8]
000a64  e28f3f86          ADR      r3,|L1.3204|
000a68  e28f2f86          ADR      r2,|L1.3208|
000a6c  e58d0010          STR      r0,[sp,#0x10]
000a70  e58d1000          STR      r1,[sp,#0]
000a74  e28d1a01          ADD      r1,sp,#0x1000
000a78  e2811e62          ADD      r1,r1,#0x620
000a7c  e3a00002          MOV      r0,#2
000a80  ebfffffe          BL       FileAgentAddData
;;;576                                
;;;577                                
;;;578                                FTPdeleteflag = FALSE;
000a84  e3a00000          MOV      r0,#0
000a88  e28d1a01          ADD      r1,sp,#0x1000
000a8c  e5810764          STR      r0,[r1,#0x764]
;;;579                                
;;;580                                FtpClientClose();
000a90  ebfffffe          BL       FtpClientClose
;;;581                                
;;;582                                break;
000a94  ea0001da          B        |L1.4612|
                  |L1.2712|
;;;583                            }
;;;584                            
;;;585                            memset(FTPOccupiedFlagStr,0x00,sizeof(FTPOccupiedFlagStr));
000a98  e3a01000          MOV      r1,#0
000a9c  e28d0a01          ADD      r0,sp,#0x1000
000aa0  e580147c          STR      r1,[r0,#0x47c]
000aa4  e5801480          STR      r1,[r0,#0x480]
;;;586                            sprintf(FTPOccupiedPath, "%s\\FTPOccupiedFlag.txt", paraFilePathTmp);
000aa8  e28d2a01          ADD      r2,sp,#0x1000
000aac  e2822e62          ADD      r2,r2,#0x620
000ab0  e28f1e1e          ADR      r1,|L1.3224|
000ab4  e28d0a01          ADD      r0,sp,#0x1000
000ab8  e2800f9f          ADD      r0,r0,#0x27c
000abc  ebfffffe          BL       __2sprintf
;;;587                            f_open(&file, FTPOccupiedPath, FA_OPEN_EXISTING |FA_READ);
000ac0  e3a02001          MOV      r2,#1
000ac4  e28d1a01          ADD      r1,sp,#0x1000
000ac8  e2811f9f          ADD      r1,r1,#0x27c
000acc  e28d0058          ADD      r0,sp,#0x58
000ad0  ebfffffe          BL       f_open
;;;588                            f_read(&file, FTPOccupiedFlagStr, 1, &br);
000ad4  e28d3054          ADD      r3,sp,#0x54
000ad8  e3a02001          MOV      r2,#1
000adc  e28d1b05          ADD      r1,sp,#0x1400
000ae0  e281107c          ADD      r1,r1,#0x7c
000ae4  e28d0058          ADD      r0,sp,#0x58
000ae8  ebfffffe          BL       f_read
;;;589                            //terninalPrintf("FTPOccupiedFlagStr = %s\r\n", FTPOccupiedFlagStr);
;;;590                            //terninalPrintf("atoi(FTPOccupiedFlagStr) = %d\r\n", atoi(FTPOccupiedFlagStr));
;;;591                            
;;;592                            
;;;593                            if(atoi(FTPOccupiedFlagStr) == 1)
000aec  e28d0b05          ADD      r0,sp,#0x1400
000af0  e280007c          ADD      r0,r0,#0x7c
000af4  ebfffffe          BL       atoi
000af8  e3500001          CMP      r0,#1
000afc  1a00007d          BNE      |L1.3320|
;;;594                            {
;;;595                                memset(RecentFilenameStr,0x00,sizeof(RecentFilenameStr));
000b00  e3a01040          MOV      r1,#0x40
000b04  e28d0b05          ADD      r0,sp,#0x1400
000b08  e280003c          ADD      r0,r0,#0x3c
000b0c  ebfffffe          BL       __aeabi_memclr4
;;;596                                sprintf(RecentFilenamePath, "%s\\RecentFileName.txt", paraFilePathTmp);
000b10  e28d2a01          ADD      r2,sp,#0x1000
000b14  e2822e62          ADD      r2,r2,#0x620
000b18  e28f1e19          ADR      r1,|L1.3248|
000b1c  e28d0a01          ADD      r0,sp,#0x1000
000b20  e2800f7f          ADD      r0,r0,#0x1fc
000b24  ebfffffe          BL       __2sprintf
;;;597                                f_open(&file, RecentFilenamePath, FA_OPEN_EXISTING |FA_READ);
000b28  e3a02001          MOV      r2,#1
000b2c  e28d1a01          ADD      r1,sp,#0x1000
000b30  e2811f7f          ADD      r1,r1,#0x1fc
000b34  e28d0058          ADD      r0,sp,#0x58
000b38  ebfffffe          BL       f_open
;;;598                                f_read(&file, RecentFilenameStr, sizeof(RecentFilenameStr), &br);
000b3c  e28d3054          ADD      r3,sp,#0x54
000b40  e3a02040          MOV      r2,#0x40
000b44  e28d1b05          ADD      r1,sp,#0x1400
000b48  e281103c          ADD      r1,r1,#0x3c
000b4c  e28d0058          ADD      r0,sp,#0x58
000b50  ebfffffe          BL       f_read
;;;599                                //terninalPrintf("RecentFilenameStr = %s\r\n", RecentFilenameStr);
;;;600                                
;;;601                                memset(RecentLogpathStr,0x00,sizeof(RecentLogpathStr));
000b54  e3a01040          MOV      r1,#0x40
000b58  e28d0a01          ADD      r0,sp,#0x1000
000b5c  e2800fff          ADD      r0,r0,#0x3fc
000b60  ebfffffe          BL       __aeabi_memclr4
;;;602                                sprintf(RecentLogPath, "%s\\RecentLogpathBuffer.txt", paraFilePathTmp);
000b64  e28d2a01          ADD      r2,sp,#0x1000
000b68  e2822e62          ADD      r2,r2,#0x620
000b6c  e28f1f55          ADR      r1,|L1.3272|
000b70  e28d0a01          ADD      r0,sp,#0x1000
000b74  e2800f5f          ADD      r0,r0,#0x17c
000b78  ebfffffe          BL       __2sprintf
;;;603                                f_open(&file, RecentLogPath, FA_OPEN_EXISTING |FA_READ);
000b7c  e3a02001          MOV      r2,#1
000b80  e28d1a01          ADD      r1,sp,#0x1000
000b84  e2811f5f          ADD      r1,r1,#0x17c
000b88  e28d0058          ADD      r0,sp,#0x58
000b8c  ebfffffe          BL       f_open
;;;604                                f_read(&file, RecentLogpathStr, sizeof(RecentLogpathStr), &br);
000b90  e28d3054          ADD      r3,sp,#0x54
000b94  e3a02040          MOV      r2,#0x40
000b98  e28d1a01          ADD      r1,sp,#0x1000
000b9c  e2811fff          ADD      r1,r1,#0x3fc
000ba0  e28d0058          ADD      r0,sp,#0x58
000ba4  ebfffffe          BL       f_read
;;;605                                //terninalPrintf("RecentLogpathStr = %s\r\n", RecentLogpathStr);
;;;606                                
;;;607                                //FtpClientDeleteFile(TRUE, FTP_PRE_PATH, lastlogpathBuffer, lastfilenameBuffer);
;;;608                                
;;;609                                FtpClientDeleteFile(TRUE, FTP_PRE_PATH, RecentLogpathStr, RecentFilenameStr);
000ba8  e28d3b05          ADD      r3,sp,#0x1400
000bac  e283303c          ADD      r3,r3,#0x3c
000bb0  e28d2a01          ADD      r2,sp,#0x1000
000bb4  e2822fff          ADD      r2,r2,#0x3fc
000bb8  e28f10bc          ADR      r1,|L1.3196|
000bbc  e3a00001          MOV      r0,#1
000bc0  ebfffffe          BL       FtpClientDeleteFile
;;;610                                
;;;611                                FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "FTPOccupiedFlag.txt", (uint8_t *)"0", strlen("0"), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000bc4  e3a00000          MOV      r0,#0
000bc8  e3a01001          MOV      r1,#1
000bcc  e58d0004          STR      r0,[sp,#4]
000bd0  e1cd00f8          STRD     r0,r1,[sp,#8]
000bd4  e28f30a8          ADR      r3,|L1.3204|
000bd8  e28f2f41          ADR      r2,|L1.3300|
000bdc  e58d0010          STR      r0,[sp,#0x10]
000be0  e58d1000          STR      r1,[sp,#0]
000be4  e28d1a01          ADD      r1,sp,#0x1000
000be8  e2811e62          ADD      r1,r1,#0x620
000bec  e3a00002          MOV      r0,#2
000bf0  ebfffffe          BL       FileAgentAddData
;;;612                                
;;;613                                FTPdeleteflag = FALSE;
000bf4  e3a00000          MOV      r0,#0
000bf8  e28d1a01          ADD      r1,sp,#0x1000
000bfc  e5810764          STR      r0,[r1,#0x764]
;;;614                                
;;;615                                FtpClientClose();
000c00  ebfffffe          BL       FtpClientClose
;;;616                                
;;;617                                break;
000c04  ea00017e          B        |L1.4612|
                  |L1.3080|
                          DCD      modemFTPBurninErrorCounter_Dialup
                  |L1.3084|
000c0c  514d6f64          DCB      "QModemFTPCmdTest ==> Dialup Error !!\r\n",0
000c10  656d4654
000c14  50436d64
000c18  54657374
000c1c  203d3d3e
000c20  20446961
000c24  6c757020
000c28  4572726f
000c2c  72202121
000c30  0d0a00  
000c33  00                DCB      0
                  |L1.3124|
000c34  25735c45          DCB      "%s\\ErrorFlag.txt",0
000c38  72726f72
000c3c  466c6167
000c40  2e747874
000c44  00      
000c45  00                DCB      0
000c46  00                DCB      0
000c47  00                DCB      0
                  |L1.3144|
000c48  25735c4c          DCB      "%s\\LastErrFileName.txt",0
000c4c  61737445
000c50  72724669
000c54  6c654e61
000c58  6d652e74
000c5c  787400  
000c5f  00                DCB      0
                  |L1.3168|
000c60  25735c4c          DCB      "%s\\LastErrLogpathBuffer.txt",0
000c64  61737445
000c68  72724c6f
000c6c  67706174
000c70  68427566
000c74  6665722e
000c78  74787400
                  |L1.3196|
000c7c  74657374          DCB      "test/",0
000c80  2f00    
000c82  00                DCB      0
000c83  00                DCB      0
                  |L1.3204|
000c84  3000              DCB      "0",0
000c86  00                DCB      0
000c87  00                DCB      0
                  |L1.3208|
000c88  4572726f          DCB      "ErrorFlag.txt",0
000c8c  72466c61
000c90  672e7478
000c94  7400    
000c96  00                DCB      0
000c97  00                DCB      0
                  |L1.3224|
000c98  25735c46          DCB      "%s\\FTPOccupiedFlag.txt",0
000c9c  54504f63
000ca0  63757069
000ca4  6564466c
000ca8  61672e74
000cac  787400  
000caf  00                DCB      0
                  |L1.3248|
000cb0  25735c52          DCB      "%s\\RecentFileName.txt",0
000cb4  6563656e
000cb8  7446696c
000cbc  654e616d
000cc0  652e7478
000cc4  7400    
000cc6  00                DCB      0
000cc7  00                DCB      0
                  |L1.3272|
000cc8  25735c52          DCB      "%s\\RecentLogpathBuffer.txt",0
000ccc  6563656e
000cd0  744c6f67
000cd4  70617468
000cd8  42756666
000cdc  65722e74
000ce0  787400  
000ce3  00                DCB      0
                  |L1.3300|
000ce4  4654504f          DCB      "FTPOccupiedFlag.txt",0
000ce8  63637570
000cec  69656446
000cf0  6c61672e
000cf4  74787400
                  |L1.3320|
;;;618                                
;;;619                                
;;;620                            }
;;;621                            
;;;622                            
;;;623                            //status = FtpClientSendFile(TRUE, FTP_PRE_PATH, FTP_BURNIN_TEST_LOG_PATH, filenameBuffer, (uint8_t *)reportBuffer, strlen(reportBuffer));
;;;624                            //if(reRetryTimes == 3)
;;;625                            if(FTPretryTimes == 3)
000cf8  e28d0a01          ADD      r0,sp,#0x1000
000cfc  e590048c          LDR      r0,[r0,#0x48c]
000d00  e3500003          CMP      r0,#3
000d04  1a000004          BNE      |L1.3356|
;;;626                            {
;;;627                                sprintf(logpathBuffer,FTP_BURNIN_TEST_LOG_PATH);
000d08  e28f1e39          ADR      r1,|L1.4256|
000d0c  e28d0a01          ADD      r0,sp,#0x1000
000d10  e2800e6e          ADD      r0,r0,#0x6e0
000d14  ebfffffe          BL       __2sprintf
000d18  ea000003          B        |L1.3372|
                  |L1.3356|
;;;628                                //status = FtpClientSendFileEx(TRUE, FTP_PRE_PATH, FTP_BURNIN_TEST_LOG_PATH, filenameBuffer, (uint8_t *)reportBuffer, strlen(reportBuffer),&FTPErrorCode1,&FTPErrorCode2);
;;;629                            }
;;;630                            else
;;;631                            {
;;;632                                sprintf(logpathBuffer,"test/errorlog/");
000d1c  e28f1e39          ADR      r1,|L1.4276|
000d20  e28d0a01          ADD      r0,sp,#0x1000
000d24  e2800e6e          ADD      r0,r0,#0x6e0
000d28  ebfffffe          BL       __2sprintf
                  |L1.3372|
;;;633                                //status = FtpClientSendFileEx(TRUE, FTP_PRE_PATH, "test/errorlog/", filenameBuffer, (uint8_t *)reportBuffer, strlen(reportBuffer),&FTPErrorCode1,&FTPErrorCode2);
;;;634                            }
;;;635                            
;;;636                            FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "FTPOccupiedFlag.txt", (uint8_t *)"1", strlen("1"), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000d2c  e3a00000          MOV      r0,#0
000d30  e3a01001          MOV      r1,#1
000d34  e58d0004          STR      r0,[sp,#4]
000d38  e1cd00f8          STRD     r0,r1,[sp,#8]
000d3c  e28f3d0e          ADR      r3,|L1.4292|
000d40  e24f2064          ADR      r2,|L1.3300|
000d44  e58d0010          STR      r0,[sp,#0x10]
000d48  e58d1000          STR      r1,[sp,#0]
000d4c  e28d1a01          ADD      r1,sp,#0x1000
000d50  e2811e62          ADD      r1,r1,#0x620
000d54  e3a00002          MOV      r0,#2
000d58  ebfffffe          BL       FileAgentAddData
;;;637                            FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "RecentFileName.txt", (uint8_t *)filenameBuffer, strlen(filenameBuffer), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000d5c  e28d0a01          ADD      r0,sp,#0x1000
000d60  e2800e72          ADD      r0,r0,#0x720
000d64  ebfffffe          BL       strlen
000d68  e58d0050          STR      r0,[sp,#0x50]
000d6c  e3a00000          MOV      r0,#0
000d70  e3a01001          MOV      r1,#1
000d74  e58d0004          STR      r0,[sp,#4]
000d78  e1cd00f8          STRD     r0,r1,[sp,#8]
000d7c  e58d0010          STR      r0,[sp,#0x10]
000d80  e59d0050          LDR      r0,[sp,#0x50]
000d84  e58d0000          STR      r0,[sp,#0]
000d88  e28d3a01          ADD      r3,sp,#0x1000
000d8c  e2833e72          ADD      r3,r3,#0x720
000d90  e28f2e33          ADR      r2,|L1.4296|
000d94  e28d1a01          ADD      r1,sp,#0x1000
000d98  e2811e62          ADD      r1,r1,#0x620
000d9c  e3a00002          MOV      r0,#2
000da0  ebfffffe          BL       FileAgentAddData
;;;638                            FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "RecentLogpathBuffer.txt", (uint8_t *)logpathBuffer, strlen(logpathBuffer), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000da4  e28d0a01          ADD      r0,sp,#0x1000
000da8  e2800e6e          ADD      r0,r0,#0x6e0
000dac  ebfffffe          BL       strlen
000db0  e58d0050          STR      r0,[sp,#0x50]
000db4  e3a00000          MOV      r0,#0
000db8  e3a01001          MOV      r1,#1
000dbc  e58d0004          STR      r0,[sp,#4]
000dc0  e1cd00f8          STRD     r0,r1,[sp,#8]
000dc4  e58d0010          STR      r0,[sp,#0x10]
000dc8  e59d0050          LDR      r0,[sp,#0x50]
000dcc  e58d0000          STR      r0,[sp,#0]
000dd0  e28d3a01          ADD      r3,sp,#0x1000
000dd4  e2833e6e          ADD      r3,r3,#0x6e0
000dd8  e28f2fbf          ADR      r2,|L1.4316|
000ddc  e28d1a01          ADD      r1,sp,#0x1000
000de0  e2811e62          ADD      r1,r1,#0x620
000de4  e3a00002          MOV      r0,#2
000de8  ebfffffe          BL       FileAgentAddData
;;;639                            
;;;640                            
;;;641                            status = FtpClientSendFileEx(TRUE, FTP_PRE_PATH, logpathBuffer, filenameBuffer, (uint8_t *)reportBuffer, strlen(reportBuffer),&FTPErrorCode1,&FTPErrorCode2);
000dec  e28d1a01          ADD      r1,sp,#0x1000
000df0  e59105c8          LDR      r0,[r1,#0x5c8]
000df4  ebfffffe          BL       strlen
000df8  e58d0050          STR      r0,[sp,#0x50]
000dfc  e28d2a01          ADD      r2,sp,#0x1000
000e00  e2822e49          ADD      r2,r2,#0x490
000e04  e28d3b05          ADD      r3,sp,#0x1400
000e08  e2833094          ADD      r3,r3,#0x94
000e0c  e28d1a01          ADD      r1,sp,#0x1000
000e10  e59115c8          LDR      r1,[r1,#0x5c8]
000e14  e98d0009          STMIB    sp,{r0,r3}
000e18  e58d1000          STR      r1,[sp,#0]
000e1c  e58d200c          STR      r2,[sp,#0xc]
000e20  e28d3a01          ADD      r3,sp,#0x1000
000e24  e2833e72          ADD      r3,r3,#0x720
000e28  e28d2a01          ADD      r2,sp,#0x1000
000e2c  e2822e6e          ADD      r2,r2,#0x6e0
000e30  e24f1f6f          ADR      r1,|L1.3196|
000e34  e3a00001          MOV      r0,#1
000e38  ebfffffe          BL       FtpClientSendFileEx
000e3c  e28d1a01          ADD      r1,sp,#0x1000
000e40  e5810768          STR      r0,[r1,#0x768]
;;;642                            //status = FtpClientSendFile(TRUE, FTP_PRE_PATH, FTP_BURNIN_TEST_LOG_PATH, filenameBuffer, fileDataBuffer, fileDataLength);
;;;643                            //terninalPrintf("QModemFTPCmdTest ==> Send File Status=%d\r\n", status);
;;;644    
;;;645                            FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "FTPOccupiedFlag.txt", (uint8_t *)"0", strlen("0"), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000e44  e3a00000          MOV      r0,#0
000e48  e3a01001          MOV      r1,#1
000e4c  e58d0004          STR      r0,[sp,#4]
000e50  e1cd00f8          STRD     r0,r1,[sp,#8]
000e54  e24f3f76          ADR      r3,|L1.3204|
000e58  e24f2f5f          ADR      r2,|L1.3300|
000e5c  e58d0010          STR      r0,[sp,#0x10]
000e60  e58d1000          STR      r1,[sp,#0]
000e64  e28d1a01          ADD      r1,sp,#0x1000
000e68  e2811e62          ADD      r1,r1,#0x620
000e6c  e3a00002          MOV      r0,#2
000e70  ebfffffe          BL       FileAgentAddData
;;;646                            
;;;647                            if (status)
000e74  e28d1a01          ADD      r1,sp,#0x1000
000e78  e5910768          LDR      r0,[r1,#0x768]
000e7c  e3500000          CMP      r0,#0
000e80  0a000004          BEQ      |L1.3736|
;;;648                            {
;;;649                                FTPretryTimes = 3;
000e84  e3a00003          MOV      r0,#3
000e88  e28d1a01          ADD      r1,sp,#0x1000
000e8c  e581048c          STR      r0,[r1,#0x48c]
;;;650                                if (FtpClientClose() == FALSE)
000e90  ebfffffe          BL       FtpClientClose
;;;651                                {
;;;652                                    //FTP Close Failed!!
;;;653                                }
;;;654                                break;
000e94  ea0000da          B        |L1.4612|
                  |L1.3736|
;;;655                            }
;;;656                            else
;;;657                            {
;;;658                                
;;;659                                FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "ErrorFlag.txt", (uint8_t *)"1", strlen("1"), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000e98  e3a00000          MOV      r0,#0
000e9c  e3a01001          MOV      r1,#1
000ea0  e58d0004          STR      r0,[sp,#4]
000ea4  e1cd00f8          STRD     r0,r1,[sp,#8]
000ea8  e28f3f85          ADR      r3,|L1.4292|
000eac  e24f2f8b          ADR      r2,|L1.3208|
000eb0  e58d0010          STR      r0,[sp,#0x10]
000eb4  e58d1000          STR      r1,[sp,#0]
000eb8  e28d1a01          ADD      r1,sp,#0x1000
000ebc  e2811e62          ADD      r1,r1,#0x620
000ec0  e3a00002          MOV      r0,#2
000ec4  ebfffffe          BL       FileAgentAddData
;;;660                                FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "LastErrFileName.txt", (uint8_t *)filenameBuffer, strlen(filenameBuffer), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000ec8  e28d0a01          ADD      r0,sp,#0x1000
000ecc  e2800e72          ADD      r0,r0,#0x720
000ed0  ebfffffe          BL       strlen
000ed4  e58d0050          STR      r0,[sp,#0x50]
000ed8  e3a00000          MOV      r0,#0
000edc  e3a01001          MOV      r1,#1
000ee0  e58d0004          STR      r0,[sp,#4]
000ee4  e1cd00f8          STRD     r0,r1,[sp,#8]
000ee8  e58d0010          STR      r0,[sp,#0x10]
000eec  e59d0050          LDR      r0,[sp,#0x50]
000ef0  e58d0000          STR      r0,[sp,#0]
000ef4  e28d3a01          ADD      r3,sp,#0x1000
000ef8  e2833e72          ADD      r3,r3,#0x720
000efc  e28f2e1f          ADR      r2,|L1.4340|
000f00  e28d1a01          ADD      r1,sp,#0x1000
000f04  e2811e62          ADD      r1,r1,#0x620
000f08  e3a00002          MOV      r0,#2
000f0c  ebfffffe          BL       FileAgentAddData
;;;661                                FileAgentAddData(FILE_AGENT_STORAGE_TYPE_FATFS, paraFilePathTmp, "LastErrLogpathBuffer.txt", (uint8_t *)logpathBuffer, strlen(logpathBuffer), FILE_AGENT_ADD_DATA_TYPE_OVERWRITE, FALSE, TRUE, FALSE);
000f10  e28d0a01          ADD      r0,sp,#0x1000
000f14  e2800e6e          ADD      r0,r0,#0x6e0
000f18  ebfffffe          BL       strlen
000f1c  e58d0050          STR      r0,[sp,#0x50]
000f20  e3a00000          MOV      r0,#0
000f24  e3a01001          MOV      r1,#1
000f28  e58d0004          STR      r0,[sp,#4]
000f2c  e1cd00f8          STRD     r0,r1,[sp,#8]
000f30  e58d0010          STR      r0,[sp,#0x10]
000f34  e59d0050          LDR      r0,[sp,#0x50]
000f38  e58d0000          STR      r0,[sp,#0]
000f3c  e28d3a01          ADD      r3,sp,#0x1000
000f40  e2833e6e          ADD      r3,r3,#0x6e0
000f44  e28f2f6f          ADR      r2,|L1.4360|
000f48  e28d1a01          ADD      r1,sp,#0x1000
000f4c  e2811e62          ADD      r1,r1,#0x620
000f50  e3a00002          MOV      r0,#2
000f54  ebfffffe          BL       FileAgentAddData
;;;662                                FTPdeleteflag = TRUE;
000f58  e3a00001          MOV      r0,#1
000f5c  e28d1a01          ADD      r1,sp,#0x1000
000f60  e5810764          STR      r0,[r1,#0x764]
;;;663                                //lasterrorflag = TRUE;
;;;664                                memcpy(lastfilenameBuffer,filenameBuffer,sizeof(lastfilenameBuffer));
000f64  e3a02040          MOV      r2,#0x40
000f68  e28d1a01          ADD      r1,sp,#0x1000
000f6c  e2811e72          ADD      r1,r1,#0x720
000f70  e28d0a01          ADD      r0,sp,#0x1000
000f74  e2800e6a          ADD      r0,r0,#0x6a0
000f78  ebfffffe          BL       __aeabi_memcpy4
;;;665                                memcpy(lastlogpathBuffer,logpathBuffer,sizeof(lastlogpathBuffer));
000f7c  e3a02040          MOV      r2,#0x40
000f80  e28d1a01          ADD      r1,sp,#0x1000
000f84  e2811e6e          ADD      r1,r1,#0x6e0
000f88  e28d0a01          ADD      r0,sp,#0x1000
000f8c  e2800e66          ADD      r0,r0,#0x660
000f90  ebfffffe          BL       __aeabi_memcpy4
;;;666                                
;;;667                                //sprintf(filenameBuffer, "Burnin_%08d_%04d%02d%02d%02d%02d%02d_Resend.log", GetDeviceID(), pt.u32Year, pt.u32cMonth, pt.u32cDay, pt.u32cHour, pt.u32cMinute, pt.u32cSecond);
;;;668                                sprintf(filenameBuffer, "Burnin_%08d_%04d%02d%02d%02d%02d%02d_Resend%02d_%02d_%02d.log", GetDeviceID(), pt.u32Year, pt.u32cMonth, pt.u32cDay, pt.u32cHour, pt.u32cMinute, pt.u32cSecond,4-FTPretryTimes, FTPErrorCode1,FTPErrorCode2);
000f94  ebfffffe          BL       GetDeviceID
000f98  e58d0050          STR      r0,[sp,#0x50]
000f9c  e28d1a01          ADD      r1,sp,#0x1000
000fa0  e28d0a01          ADD      r0,sp,#0x1000
000fa4  e5912490          LDR      r2,[r1,#0x490]
000fa8  e5913494          LDR      r3,[r1,#0x494]
000fac  e590048c          LDR      r0,[r0,#0x48c]
000fb0  e2601004          RSB      r1,r0,#4
000fb4  e28d0a01          ADD      r0,sp,#0x1000
000fb8  e590059c          LDR      r0,[r0,#0x59c]
000fbc  e28dc010          ADD      r12,sp,#0x10
000fc0  e88c000b          STM      r12,{r0,r1,r3}
000fc4  e58d201c          STR      r2,[sp,#0x1c]
000fc8  e28d0a01          ADD      r0,sp,#0x1000
000fcc  e59015a4          LDR      r1,[r0,#0x5a4]
000fd0  e59025a0          LDR      r2,[r0,#0x5a0]
000fd4  e59035b0          LDR      r3,[r0,#0x5b0]
000fd8  e59005ac          LDR      r0,[r0,#0x5ac]
000fdc  e98d0007          STMIB    sp,{r0-r2}
000fe0  e58d3000          STR      r3,[sp,#0]
000fe4  e28d0a01          ADD      r0,sp,#0x1000
000fe8  e59015b4          LDR      r1,[r0,#0x5b4]
000fec  e58d104c          STR      r1,[sp,#0x4c]
000ff0  e1a03001          MOV      r3,r1
000ff4  e28f1f4a          ADR      r1,|L1.4388|
000ff8  e59d2050          LDR      r2,[sp,#0x50]
000ffc  e28d0a01          ADD      r0,sp,#0x1000
001000  e2800e72          ADD      r0,r0,#0x720
001004  ebfffffe          BL       __2sprintf
;;;669                                sprintf(errorMsgBuffer, "QModemFTPCmdTest ==> Upload File Error !!\r\n");
001008  e28f1f55          ADR      r1,|L1.4452|
00100c  e28d0b05          ADD      r0,sp,#0x1400
001010  e2800098          ADD      r0,r0,#0x98
001014  ebfffffe          BL       __2sprintf
;;;670                                AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
001018  e28d0b05          ADD      r0,sp,#0x1400
00101c  e2800098          ADD      r0,r0,#0x98
001020  ebfffffe          BL       strlen
001024  e58d0050          STR      r0,[sp,#0x50]
001028  e1a01000          MOV      r1,r0
00102c  e28d0b05          ADD      r0,sp,#0x1400
001030  e2800098          ADD      r0,r0,#0x98
001034  ebfffffe          BL       AppendBurninErrorLog
;;;671                                terninalPrintf(errorMsgBuffer);
001038  e28d0b05          ADD      r0,sp,#0x1400
00103c  e2800098          ADD      r0,r0,#0x98
001040  ebfffffe          BL       terninalPrintf
;;;672                                
;;;673                                FTPretryTimes--;
001044  e28d1a01          ADD      r1,sp,#0x1000
001048  e591048c          LDR      r0,[r1,#0x48c]
00104c  e2400001          SUB      r0,r0,#1
001050  e581048c          STR      r0,[r1,#0x48c]
;;;674                                
;;;675                                //terninalPrintf("MODEM reset.\r\n");
;;;676                                //Reset pin GPG8
;;;677                                outpw(REG_SYS_GPG_MFPH,(inpw(REG_SYS_GPG_MFPH) & ~(0xFu<<0)) | (0x0u<<0));
001054  e3a0020b          MOV      r0,#0xb0000000
001058  e59000a4          LDR      r0,[r0,#0xa4]
00105c  e3c0000f          BIC      r0,r0,#0xf
001060  e3a0120b          MOV      r1,#0xb0000000
001064  e58100a4          STR      r0,[r1,#0xa4]
;;;678                                GPIO_OpenBit(GPIOG, BIT8, DIR_OUTPUT, NO_PULL_UP);
001068  e3a03000          MOV      r3,#0
00106c  e3a02001          MOV      r2,#1
001070  e3a01c01          MOV      r1,#0x100
001074  e3a00d06          MOV      r0,#0x180
001078  ebfffffe          BL       GPIO_OpenBit
;;;679                                GPIO_ClrBit(GPIOG, BIT8);
00107c  e3a01c01          MOV      r1,#0x100
001080  e3a00d06          MOV      r0,#0x180
001084  ebfffffe          BL       GPIO_ClrBit
;;;680                                vTaskDelay(1000/portTICK_RATE_MS);
001088  e3a00064          MOV      r0,#0x64
00108c  ebfffffe          BL       vTaskDelay
;;;681                                GPIO_SetBit(GPIOG, BIT8);
001090  e3a01c01          MOV      r1,#0x100
001094  e3a00d06          MOV      r0,#0x180
001098  ebfffffe          BL       GPIO_SetBit
00109c  ea00004d          B        |L1.4568|
                  |L1.4256|
0010a0  74657374          DCB      "test/burntestlog/",0
0010a4  2f627572
0010a8  6e746573
0010ac  746c6f67
0010b0  2f00    
0010b2  00                DCB      0
0010b3  00                DCB      0
                  |L1.4276|
0010b4  74657374          DCB      "test/errorlog/",0
0010b8  2f657272
0010bc  6f726c6f
0010c0  672f00  
0010c3  00                DCB      0
                  |L1.4292|
0010c4  3100              DCB      "1",0
0010c6  00                DCB      0
0010c7  00                DCB      0
                  |L1.4296|
0010c8  52656365          DCB      "RecentFileName.txt",0
0010cc  6e744669
0010d0  6c654e61
0010d4  6d652e74
0010d8  787400  
0010db  00                DCB      0
                  |L1.4316|
0010dc  52656365          DCB      "RecentLogpathBuffer.txt",0
0010e0  6e744c6f
0010e4  67706174
0010e8  68427566
0010ec  6665722e
0010f0  74787400
                  |L1.4340|
0010f4  4c617374          DCB      "LastErrFileName.txt",0
0010f8  45727246
0010fc  696c654e
001100  616d652e
001104  74787400
                  |L1.4360|
001108  4c617374          DCB      "LastErrLogpathBuffer.txt",0
00110c  4572724c
001110  6f677061
001114  74684275
001118  66666572
00111c  2e747874
001120  00      
001121  00                DCB      0
001122  00                DCB      0
001123  00                DCB      0
                  |L1.4388|
001124  4275726e          DCB      "Burnin_%08d_%04d%02d%02d%02d%02d%02d_Resend%02d_%02d_%0"
001128  696e5f25
00112c  3038645f
001130  25303464
001134  25303264
001138  25303264
00113c  25303264
001140  25303264
001144  25303264
001148  5f526573
00114c  656e6425
001150  3032645f
001154  25303264
001158  5f2530  
00115b  32642e6c          DCB      "2d.log",0
00115f  6f6700  
001162  00                DCB      0
001163  00                DCB      0
                  |L1.4452|
001164  514d6f64          DCB      "QModemFTPCmdTest ==> Upload File Error !!\r\n",0
001168  656d4654
00116c  50436d64
001170  54657374
001174  203d3d3e
001178  2055706c
00117c  6f616420
001180  46696c65
001184  20457272
001188  6f722021
00118c  210d0a00
                  |L1.4496|
;;;682                                
;;;683    
;;;684                                
;;;685                            }
;;;686                        }
;;;687                        else
;;;688                        {
;;;689                            sprintf(errorMsgBuffer, "QModemFTPCmdTest ==> Connect Server Error !!\r\n");
001190  e28f1f76          ADR      r1,|L1.4976|
001194  e28d0b05          ADD      r0,sp,#0x1400
001198  e2800098          ADD      r0,r0,#0x98
00119c  ebfffffe          BL       __2sprintf
;;;690                            AppendBurninErrorLog(errorMsgBuffer, strlen(errorMsgBuffer));
0011a0  e28d0b05          ADD      r0,sp,#0x1400
0011a4  e2800098          ADD      r0,r0,#0x98
0011a8  ebfffffe          BL       strlen
0011ac  e58d0050          STR      r0,[sp,#0x50]
0011b0  e1a01000          MOV      r1,r0
0011b4  e28d0b05          ADD      r0,sp,#0x1400
0011b8  e2800098          ADD      r0,r0,#0x98
0011bc  ebfffffe          BL       AppendBurninErrorLog
;;;691                            terninalPrintf(errorMsgBuffer);
0011c0  e28d0b05          ADD      r0,sp,#0x1400
0011c4  e2800098          ADD      r0,r0,#0x98
0011c8  ebfffffe          BL       terninalPrintf
;;;692                            
;;;693                            FTPretryTimes = 0;
0011cc  e3a01000          MOV      r1,#0
0011d0  e28d0a01          ADD      r0,sp,#0x1000
0011d4  e580148c          STR      r1,[r0,#0x48c]
                  |L1.4568|
;;;694                            
;;;695                        }
;;;696                        vTaskDelay(500 / portTICK_RATE_MS);
0011d8  e3a00032          MOV      r0,#0x32
0011dc  ebfffffe          BL       vTaskDelay
;;;697                        reRetryTimes--;
0011e0  e28d0a01          ADD      r0,sp,#0x1000
0011e4  e5900760          LDR      r0,[r0,#0x760]
0011e8  e2401001          SUB      r1,r0,#1
0011ec  e28d0a01          ADD      r0,sp,#0x1000
0011f0  e5801760          STR      r1,[r0,#0x760]
                  |L1.4596|
0011f4  e28d0a01          ADD      r0,sp,#0x1000         ;536
0011f8  e5900760          LDR      r0,[r0,#0x760]        ;536
0011fc  e3500000          CMP      r0,#0                 ;536
001200  cafffdbc          BGT      |L1.2296|
                  |L1.4612|
001204  e1a00000          MOV      r0,r0                 ;582
;;;698                    }
;;;699                    if ((reRetryTimes <= 0) || (status == FALSE))
001208  e28d0a01          ADD      r0,sp,#0x1000
00120c  e5900760          LDR      r0,[r0,#0x760]
001210  e3500000          CMP      r0,#0
001214  da000003          BLE      |L1.4648|
001218  e28d0a01          ADD      r0,sp,#0x1000
00121c  e5900768          LDR      r0,[r0,#0x768]
001220  e3500000          CMP      r0,#0
001224  1a000004          BNE      |L1.4668|
                  |L1.4648|
;;;700                    {
;;;701                        //FTP Connect Fail or Upload File Failed!!
;;;702                        modemFTPBurninErrorCounter_FTP++;
001228  e59f0170          LDR      r0,|L1.5024|
00122c  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninErrorCounter_FTP
001230  e2800001          ADD      r0,r0,#1
001234  e59f1164          LDR      r1,|L1.5024|
001238  e5810000          STR      r0,[r1,#0]  ; modemFTPBurninErrorCounter_FTP
                  |L1.4668|
;;;703                    }
;;;704                }
;;;705                
;;;706                //if (needFree)
;;;707                //{
;;;708                //    vPortFree(fileDataBuffer);
;;;709                //}
;;;710                //lastFTPTime = GetCurrentUTCTime();
;;;711                modemGoingFTP = FALSE;
00123c  e3a00000          MOV      r0,#0
001240  e51f1a34          LDR      r1,|L1.2068|
001244  e5c10000          STRB     r0,[r1,#0]  ; modemGoingFTP
;;;712                if (GetPrepareStopBurninFlag())
001248  ebfffffe          BL       GetPrepareStopBurninFlag
00124c  e3500000          CMP      r0,#0
001250  0a000022          BEQ      |L1.4832|
;;;713                {
;;;714                    NoticeFTPReportDone();
001254  ebfffffe          BL       NoticeFTPReportDone
;;;715                    terninalPrintf("vModemTestTask Terminated !!\r\n");
001258  e28f0f51          ADR      r0,|L1.5028|
00125c  ebfffffe          BL       terninalPrintf
;;;716                    vTaskDelete(NULL);
001260  e3a00000          MOV      r0,#0
001264  ebfffffe          BL       vTaskDelete
001268  ea00001c          B        |L1.4832|
                  |L1.4716|
;;;717                }
;;;718            }
;;;719            else if (testLoop)
00126c  e28d0a01          ADD      r0,sp,#0x1000
001270  e5900770          LDR      r0,[r0,#0x770]
001274  e3500000          CMP      r0,#0
001278  0a000015          BEQ      |L1.4820|
;;;720            {
;;;721                testLoop = FALSE;
00127c  e3a01000          MOV      r1,#0
001280  e28d0a01          ADD      r0,sp,#0x1000
001284  e5801770          STR      r1,[r0,#0x770]
;;;722                status = QModemATCmdTest();
001288  ebfffffe          BL       QModemATCmdTest
00128c  e1a01000          MOV      r1,r0
001290  e28d0a01          ADD      r0,sp,#0x1000
001294  e5801768          STR      r1,[r0,#0x768]
;;;723                modemATBurninCounter++;
001298  e59f0124          LDR      r0,|L1.5060|
00129c  e5900000          LDR      r0,[r0,#0]  ; modemATBurninCounter
0012a0  e2800001          ADD      r0,r0,#1
0012a4  e59f1118          LDR      r1,|L1.5060|
0012a8  e5810000          STR      r0,[r1,#0]  ; modemATBurninCounter
;;;724                if (!status) {
0012ac  e28d0a01          ADD      r0,sp,#0x1000
0012b0  e5900768          LDR      r0,[r0,#0x768]
0012b4  e3500000          CMP      r0,#0
0012b8  1a000008          BNE      |L1.4832|
;;;725                    modemATBurninErrorCounter++;
0012bc  e59f0104          LDR      r0,|L1.5064|
0012c0  e5900000          LDR      r0,[r0,#0]  ; modemATBurninErrorCounter
0012c4  e2800001          ADD      r0,r0,#1
0012c8  e59f10f8          LDR      r1,|L1.5064|
0012cc  e5810000          STR      r0,[r1,#0]  ; modemATBurninErrorCounter
0012d0  ea000002          B        |L1.4832|
                  |L1.4820|
;;;726                }
;;;727                //terninalPrintf("QModemATCmdTest status=%d\r\n", status);
;;;728            }
;;;729            else
;;;730            {
;;;731                vTaskDelay(100 / portTICK_RATE_MS);
0012d4  e3a0000a          MOV      r0,#0xa
0012d8  ebfffffe          BL       vTaskDelay
;;;732                continue;
0012dc  ea000000          B        |L1.4836|
                  |L1.4832|
0012e0  e1a00000          MOV      r0,r0
                  |L1.4836|
0012e4  eafffc86          B        |L1.1284|
;;;733            }
;;;734        }
;;;735    }
;;;736    #endif
                          ENDP

                  hwInit PROC
;;;740    
;;;741    static BOOL hwInit(void)
0012e8  e3a00001          MOV      r0,#1
;;;742    {   
;;;743        return TRUE;
;;;744    }
0012ec  e12fff1e          BX       lr
;;;745    
                          ENDP

                  swInit PROC
;;;746    static BOOL swInit(void)
0012f0  e92d401c          PUSH     {r2-r4,lr}
;;;747    {   
;;;748        if(DataProcessLibInit() == FALSE) 
0012f4  ebfffffe          BL       DataProcessLibInit
0012f8  e3500000          CMP      r0,#0
0012fc  1a000001          BNE      |L1.4872|
;;;749        {
;;;750            return FALSE;
001300  e3a00000          MOV      r0,#0
                  |L1.4868|
;;;751        }
;;;752        PowerRegCallback(&modemAgentPowerCallabck);
;;;753        xModemAgentSemaphore = xSemaphoreCreateBinary();
;;;754        xModemRoutineSemaphore = xSemaphoreCreateBinary();
;;;755        xTaskCreate( vModemAgentTask, "vModemAgentTask", 1024*20, NULL, MODEM_AGENT_TX_THREAD_PROI, NULL ); 
;;;756        //xTaskCreate( vModemAgentRoutineTask, "vModemAgentRoutineTask", 1024 * 10, NULL, MODEM_AGENT_ROUTINE_THREAD_PROI, NULL ); 
;;;757        
;;;758        return QModemLibInit(921600);
;;;759    }
001304  e8bd801c          POP      {r2-r4,pc}
                  |L1.4872|
001308  e59f00bc          LDR      r0,|L1.5068|
00130c  ebfffffe          BL       PowerRegCallback
001310  e3a02003          MOV      r2,#3                 ;753
001314  e3a01000          MOV      r1,#0                 ;753
001318  e3a00001          MOV      r0,#1                 ;753
00131c  ebfffffe          BL       xQueueGenericCreate
001320  e59f10a8          LDR      r1,|L1.5072|
001324  e5810000          STR      r0,[r1,#0]            ;753  ; xModemAgentSemaphore
001328  e3a02003          MOV      r2,#3                 ;754
00132c  e3a01000          MOV      r1,#0                 ;754
001330  e3a00001          MOV      r0,#1                 ;754
001334  ebfffffe          BL       xQueueGenericCreate
001338  e59f1094          LDR      r1,|L1.5076|
00133c  e5810000          STR      r0,[r1,#0]            ;754  ; xModemRoutineSemaphore
001340  e3a00000          MOV      r0,#0                 ;755
001344  e3a01003          MOV      r1,#3                 ;755
001348  e58d0004          STR      r0,[sp,#4]            ;755
00134c  e1a03000          MOV      r3,r0                 ;755
001350  e3a02a05          MOV      r2,#0x5000            ;755
001354  e58d1000          STR      r1,[sp,#0]            ;755
001358  e28f1078          ADR      r1,|L1.5080|
00135c  e59f0084          LDR      r0,|L1.5096|
001360  ebfffffe          BL       xTaskCreate
001364  e3a00ae1          MOV      r0,#0xe1000           ;758
001368  ebfffffe          BL       QModemLibInit
00136c  eaffffe4          B        |L1.4868|
                  |L1.4976|
001370  514d6f64          DCB      "QModemFTPCmdTest ==> Connect Server Error !!\r\n",0
001374  656d4654
001378  50436d64
00137c  54657374
001380  203d3d3e
001384  20436f6e
001388  6e656374
00138c  20536572
001390  76657220
001394  4572726f
001398  72202121
00139c  0d0a00  
00139f  00                DCB      0
                  |L1.5024|
                          DCD      modemFTPBurninErrorCounter_FTP
                  |L1.5028|
0013a4  764d6f64          DCB      "vModemTestTask Terminated !!\r\n",0
0013a8  656d5465
0013ac  73745461
0013b0  736b2054
0013b4  65726d69
0013b8  6e617465
0013bc  64202121
0013c0  0d0a00  
0013c3  00                DCB      0
                  |L1.5060|
                          DCD      modemATBurninCounter
                  |L1.5064|
                          DCD      modemATBurninErrorCounter
                  |L1.5068|
                          DCD      modemAgentPowerCallabck
                  |L1.5072|
                          DCD      xModemAgentSemaphore
                  |L1.5076|
                          DCD      xModemRoutineSemaphore
                  |L1.5080|
0013d8  764d6f64          DCB      "vModemAgentTask",0
0013dc  656d4167
0013e0  656e7454
0013e4  61736b00
                  |L1.5096|
                          DCD      vModemAgentTask
                          ENDP

                  ModemAgentInit PROC
;;;763    
;;;764    BOOL ModemAgentInit(BOOL testModeFlag)
0013ec  e92d401c          PUSH     {r2-r4,lr}
;;;765    {
0013f0  e1a04000          MOV      r4,r0
;;;766        sysprintf("ModemAgentInit (%s) (%s) \r\n", WEB_POST_ADDRESS, FTP_CONNECTING_CMD(FTP_ADDRESS, FTP_PORT));
0013f4  e28f2f55          ADR      r2,|L1.5456|
0013f8  e28f1f5f          ADR      r1,|L1.5500|
0013fc  e28f0f66          ADR      r0,|L1.5532|
001400  ebfffffe          BL       sysprintf
;;;767        
;;;768        if(hwInit() == FALSE)
001404  ebfffffe          BL       hwInit
001408  e3500000          CMP      r0,#0
00140c  1a000003          BNE      |L1.5152|
;;;769        {
;;;770            sysprintf("ModemAgentInit ERROR (hwInit false)!!\n");
001410  e28f0e1a          ADR      r0,|L1.5560|
001414  ebfffffe          BL       sysprintf
;;;771            return FALSE;
001418  e3a00000          MOV      r0,#0
                  |L1.5148|
;;;772        }
;;;773        if(swInit() == FALSE)
;;;774        {
;;;775            sysprintf("ModemAgentInit ERROR (swInit false)!!\n");
;;;776            return FALSE;
;;;777        }
;;;778        
;;;779    #if (ENABLE_BURNIN_TESTER)
;;;780        if (EnabledBurninTestMode())
;;;781        {
;;;782            xTaskCreate(vModemTestTask, "vModemTestTask", 1024*10, NULL, MODEM_TEST_THREAD_PROI, NULL); 
;;;783        }
;;;784    #endif
;;;785        
;;;786        sysprintf("ModemAgentInit OK!!\n");
;;;787        return TRUE;    
;;;788    }
00141c  e8bd801c          POP      {r2-r4,pc}
                  |L1.5152|
001420  ebfffffe          BL       swInit
001424  e3500000          CMP      r0,#0                 ;773
001428  1a000003          BNE      |L1.5180|
00142c  e28f0f6b          ADR      r0,|L1.5600|
001430  ebfffffe          BL       sysprintf
001434  e3a00000          MOV      r0,#0                 ;776
001438  eafffff7          B        |L1.5148|
                  |L1.5180|
00143c  ebfffffe          BL       EnabledBurninTestMode
001440  e3500000          CMP      r0,#0                 ;780
001444  0a000008          BEQ      |L1.5228|
001448  e3a00000          MOV      r0,#0                 ;782
00144c  e3a01002          MOV      r1,#2                 ;782
001450  e58d0004          STR      r0,[sp,#4]            ;782
001454  e1a03000          MOV      r3,r0                 ;782
001458  e3a02b0a          MOV      r2,#0x2800            ;782
00145c  e58d1000          STR      r1,[sp,#0]            ;782
001460  e28f1e1a          ADR      r1,|L1.5640|
001464  e59f01ac          LDR      r0,|L1.5656|
001468  ebfffffe          BL       xTaskCreate
                  |L1.5228|
00146c  e28f0f6a          ADR      r0,|L1.5660|
001470  ebfffffe          BL       sysprintf
001474  e3a00001          MOV      r0,#1                 ;787
001478  eaffffe7          B        |L1.5148|
;;;789    
                          ENDP

                  ModemAgentStartSend PROC
;;;790    
;;;791    BOOL ModemAgentStartSend(DataProcessId id)
00147c  e92d4010          PUSH     {r4,lr}
;;;792    {
001480  e1a04000          MOV      r4,r0
;;;793        if(xModemAgentSemaphore == NULL)
001484  e51f00bc          LDR      r0,|L1.5072|
001488  e5900000          LDR      r0,[r0,#0]  ; xModemAgentSemaphore
00148c  e3500000          CMP      r0,#0
001490  1a000004          BNE      |L1.5288|
;;;794        {
;;;795            sysprintf(" -- [Modem Agent] --  ModemAgentStartSend [DataProcessId = %d], IGNORE...\r\n", id);  
001494  e1a01004          MOV      r1,r4
001498  e59f0194          LDR      r0,|L1.5684|
00149c  ebfffffe          BL       sysprintf
;;;796            return FALSE;
0014a0  e3a00000          MOV      r0,#0
                  |L1.5284|
;;;797        }
;;;798        sysprintf(" -- [Modem Agent] --  ModemAgentStartSend [DataProcessId = %d]...\r\n", id);  
;;;799        if(DataProcessSetExecuteFlag(id))
;;;800        {
;;;801            xSemaphoreGive(xModemAgentSemaphore); 
;;;802        }
;;;803        return TRUE;
;;;804    }
0014a4  e8bd8010          POP      {r4,pc}
                  |L1.5288|
0014a8  e1a01004          MOV      r1,r4                 ;798
0014ac  e59f0184          LDR      r0,|L1.5688|
0014b0  ebfffffe          BL       sysprintf
0014b4  e1a00004          MOV      r0,r4                 ;799
0014b8  ebfffffe          BL       DataProcessSetExecuteFlag
0014bc  e3500000          CMP      r0,#0                 ;799
0014c0  0a000005          BEQ      |L1.5340|
0014c4  e3a03000          MOV      r3,#0                 ;801
0014c8  e1a02003          MOV      r2,r3                 ;801
0014cc  e1a01003          MOV      r1,r3                 ;801
0014d0  e51f0108          LDR      r0,|L1.5072|
0014d4  e5900000          LDR      r0,[r0,#0]            ;801  ; xModemAgentSemaphore
0014d8  ebfffffe          BL       xQueueGenericSend
                  |L1.5340|
0014dc  e3a00001          MOV      r0,#1                 ;803
0014e0  eaffffef          B        |L1.5284|
;;;805    /*
                          ENDP

                  GetModemATBurninTestCounter PROC
;;;816    #if (ENABLE_BURNIN_TESTER)
;;;817    uint32_t GetModemATBurninTestCounter(void)
0014e4  e51f0128          LDR      r0,|L1.5060|
;;;818    {
;;;819        return modemATBurninCounter;
0014e8  e5900000          LDR      r0,[r0,#0]  ; modemATBurninCounter
;;;820    }
0014ec  e12fff1e          BX       lr
;;;821    
                          ENDP

                  GetModemATBurninTestErrorCounter PROC
;;;822    uint32_t GetModemATBurninTestErrorCounter(void)
0014f0  e51f0130          LDR      r0,|L1.5064|
;;;823    {
;;;824        return modemATBurninErrorCounter;
0014f4  e5900000          LDR      r0,[r0,#0]  ; modemATBurninErrorCounter
;;;825    }
0014f8  e12fff1e          BX       lr
;;;826    
                          ENDP

                  GetModemFTPBurninTestCounter PROC
;;;827    uint32_t GetModemFTPBurninTestCounter(void)
0014fc  e51f0cf4          LDR      r0,|L1.2064|
;;;828    {
;;;829        return modemFTPBurninCounter;
001500  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninCounter
;;;830    }
001504  e12fff1e          BX       lr
;;;831    
                          ENDP

                  GetModemFTPBurninTestErrorCounter PROC
;;;832    uint32_t GetModemFTPBurninTestErrorCounter(void)
001508  e51f0170          LDR      r0,|L1.5024|
;;;833    {
;;;834        return modemFTPBurninErrorCounter_FTP;
00150c  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninErrorCounter_FTP
;;;835    }
001510  e12fff1e          BX       lr
;;;836    
                          ENDP

                  GetModemDialupBurninTestErrorCounter PROC
;;;837    uint32_t GetModemDialupBurninTestErrorCounter(void)
001514  e51f0914          LDR      r0,|L1.3080|
;;;838    {
;;;839        return modemFTPBurninErrorCounter_Dialup;
001518  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninErrorCounter_Dialup
;;;840    }
00151c  e12fff1e          BX       lr
;;;841    
                          ENDP

                  GetModemFileBurninTestErrorCounter PROC
;;;842    uint32_t GetModemFileBurninTestErrorCounter(void)
001520  e59f0114          LDR      r0,|L1.5692|
;;;843    {
;;;844        return modemFTPBurninErrorCounter_GetFile;
001524  e5900000          LDR      r0,[r0,#0]  ; modemFTPBurninErrorCounter_GetFile
;;;845    }
001528  e12fff1e          BX       lr
;;;846    
                          ENDP

                  GetModemFTPRunningStatus PROC
;;;847    BOOL GetModemFTPRunningStatus(void)
00152c  e51f0d20          LDR      r0,|L1.2068|
;;;848    {
;;;849        return modemGoingFTP;
001530  e5d00000          LDRB     r0,[r0,#0]  ; modemGoingFTP
;;;850    }
001534  e12fff1e          BX       lr
;;;851    
                          ENDP

                  GetSDCardBurninTestCounter PROC
;;;852    uint32_t GetSDCardBurninTestCounter(void)
001538  e51f0d34          LDR      r0,|L1.2060|
;;;853    {
;;;854        return sdCardBurninCounter;
00153c  e5900000          LDR      r0,[r0,#0]  ; sdCardBurninCounter
;;;855    }
001540  e12fff1e          BX       lr
;;;856    
                          ENDP

                  GetSDCardBurninTestErrorCounter PROC
;;;857    uint32_t GetSDCardBurninTestErrorCounter(void)
001544  e51f0d44          LDR      r0,|L1.2056|
;;;858    {
;;;859        return sdCardBurninErrorCounter;
001548  e5900000          LDR      r0,[r0,#0]  ; sdCardBurninErrorCounter
;;;860    }
00154c  e12fff1e          BX       lr
;;;861    #endif
                          ENDP

                  |L1.5456|
001550  41542b51          DCB      "AT+QFTPOPEN=""ftp.green-ideas.com.tw"",21\r\n",0
001554  4654504f
001558  50454e3d
00155c  22667470
001560  2e677265
001564  656e2d69
001568  64656173
00156c  2e636f6d
001570  2e747722
001574  2c32310d
001578  0a00    
00157a  00                DCB      0
00157b  00                DCB      0
                  |L1.5500|
00157c  68747470          DCB      "http://210.17.120.42/DCU/api/",0
001580  3a2f2f32
001584  31302e31
001588  372e3132
00158c  302e3432
001590  2f444355
001594  2f617069
001598  2f00    
00159a  00                DCB      0
00159b  00                DCB      0
                  |L1.5532|
00159c  4d6f6465          DCB      "ModemAgentInit (%s) (%s) \r\n",0
0015a0  6d416765
0015a4  6e74496e
0015a8  69742028
0015ac  25732920
0015b0  28257329
0015b4  200d0a00
                  |L1.5560|
0015b8  4d6f6465          DCB      "ModemAgentInit ERROR (hwInit false)!!\n",0
0015bc  6d416765
0015c0  6e74496e
0015c4  69742045
0015c8  52524f52
0015cc  20286877
0015d0  496e6974
0015d4  2066616c
0015d8  73652921
0015dc  210a00  
0015df  00                DCB      0
                  |L1.5600|
0015e0  4d6f6465          DCB      "ModemAgentInit ERROR (swInit false)!!\n",0
0015e4  6d416765
0015e8  6e74496e
0015ec  69742045
0015f0  52524f52
0015f4  20287377
0015f8  496e6974
0015fc  2066616c
001600  73652921
001604  210a00  
001607  00                DCB      0
                  |L1.5640|
001608  764d6f64          DCB      "vModemTestTask",0
00160c  656d5465
001610  73745461
001614  736b00  
001617  00                DCB      0
                  |L1.5656|
                          DCD      vModemTestTask
                  |L1.5660|
00161c  4d6f6465          DCB      "ModemAgentInit OK!!\n",0
001620  6d416765
001624  6e74496e
001628  6974204f
00162c  4b21210a
001630  00      
001631  00                DCB      0
001632  00                DCB      0
001633  00                DCB      0
                  |L1.5684|
                          DCD      ||.constdata||
                  |L1.5688|
                          DCD      ||.constdata||+0x4c
                  |L1.5692|
                          DCD      modemFTPBurninErrorCounter_GetFile

                          AREA ||.constdata||, DATA, READONLY, ALIGN=2

000000  202d2d20          DCB      0x20,0x2d,0x2d,0x20
000004  5b4d6f64          DCB      0x5b,0x4d,0x6f,0x64
000008  656d2041          DCB      0x65,0x6d,0x20,0x41
00000c  67656e74          DCB      0x67,0x65,0x6e,0x74
000010  5d202d2d          DCB      0x5d,0x20,0x2d,0x2d
000014  20204d6f          DCB      0x20,0x20,0x4d,0x6f
000018  64656d41          DCB      0x64,0x65,0x6d,0x41
00001c  67656e74          DCB      0x67,0x65,0x6e,0x74
000020  53746172          DCB      0x53,0x74,0x61,0x72
000024  7453656e          DCB      0x74,0x53,0x65,0x6e
000028  64205b44          DCB      0x64,0x20,0x5b,0x44
00002c  61746150          DCB      0x61,0x74,0x61,0x50
000030  726f6365          DCB      0x72,0x6f,0x63,0x65
000034  73734964          DCB      0x73,0x73,0x49,0x64
000038  203d2025          DCB      0x20,0x3d,0x20,0x25
00003c  645d2c20          DCB      0x64,0x5d,0x2c,0x20
000040  49474e4f          DCB      0x49,0x47,0x4e,0x4f
000044  52452e2e          DCB      0x52,0x45,0x2e,0x2e
000048  2e0d0a00          DCB      0x2e,0x0d,0x0a,0x00
00004c  202d2d20          DCB      0x20,0x2d,0x2d,0x20
000050  5b4d6f64          DCB      0x5b,0x4d,0x6f,0x64
000054  656d2041          DCB      0x65,0x6d,0x20,0x41
000058  67656e74          DCB      0x67,0x65,0x6e,0x74
00005c  5d202d2d          DCB      0x5d,0x20,0x2d,0x2d
000060  20204d6f          DCB      0x20,0x20,0x4d,0x6f
000064  64656d41          DCB      0x64,0x65,0x6d,0x41
000068  67656e74          DCB      0x67,0x65,0x6e,0x74
00006c  53746172          DCB      0x53,0x74,0x61,0x72
000070  7453656e          DCB      0x74,0x53,0x65,0x6e
000074  64205b44          DCB      0x64,0x20,0x5b,0x44
000078  61746150          DCB      0x61,0x74,0x61,0x50
00007c  726f6365          DCB      0x72,0x6f,0x63,0x65
000080  73734964          DCB      0x73,0x73,0x49,0x64
000084  203d2025          DCB      0x20,0x3d,0x20,0x25
000088  645d2e2e          DCB      0x64,0x5d,0x2e,0x2e
00008c  2e0d0a00          DCB      0x2e,0x0d,0x0a,0x00

                          AREA ||.conststring||, DATA, READONLY, MERGE=1, STRINGS, ALIGN=0

000000  205b4d6f          DCB      " [ModemAgent] ",0
000004  64656d41
000008  67656e74
00000c  5d2000  

                          AREA ||.data||, DATA, ALIGN=2

                  threadModemAgentWaitTime
                          DCD      0xffffffff
                  errortimes
                          DCD      0x00000000
                  modemAgentPowerStatus
000008  01                DCB      0x01
                  modemAgentPowerStatusFlag
000009  000000            DCB      0x00,0x00,0x00
                  modemAgentPowerCallabck
                          DCD      ||.conststring||
                          DCD      ModemAgentPreOffCallback
                          DCD      ModemAgentOffCallback
                          DCD      ModemAgentOnCallback
                          DCD      ModemAgentCheckStatus
                  modemATBurninCounter
                          DCD      0x00000000
                  modemATBurninErrorCounter
                          DCD      0x00000000
                  modemFTPBurninCounter
                          DCD      0x00000000
                  modemFTPBurninErrorCounter_FTP
                          DCD      0x00000000
                  modemFTPBurninErrorCounter_Dialup
                          DCD      0x00000000
                  modemFTPBurninErrorCounter_GetFile
                          DCD      0x00000000
                  sdCardBurninCounter
                          DCD      0x00000000
                  sdCardBurninErrorCounter
                          DCD      0x00000000
                  modemGoingFTP
000040  00000000          DCB      0x00,0x00,0x00,0x00
                  xModemAgentSemaphore
                          DCD      0x00000000
                  xModemRoutineSemaphore
                          DCD      0x00000000
